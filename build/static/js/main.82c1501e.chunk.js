(this.webpackJsonprpum=this.webpackJsonprpum||[]).push([[0],{112:function(e,t,n){"use strict";var a=n(117),r=(n(1),n(103)),c=n(253),i=n(258),o=n(259),l=n(158),s=n(262),u=n(261),d=n(202),j=n(143),b=n(260),O=n(21),m=n(0);function h(e,t){return e.filter((function(e){return-1===t.indexOf(e)}))}function p(e,t){return e.filter((function(e){return-1!==t.indexOf(e)}))}t.a=function(e){var t=e.setListAvailable,n=e.setListCurrent,x=e.listAvailable,g=e.setChecked,f=e.checked,v=e.titleAvailable,y=e.listCurrent,C=e.titleCurrent,S=e.loading,w=p(f,x),k=p(f,y),I=function(e){return function(){var t=f.indexOf(e),n=Object(a.a)(f);-1===t?n.push(e):n.splice(t,1),g(n)}},A=function(e){return p(f,e).length},M=function(e){return function(){var t,n;A(e)===e.length?g(h(f,e)):g((t=f,n=e,[].concat(Object(a.a)(t),Object(a.a)(h(n,t)))))}},E=function(e,t){return Object(m.jsxs)(i.a,{children:[Object(m.jsx)(o.a,{avatar:Object(m.jsx)(d.a,{onClick:M(t),checked:A(t)===t.length&&0!==t.length,indeterminate:A(t)!==t.length&&0!==A(t),disabled:0===t.length,inputProps:{"aria-label":"all items selected"}}),title:e,subheader:"".concat(A(t),"/").concat(t.length," selected")}),Object(m.jsx)(b.a,{}),Object(m.jsxs)(c.a,{dense:!0,component:"div",role:"list",children:[S?Object(m.jsx)(O.a,{}):t.map((function(e){var t="transfer-list-all-item-".concat(e.name,"-label");return Object(m.jsxs)(l.a,{role:"listitem",button:!0,onClick:I(e),children:[Object(m.jsx)(u.a,{children:Object(m.jsx)(d.a,{checked:-1!==f.indexOf(e),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":t}})}),Object(m.jsx)(s.a,{id:t,primary:"".concat(e.name)})]},e.id)})),Object(m.jsx)(l.a,{})]})]})};return Object(m.jsxs)(r.a,{container:!0,spacing:2,justify:"center",alignItems:"center",children:[Object(m.jsx)(r.a,{item:!0,children:E(v,x)}),Object(m.jsx)(r.a,{item:!0,children:Object(m.jsxs)(r.a,{container:!0,direction:"column",alignItems:"center",children:[Object(m.jsx)(j.a,{variant:"outlined",size:"small",onClick:function(){n(y.concat(w)),t(h(x,w)),g(h(f,w))},disabled:0===w.length,"aria-label":"move selected right",children:">"}),Object(m.jsx)(j.a,{variant:"outlined",size:"small",onClick:function(){t(x.concat(k)),n(h(y,k)),g(h(f,k))},disabled:0===k.length,"aria-label":"move selected left",children:"<"})]})}),Object(m.jsx)(r.a,{item:!0,children:E(C,y)})]})}},13:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return s}));var a="Crear",r="Editar",c="Eliminar",i="Ver",o="SuperAdmin",l="Administraci\xf3n de modulos",s="Modulos"},141:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a,r,c=n(117),i=n(3),o=n(12),l=n(5),s=Object(l.gql)(a||(a=Object(o.a)(["\n  mutation updateRole($roleInput: RoleUpdateInput!) {\n    updateRole(roleInput: $roleInput) {\n      id\n      name\n      description\n      modules {\n        id\n        name\n      }\n    }\n  }\n"]))),u=function(){var e=Object(l.useMutation)(s,{update:function(e,t){var n=t.data.updateRole;e.modify({fields:{updateRole:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=e.writeFragment({data:n,fragment:Object(l.gql)(r||(r=Object(o.a)(["\n                fragment NewRole on Role {\n                  id\n                  name\n                  description\n                  modules {\n                    id\n                    name\n                  }\n                }\n              "])))});return[].concat(Object(c.a)(t),[a])}}})}}),t=Object(i.a)(e,2),n=t[0],a=t[1];return{updateRole:n,error:a.error,loading:a.loading}}},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){for(var t=0;t<e.graphQLErrors.length;t++)for(var n=e.graphQLErrors[t].extensions.exception.response.message,a=0;a<n.length;a++){return n[a]}}},182:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var a=n(183);a.config({path:e+"/.env"});var r=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL||"http://localhost:3000/graphql"}).call(this,"/")},191:function(e,t,n){"use strict";var a=n(14),r=n.n(a),c=n(19),i=n(3),o=n(1),l=n(8),s=n(255),u=n(6),d=n(103),j=n(143),b=n(78),O=n(141),m=n(112),h=n(13),p=n(16),x=n(0);t.a=function(t){var n=t.role,a=t.handleClose,g=Object(o.useState)([]),f=Object(i.a)(g,2),v=f[0],y=f[1],C=Object(o.useState)([]),S=Object(i.a)(C,2),w=S[0],k=S[1],I=Object(o.useState)([]),A=Object(i.a)(I,2),M=A[0],E=A[1],D=Object(u.c)(),N=Object(b.b)(),F=Object(O.a)(),R=Object(u.d)((function(e){return e.message})),U=R.type,Y=R.text,q=(Object(u.d)((function(e){return e.authReducer.authUser})),function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=w.map((function(e){return{name:e.name}})),e.prev=2,e.next=5,F.updateRole({variables:{roleInput:{id:n.id,modules:a}}});case 5:return e.abrupt("return",D(Object(l.b)({type:"success",text:"El rol actualiz\xf3 sus modulos correctamente."})));case 8:e.prev=8,e.t0=e.catch(2),D(Object(l.b)({type:"error",text:Object(p.a)(e.t0)}));case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()),z=Object(o.useCallback)((function(){var e=N.data.getModules.filter((function(e){var t;return!(null===(t=n.modules)||void 0===t?void 0:t.some((function(t){return e.name===t.name})))})).filter((function(e){return e.name!==h.b}));y(e)}),[n,N.data]);return Object(o.useEffect)((function(){if(n&&N.data){var e,t=null===(e=n.modules)||void 0===e?void 0:e.filter((function(e){return e.name!==h.b}));k(t||[]),z()}}),[n,N.data,z]),"error"===U?Object(x.jsx)("h1",{children:Y}):Object(x.jsx)("form",{onSubmit:q,children:Object(x.jsxs)(d.a,{container:!0,spacing:3,children:[Object(x.jsx)(d.a,{item:!0,xs:12,children:Object(x.jsx)(m.a,{setListAvailable:y,setListCurrent:k,setChecked:E,checked:M,listAvailable:v,titleAvailable:"Modulos disponibles",listCurrent:w,titleCurrent:"Modulos actuales",loading:N.loading})}),Object(x.jsxs)(s.a,{style:{width:"100%"},children:[Object(x.jsx)(j.a,{onClick:a,color:"primary",children:"Cancelar"}),Object(x.jsx)(j.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",disabled:!!F.loading,children:e.i?"Actualizar":"Registrar"})]})]})})}},21:function(e,t,n){"use strict";n(1);var a=n(254),r=n(0);t.a=function(){return Object(r.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(r.jsx)(a.a,{disableShrink:!0})})}},233:function(e,t,n){},237:function(e,t,n){},239:function(e,t,n){},240:function(e,t,n){},241:function(e,t,n){},242:function(e,t,n){},243:function(e,t,n){},246:function(e,t,n){},247:function(e,t,n){"use strict";n.r(t);var a,r,c,i,o,l,s,u,d,j,b,O,m,h,p,x,g,f,v,y,C,S,w,k,I,A,M,E,D,N,F,R,U,Y,q,z,B,P,$,L,T,W,Q,_,V,J,G,H,K,X,Z,ee,te,ne,ae,re,ce,ie,oe,le,se,ue,de,je,be,Oe,me,he=n(1),pe=n.n(he),xe=n(31),ge=n.n(xe),fe=n(105),ve=n(41),ye=function(e){return localStorage.getItem(e)},Ce=function(e,t){return localStorage.setItem(e,t)},Se=n(3),we=n(12),ke=n(5),Ie=n(14),Ae=n.n(Ie),Me=n(19),Ee=n(4),De=n(175),Ne=n(176),Fe=n(181),Re=Object(ke.gql)(a||(a=Object(we.a)(["\n  mutation refreshToken($authInput: AuthRefreshTokenInput!) {\n    refreshToken(authInput: $authInput) {\n      access_token\n    }\n  }\n"]))),Ue=n(182),Ye=!1,qe=[],ze=Object(Fe.a)((function(e){var t=e.graphQLErrors,n=e.networkError,a=e.operation,r=e.forward;if(t){var c,i=Object(De.a)(t);try{for(i.s();!(c=i.n()).done;){var o=c.value;switch(o.extensions.exception.status){case 401:var l=void 0;return Ye?l=Object(ke.fromPromise)(new Promise((function(e){qe.push((function(){return e()}))}))):(Ye=!0,l=Object(ke.fromPromise)($e.mutate({mutation:Re,variables:{authInput:{email:ye("username"),refresh_token:ye("refreshToken")}}}).then((function(e){var t=e.data.refreshToken.access_token;return Ce("accessToken",t),!0})).then((function(){return qe.map((function(e){return e()})),qe=[],!0})).catch((function(){return qe=[],!1})).finally((function(){Ye=!1})))),l.flatMap((function(){return r(a)}));default:console.log("[ERROR]: Message: ".concat(o.message,", Location: ").concat(o.locations,", Path: ").concat(o.path))}}}catch(o){i.e(o)}finally{i.f()}}n&&console.log("[Network error]: ".concat(n))})),Be=Object(ke.createHttpLink)({uri:Ue.a}),Pe=Object(Ne.a)((function(e,t){var n=t.headers,a=ye("accessToken");return{headers:Object(Ee.a)(Object(Ee.a)({},n),{},{authorization:a?"Bearer ".concat(a):""})}})),$e=new ke.ApolloClient({link:Object(ke.from)([ze,Pe,Be]),cache:new ke.InMemoryCache}),Le=$e,Te="@auth/LOGIN_USER",We="@auth/LOGOUT_USER",Qe="@auth/LOADING_USER",_e="@auth/ERROR_USER",Ve={name:"Anonimo",lastName:""},Je=function(e){return{type:Qe,payload:e}},Ge=function(){return function(){var e=Object(Me.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.clear(),Le.resetStore(),window.location.href="/",e.next=5,t({type:We,payload:Ve});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},He=n(6),Ke=Object(ke.gql)(r||(r=Object(we.a)(["\n  query me {\n    me {\n      id\n      name\n      lastName\n      email\n      status\n      role {\n        name\n        modules {\n          id\n          name\n          access {\n            name\n          }\n          menus {\n            id\n            name\n            link\n          }\n        }\n      }\n    }\n  }\n"]))),Xe=(n(233),n(0)),Ze=Object(He.b)((function(e){return{loading:e.authReducer.loading,authUser:e.authReducer.authUser}}),{setLoading:Je,whoisme:function(e){return function(){var t=Object(Me.a)(Ae.a.mark((function t(n){return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n(Je(!0));case 3:return t.next=5,n({type:Te,payload:e.me});case 5:return t.next=7,n(Je(!1));case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,n({type:_e,payload:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},logout:Ge})((function(e){var t,n=e.authUser,a=e.loading,r=e.whoisme,c=e.logout,i=function(){var e,t=Object(ke.useLazyQuery)(Ke,{pollInterval:500}),n=Object(Se.a)(t,2),a=n[0],r=n[1],c=r.data,i=r.loading,o=r.error,l=Object(He.c)();return o&&401===(null===o||void 0===o||null===(e=o.graphQLErrors[0].extensions)||void 0===e?void 0:e.exception.status)&&(alert(o.graphQLErrors[0].extensions.exception.response.message),l(Ge())),{me:a,data:c,loading:i}}(),o=i.me,l=i.data;return Object(he.useEffect)((function(){var e;o(),r(l),Ce("username",null===l||void 0===l||null===(e=l.me)||void 0===e?void 0:e.email)}),[o,r,l]),2===(null===l||void 0===l||null===(t=l.me)||void 0===t?void 0:t.status)&&c(),Object(Xe.jsxs)("header",{children:[Object(Xe.jsx)("a",{children:a?"Cargando usuario...":Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)("strong",{children:"Bienvenido, "}),null===n||void 0===n?void 0:n.name," ",null===n||void 0===n?void 0:n.lastName]})}),"\xa0\xa0",Object(Xe.jsx)("button",{className:"buttonLogout",onClick:function(){return c()},children:"Cerrar sesion"})]})})),et=n(142),tt=function(){return Object(Xe.jsx)(Xe.Fragment,{children:"4040404040404040"})},nt=n(13),at=function(e,t,n,a,r){var c,i,o,l,s,u,d,j;switch(e){case nt.d:var b=null===t||void 0===t||null===(c=t.role)||void 0===c||null===(i=c.modules)||void 0===i?void 0:i.map((function(t){var a;return null===(a=t.access)||void 0===a?void 0:a.filter((function(a){return t.name===n&&a.name===e}))}));return null===b||void 0===b?void 0:b.map((function(e,t){return e?(null===e||void 0===e?void 0:e.length)>0&&Object(Xe.jsx)(a,{},t):""}));case nt.f:var O=null===t||void 0===t||null===(o=t.role)||void 0===o||null===(l=o.modules)||void 0===l?void 0:l.map((function(t){var a;return null===(a=t.access)||void 0===a?void 0:a.filter((function(a){return t.name===n&&a.name===e}))}));return null===O||void 0===O?void 0:O.map((function(e,t){return e?(null===e||void 0===e?void 0:e.length)>0&&Object(Xe.jsx)(a,{},t):""}));case nt.e:var m=null===t||void 0===t||null===(s=t.role)||void 0===s||null===(u=s.modules)||void 0===u?void 0:u.map((function(t){var a;return null===(a=t.access)||void 0===a?void 0:a.filter((function(a){return t.name===n&&a.name===e}))}));return null===m||void 0===m?void 0:m.map((function(e,t){return e?(null===e||void 0===e?void 0:e.length)>0&&Object(Xe.jsx)(a,{},t):""}));case nt.c:var h=null===t||void 0===t||null===(d=t.role)||void 0===d||null===(j=d.modules)||void 0===j?void 0:j.map((function(t){var a;return null===(a=t.access)||void 0===a?void 0:a.filter((function(a){return t.name===n&&a.name===e}))}));return null===h||void 0===h?void 0:h.map((function(e,t){return e?(null===e||void 0===e?void 0:e.length)>0&&Object(Xe.jsx)(a,{},t):""}))}},rt=n(24),ct=Object(ke.gql)(c||(c=Object(we.a)(["\n  query getBillings {\n    getBillings {\n      id\n      name\n      day\n      createdAt\n      updatedAt\n    }\n  }\n"]))),it=function(){var e=Object(ke.useQuery)(ct);return{data:e.data,error:e.error,loading:e.loading}},ot=Object(ke.gql)(i||(i=Object(we.a)(["\n  mutation registerBilling($billingInput: CreateBillingInput!) {\n    registerBilling(billingInput: $billingInput) {\n      id\n      name\n      day\n      createdAt\n      updatedAt\n    }\n  }\n"]))),lt=Object(ke.gql)(o||(o=Object(we.a)(["\n  mutation updateBilling($billingInput: UpdateBillingInput!) {\n    updateBilling(billingInput: $billingInput) {\n      id\n      name\n      day\n      createdAt\n      updatedAt\n    }\n  }\n"]))),st=n(16),ut=n(8),dt=n(103),jt=n(302),bt=n(331),Ot=n(330),mt=Object(jt.a)((function(e){return Object(bt.a)({root:{border:"1px solid #e2e2e1",overflow:"hidden",borderRadius:4,backgroundColor:"#fcfcfb",transition:e.transitions.create(["border-color","box-shadow"]),"&:hover":{backgroundColor:"#fff"},"&$focused":{backgroundColor:"#fff",borderColor:e.palette.primary.main}},focused:{}})})),ht=function(e){var t=mt();return Object(Xe.jsx)(Ot.a,Object(Ee.a)({InputProps:{classes:t,disableUnderline:!0}},e))},pt=n(143),xt=n(255),gt=n(21),ft=function(e){var t=e.handleClose,n=e.billing,a={id:(null===n||void 0===n?void 0:n.id)||"",name:(null===n||void 0===n?void 0:n.name)||"",day:(null===n||void 0===n?void 0:n.day)||0},r=Object(he.useState)(a.id?a:{name:"",day:0}),c=Object(Se.a)(r,2),i=c[0],o=c[1],l=Object(He.c)(),s=function(){var e=Object(ke.useMutation)(lt,{refetchQueries:function(){return[{query:ct}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{updateBilling:n,error:a.error,loading:a.loading}}(),u=function(){var e=Object(ke.useMutation)(ot,{refetchQueries:function(){return[{query:ct}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{registerBilling:n,error:a.error,loading:a.loading}}(),d=function(e){o(Object(Ee.a)(Object(Ee.a)({},i),{},Object(rt.a)({},e.target.name,e.target.value)))},j=function(){var e=Object(Me.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!i.id){e.next=13;break}return e.prev=2,e.next=5,s.updateBilling({variables:{billingInput:Object(Ee.a)(Object(Ee.a)({},i),{},{day:Number(i.day)})}});case 5:l(Object(ut.b)({type:"success",text:"El plan se actualiz\xf3 correctamente."})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),l(Object(ut.b)({type:"error",text:Object(st.a)(e.t0)}));case 11:e.next=22;break;case 13:return e.prev=13,e.next=16,u.registerBilling({variables:{billingInput:Object(Ee.a)(Object(Ee.a)({},i),{},{day:Number(i.day)})}});case 16:l(Object(ut.b)({type:"success",text:"La plan ha sido registrado correctamente."})),e.next=22;break;case 19:e.prev=19,e.t1=e.catch(13),l(Object(ut.b)({type:"error",text:Object(st.a)(e.t1)}));case 22:case"end":return e.stop()}}),e,null,[[2,8],[13,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)("form",{onSubmit:j,children:Object(Xe.jsxs)(dt.a,{container:!0,spacing:3,children:[Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(ht,{fullWidth:!0,type:"text",onChange:d,name:"name",autoComplete:"off",id:"idName",label:"Nombre",variant:"filled",value:i.name})}),Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(ht,{fullWidth:!0,type:"number",onChange:d,name:"day",autoComplete:"off",id:"idDay",label:"Dias",variant:"filled",value:i.day})}),Object(Xe.jsxs)(xt.a,{style:{width:"100%"},children:[Object(Xe.jsx)(pt.a,{onClick:t,color:"primary",children:"Cancelar"}),i.id?s.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Actualizar"}):u.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Registrar"})]})]})})})},vt=Object(ke.gql)(l||(l=Object(we.a)(["\n  mutation deleteBilling($id: String!) {\n    deleteBilling(id: $id)\n  }\n"]))),yt=n(311),Ct=n(312),St=n(310),wt=n(15),kt=n(329),It=n(309),At=n(72),Mt=n(308),Et=n(77),Dt=n(324),Nt=n(256),Ft=n(307),Rt=n(188),Ut=n.n(Rt),Yt=Object(wt.a)((function(e){return Object(bt.a)({root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}})}))((function(e){var t=e.children,n=e.classes,a=e.onClose,r=Object(et.a)(e,["children","classes","onClose"]);return Object(Xe.jsxs)(Ft.a,Object(Ee.a)(Object(Ee.a)({disableTypography:!0,className:n.root},r),{},{children:[Object(Xe.jsx)(At.a,{variant:"h6",children:t}),a?Object(Xe.jsx)(Nt.a,{"aria-label":"close",className:n.closeButton,onClick:a,children:Object(Xe.jsx)(Ut.a,{})}):null]}))})),qt=function(e){var t=e.open,n=e.dialog,a=e.title,r=e.component,c=e.handleClose,i=Object(He.d)((function(e){return e.message})),o=Object(Et.a)(),l=Object(Mt.a)(o.breakpoints.down("sm"));return Object(Xe.jsxs)(kt.a,{fullScreen:l,open:t,"aria-labelledby":"idModal",disableBackdropClick:!0,disableEscapeKeyDown:!0,children:[Object(Xe.jsxs)(Yt,{id:"idModal",onClose:c,children:[a," ",null===n||void 0===n?void 0:n.name]}),i.type&&Object(Xe.jsx)(Dt.a,{severity:i.type,children:i.text}),Object(Xe.jsx)(It.a,{dividers:!0,style:{overflowY:"visible"},children:r})]})},zt=n(22),Bt=n.n(zt),Pt=n(29),$t=n.n(Pt),Lt=n(50),Tt=n.n(Lt),Wt={type:"",text:""},Qt={name:"",active:!1},_t=function(e){var t=e.billing,n=Object(He.d)((function(e){return e.authReducer.authUser})),a=Object(He.d)((function(e){return e.page.user.module})),r=Object(he.useState)(Qt),c=Object(Se.a)(r,2),i=c[0],o=c[1],l=Object(He.c)(),s=function(){var e=Object(ke.useMutation)(vt,{refetchQueries:function(){return[{query:ct}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{deleteBilling:n,error:a.error,loading:a.loading}}(),u=function(){o(Qt),l(Object(ut.b)(Wt))},d=function(){var e=Object(Me.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.deleteBilling({variables:{id:t}});case 3:e.next=10;break;case 5:e.prev=5,e.t0=e.catch(0),o({name:"error",active:!0}),l(Object(ut.b)({type:"error",text:Object(st.a)(e.t0)})),i.active,i.name;case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(St.a,{title:"Eliminar Cliente",onClick:function(){return d(t.id)},children:Object(Xe.jsx)(Nt.a,{"aria-label":"egress",size:"small",children:Object(Xe.jsx)(Tt.a,{})})})})},b=function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(St.a,{title:"Editar plan de facturaci\xf3n",onClick:function(){return o({name:"Plan",active:!0})},children:Object(Xe.jsx)(Nt.a,{"aria-label":"billing",size:"small",children:Object(Xe.jsx)($t.a,{})})})})};return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(qt,{open:i.active,dialog:t,title:i.name,component:function(e){switch(e){case"Plan":return Object(Xe.jsx)(ft,{billing:t,handleClose:u})}}(i.name),handleClose:u}),at(nt.c,n,a,(function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsxs)(yt.a,{children:[Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",children:t.name}),Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",children:t.day}),Object(Xe.jsx)(Ct.a,{children:Bt()(t.createdAt).format("DD/MM/YYYY")}),Object(Xe.jsx)(Ct.a,{children:Bt()(t.updatedAt).format("DD/MM/YYYY")}),Object(Xe.jsxs)(Ct.a,{align:"right",children:[at(nt.f,n,a,b),at(nt.e,n,a,j)]})]})})}))]})},Vt=n(314),Jt=n(313),Gt=n(315),Ht=n(316),Kt=n(252),Xt=n(36),Zt=n.n(Xt),en={name:"",active:!1},tn={type:"",text:""},nn=function(){var e=Object(He.d)((function(e){return e.authReducer.authUser})),t=Object(He.d)((function(e){return e.page.user.module})),n=Object(he.useState)(en),a=Object(Se.a)(n,2),r=a[0],c=a[1],i=Object(He.c)(),o=Object(he.useState)([]),l=Object(Se.a)(o,2),s=l[0],u=l[1],d=it(),j=d.data,b=d.loading,O=d.error,m=function(){c(en),i(Object(ut.b)(tn))};if(Object(he.useEffect)((function(){j&&u(j.getBillings)}),[j]),b)return Object(Xe.jsx)("h1",{children:"Cargando..."});if(O)return Object(Xe.jsx)("h1",{children:Object(st.a)(O)});return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(qt,{open:r.active,title:"".concat(r.name," Plan de facturaci\xf3n"),component:function(e){switch(e){case"Crear":return Object(Xe.jsx)(ft,{handleClose:m})}}(r.name),handleClose:m}),at(nt.d,e,t,(function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(St.a,{title:"Crear plan de facturaci\xf3n",children:Object(Xe.jsx)(Nt.a,{"aria-label":"add",size:"small",onClick:function(){return c({name:"Crear",active:!0})},children:Object(Xe.jsx)(Zt.a,{})})})})})),Object(Xe.jsx)(Jt.a,{component:Kt.a,style:{marginTop:10,whiteSpace:"nowrap"},children:Object(Xe.jsxs)(Vt.a,{size:"small","aria-label":"a dense table",children:[Object(Xe.jsx)(Gt.a,{children:Object(Xe.jsxs)(yt.a,{children:[Object(Xe.jsx)(Ct.a,{children:"Nombre"}),Object(Xe.jsx)(Ct.a,{children:"Dias"}),Object(Xe.jsx)(Ct.a,{children:"Fecha creada"}),Object(Xe.jsx)(Ct.a,{children:"Fecha modificada"}),Object(Xe.jsx)(Ct.a,{align:"right",children:"Opciones"})]})}),Object(Xe.jsx)(Ht.a,{children:s.map((function(e){return Object(Xe.jsx)(_t,{billing:e},e.id)}))})]})})]})},an=n(306),rn=n(333),cn=n(317),on=n(323),ln=Object(ke.gql)(s||(s=Object(we.a)(["\n  query getCategorys {\n    getCategorys {\n      id\n      name\n      createdAt\n      updatedAt\n    }\n  }\n"]))),sn=function(){var e=Object(ke.useQuery)(ln);return{data:e.data,error:e.error,loading:e.loading}},un=Object(ke.gql)(u||(u=Object(we.a)(["\n  query getBrands {\n    getBrands {\n      id\n      name\n      category {\n        id\n        name\n      }\n    }\n  }\n"]))),dn=function(){var e=Object(ke.useQuery)(un);return{data:e.data,error:e.error,loading:e.loading}},jn=Object(ke.gql)(d||(d=Object(we.a)(["\n  mutation updateBrand($brandInput: UpdateBrandInput!) {\n    updateBrand(brandInput: $brandInput) {\n      id\n      name\n    }\n  }\n"]))),bn=Object(ke.gql)(j||(j=Object(we.a)(["\n  mutation registerBrand($brandInput: CreateBrandInput!) {\n    registerBrand(brandInput: $brandInput) {\n      id\n      name\n      category {\n        id\n        name\n      }\n    }\n  }\n"]))),On={type:"",text:""},mn=function(e){var t,n=e.handleClose,a=e.brand,r={id:(null===a||void 0===a?void 0:a.id)||"",name:(null===a||void 0===a?void 0:a.name)||"",category:(null===a||void 0===a||null===(t=a.category)||void 0===t?void 0:t.name)||""},c=Object(he.useState)(r.id?r:{name:"",category:""}),i=Object(Se.a)(c,2),o=i[0],l=i[1],s=Object(he.useState)([]),u=Object(Se.a)(s,2),d=u[0],j=u[1],b=sn().data,O=Object(He.c)(),m=function(){var e=Object(ke.useMutation)(jn,{refetchQueries:function(){return[{query:un}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{updateBrand:n,error:a.error,loading:a.loading}}(),h=function(){var e=Object(ke.useMutation)(bn,{refetchQueries:function(){return[{query:un}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{registerBrand:n,error:a.error,loading:a.loading}}(),p=function(){var e=Object(Me.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!o.id){e.next=13;break}return e.prev=2,e.next=5,m.updateBrand({variables:{brandInput:o}});case 5:O(Object(ut.b)({type:"success",text:"La marca se actualiz\xf3 correctamente."})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),O(Object(ut.b)({type:"error",text:Object(st.a)(e.t0)}));case 11:e.next=22;break;case 13:return e.prev=13,e.next=16,h.registerBrand({variables:{brandInput:o}});case 16:O(Object(ut.b)({type:"success",text:"La marca ha sido registrada correctamente."})),e.next=22;break;case 19:e.prev=19,e.t1=e.catch(13),O(Object(ut.b)({type:"error",text:Object(st.a)(e.t1)}));case 22:case"end":return e.stop()}}),e,null,[[2,8],[13,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(he.useEffect)((function(){b&&j(b.getCategorys)}),[b]),Object(Xe.jsx)("form",{onSubmit:p,children:Object(Xe.jsxs)(dt.a,{container:!0,spacing:3,children:[Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsxs)(an.a,{variant:"outlined",fullWidth:!0,children:[Object(Xe.jsx)(rn.a,{id:"idCategory",children:"Categoria"}),Object(Xe.jsx)(on.a,{labelId:"Categoria",id:"idCategory",value:o.category,onChange:function(e){l(Object(Ee.a)(Object(Ee.a)({},o),{},Object(rt.a)({},e.target.name,e.target.value))),O(Object(ut.b)(On))},label:"Categoria",name:"category",children:d.map((function(e){return Object(Xe.jsx)(cn.a,{value:e.name,children:e.name},e.id)}))})]})}),Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,onChange:function(e){l(Object(Ee.a)(Object(Ee.a)({},o),{},Object(rt.a)({},e.target.name,e.target.value))),O(Object(ut.b)(On))},name:"name",autoComplete:"off",id:"idName",label:"Marca",variant:"outlined",value:o.name})}),Object(Xe.jsxs)(xt.a,{style:{width:"100%"},children:[Object(Xe.jsx)(pt.a,{onClick:function(){return n()},color:"primary",children:"Cancelar"}),o.id?m.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Actualizar"}):h.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Registrar"})]})]})})},hn={type:"",text:""},pn={name:"",active:!1},xn=function(e){var t=e.brand,n=Object(He.d)((function(e){return e.authReducer.authUser})),a=Object(He.d)((function(e){return e.page.user.module})),r=Object(he.useState)(pn),c=Object(Se.a)(r,2),i=c[0],o=c[1],l=Object(He.c)(),s=function(){o(pn),l(Object(ut.b)(hn))},u=function(e){switch(e){case"Marca":return Object(Xe.jsx)(mn,{brand:t,handleClose:s})}},d=function(){return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(qt,{open:i.active,dialog:t,title:i.name,component:u(i.name),handleClose:s}),Object(Xe.jsx)(Ct.a,{align:"right",children:Object(Xe.jsx)(St.a,{title:"Editar Marca",onClick:function(){return o({name:"Marca",active:!0})},children:Object(Xe.jsx)(Nt.a,{"aria-label":"role",size:"small",children:Object(Xe.jsx)($t.a,{})})})})]})};return Object(Xe.jsx)(Xe.Fragment,{children:at(nt.c,n,a,(function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsxs)(yt.a,{children:[Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",children:t.category.name}),Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",children:t.name}),Object(Xe.jsx)(Ct.a,{children:Bt()(t.createdAt).format("DD/MM/YYYY")}),Object(Xe.jsx)(Ct.a,{children:Bt()(t.updatedAt).format("DD/MM/YYYY")}),at(nt.f,n,a,d)]})})}))})},gn={type:"",text:""},fn={name:"",active:!1},vn=function(){var e=Object(He.d)((function(e){return e.authReducer.authUser})),t=Object(He.d)((function(e){return e.page.user.module})),n=Object(he.useState)(fn),a=Object(Se.a)(n,2),r=a[0],c=a[1],i=Object(He.c)(),o=dn(),l=o.data,s=o.loading,u=o.error,d=Object(he.useState)([]),j=Object(Se.a)(d,2),b=j[0],O=j[1],m=function(){c(fn),i(Object(ut.b)(gn))},h=function(e){switch(e){case"Crear":return Object(Xe.jsx)(mn,{handleClose:m})}};if(Object(he.useEffect)((function(){l&&O(l.getBrands)}),[l]),s)return Object(Xe.jsx)("h1",{children:"Cargando..."});if(u)return Object(Xe.jsx)("h1",{children:Object(st.a)(u)});return Object(Xe.jsxs)(Xe.Fragment,{children:[at(nt.d,e,t,(function(){return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(qt,{open:r.active,title:"".concat(r.name," Marca"),component:h(r.name),handleClose:m}),Object(Xe.jsx)(St.a,{title:"Crear Marca",children:Object(Xe.jsx)(Nt.a,{"aria-label":"add",size:"small",onClick:function(){return c({name:"Crear",active:!0})},children:Object(Xe.jsx)(Zt.a,{})})})]})})),Object(Xe.jsx)(Jt.a,{component:Kt.a,style:{whiteSpace:"nowrap",marginTop:10},children:Object(Xe.jsxs)(Vt.a,{size:"small","aria-label":"a dense table",children:[Object(Xe.jsx)(Gt.a,{children:Object(Xe.jsxs)(yt.a,{children:[Object(Xe.jsx)(Ct.a,{children:"Categoria"}),Object(Xe.jsx)(Ct.a,{children:"Marca"}),Object(Xe.jsx)(Ct.a,{children:"Fecha creada"}),Object(Xe.jsx)(Ct.a,{children:"Fecha modificada"}),at(nt.f,e,t,(function(){return Object(Xe.jsx)(Ct.a,{align:"right",children:"Opciones"})}))]})}),Object(Xe.jsx)(Ht.a,{children:b.map((function(e){return Object(Xe.jsx)(xn,{brand:e},e.id)}))})]})})]})},yn=Object(ke.gql)(b||(b=Object(we.a)(["\n  mutation registerCategory($categoryInput: CreateCategoryInput!) {\n    registerCategory(categoryInput: $categoryInput) {\n      id\n      name\n    }\n  }\n"]))),Cn=Object(ke.gql)(O||(O=Object(we.a)(["\n  mutation updateCategory($categoryInput: UpdateCategoryInput!) {\n    updateCategory(categoryInput: $categoryInput) {\n      id\n      name\n    }\n  }\n"]))),Sn={type:"",text:""},wn=function(e){var t=e.handleClose,n=e.category,a={id:(null===n||void 0===n?void 0:n.id)||"",name:(null===n||void 0===n?void 0:n.name)||""},r=Object(he.useState)(a.id?a:{name:""}),c=Object(Se.a)(r,2),i=c[0],o=c[1],l=Object(He.c)(),s=function(){var e=Object(ke.useMutation)(Cn),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{updateCategory:n,error:a.error,loading:a.loading}}(),u=function(){var e=Object(ke.useMutation)(yn,{refetchQueries:function(){return[{query:ln}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{registerCategory:n,error:a.error,loading:a.loading}}(),d=function(){var e=Object(Me.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!i.id){e.next=13;break}return e.prev=2,e.next=5,s.updateCategory({variables:{categoryInput:i}});case 5:l(Object(ut.b)({type:"success",text:"La categoria se actualiz\xf3 correctamente."})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),l(Object(ut.b)({type:"error",text:Object(st.a)(e.t0)}));case 11:e.next=22;break;case 13:return e.prev=13,e.next=16,u.registerCategory({variables:{categoryInput:i}});case 16:l(Object(ut.b)({type:"success",text:"La categoria ha sido registrado correctamente."})),e.next=22;break;case 19:e.prev=19,e.t1=e.catch(13),l(Object(ut.b)({type:"error",text:Object(st.a)(e.t1)}));case 22:case"end":return e.stop()}}),e,null,[[2,8],[13,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(Xe.jsx)("form",{onSubmit:d,children:Object(Xe.jsxs)(dt.a,{container:!0,spacing:3,children:[Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,onChange:function(e){o(Object(Ee.a)(Object(Ee.a)({},i),{},Object(rt.a)({},e.target.name,e.target.value))),l(Object(ut.b)(Sn))},name:"name",autoComplete:"off",id:"idName",label:"Nombre",variant:"outlined",value:i.name})}),Object(Xe.jsxs)(xt.a,{style:{width:"100%"},children:[Object(Xe.jsx)(pt.a,{onClick:function(){return t()},color:"primary",children:"Cancelar"}),i.id?s.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Actualizar"}):u.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Registrar"})]})]})})},kn={type:"",text:""},In={name:"",active:!1},An=function(e){var t=e.category,n=Object(He.d)((function(e){return e.authReducer.authUser})),a=Object(He.d)((function(e){return e.page.user.module})),r=Object(he.useState)(In),c=Object(Se.a)(r,2),i=c[0],o=c[1],l=Object(He.c)(),s=function(){o(In),l(Object(ut.b)(kn))},u=function(e){switch(e){case"Categoria":return Object(Xe.jsx)(wn,{category:t,handleClose:s})}},d=function(){return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(qt,{open:i.active,dialog:t,title:i.name,component:u(i.name),handleClose:s}),Object(Xe.jsx)(Ct.a,{align:"right",children:Object(Xe.jsx)(St.a,{title:"Editar categoria",onClick:function(){return o({name:"Categoria",active:!0})},children:Object(Xe.jsx)(Nt.a,{"aria-label":"role",size:"small",children:Object(Xe.jsx)($t.a,{})})})})]})};return Object(Xe.jsx)(Xe.Fragment,{children:at(nt.c,n,a,(function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsxs)(yt.a,{children:[Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",children:t.name}),Object(Xe.jsx)(Ct.a,{children:Bt()(t.createdAt).format("DD/MM/YYYY")}),Object(Xe.jsx)(Ct.a,{children:Bt()(t.updatedAt).format("DD/MM/YYYY")}),at(nt.f,n,a,d)]})})}))})},Mn={type:"",text:""},En={name:"",active:!1},Dn=function(){var e=Object(He.d)((function(e){return e.authReducer.authUser})),t=Object(He.d)((function(e){return e.page.user.module})),n=Object(he.useState)(En),a=Object(Se.a)(n,2),r=a[0],c=a[1],i=Object(He.c)(),o=sn(),l=o.data,s=o.loading,u=o.error,d=Object(he.useState)([]),j=Object(Se.a)(d,2),b=j[0],O=j[1],m=function(){c(En),i(Object(ut.b)(Mn))},h=function(e){switch(e){case"Crear":return Object(Xe.jsx)(wn,{handleClose:m})}};if(Object(he.useEffect)((function(){l&&O(l.getCategorys)}),[l]),s)return Object(Xe.jsx)("h1",{children:"Cargando..."});if(u)return Object(Xe.jsx)("h1",{children:Object(st.a)(u)});return Object(Xe.jsxs)(Xe.Fragment,{children:[at(nt.d,e,t,(function(){return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(qt,{open:r.active,title:"".concat(r.name," Categoria"),component:h(r.name),handleClose:m}),Object(Xe.jsx)(St.a,{title:"Crear Categoria",children:Object(Xe.jsx)(Nt.a,{"aria-label":"add",size:"small",onClick:function(){return c({name:"Crear",active:!0})},children:Object(Xe.jsx)(Zt.a,{})})})]})})),Object(Xe.jsx)(Jt.a,{component:Kt.a,style:{whiteSpace:"nowrap",marginTop:10},children:Object(Xe.jsxs)(Vt.a,{size:"small","aria-label":"a dense table",children:[Object(Xe.jsx)(Gt.a,{children:Object(Xe.jsxs)(yt.a,{children:[Object(Xe.jsx)(Ct.a,{children:"Categoria"}),Object(Xe.jsx)(Ct.a,{children:"Fecha creada"}),Object(Xe.jsx)(Ct.a,{children:"Fecha modificada"}),at(nt.f,e,t,(function(){return Object(Xe.jsx)(Ct.a,{align:"right",children:"Opciones"})}))]})}),Object(Xe.jsx)(Ht.a,{children:b.map((function(e){return Object(Xe.jsx)(An,{category:e},e.id)}))})]})})]})},Nn=function(e){return new Intl.NumberFormat("de-DE",{style:"currency",currency:"PEN"}).format(e)},Fn=Object(ke.gql)(m||(m=Object(we.a)(["\n  query getEgress {\n    getEgress {\n      id\n      category {\n        name\n      }\n      user {\n        name\n      }\n      detail\n      observation\n      units\n      amount\n      createdAt\n      updatedAt\n    }\n  }\n"]))),Rn=Object(ke.gql)(h||(h=Object(we.a)(["\n  mutation deleteEgress($id: String!) {\n    deleteEgress(id: $id)\n  }\n"]))),Un=n(327),Yn=Object(ke.gql)(p||(p=Object(we.a)(["\n  mutation updateEgress($egressInput: UpdateEgressInput!) {\n    updateEgress(egressInput: $egressInput) {\n      id\n      category {\n        id\n        name\n      }\n      detail\n      observation\n      units\n      amount\n    }\n  }\n"]))),qn=Object(ke.gql)(x||(x=Object(we.a)(["\n  mutation registerEgress($egressInput: CreateEgressInput!) {\n    registerEgress(egressInput: $egressInput) {\n      id\n      category {\n        id\n        name\n      }\n      detail\n      observation\n      units\n      amount\n    }\n  }\n"]))),zn=n(318),Bn={type:"",text:""},Pn={category:""},$n=function(e){var t,n=e.handleClose,a=e.egress,r={detail:"",amount:0,units:0,category:"",user:Object(He.d)((function(e){return e.authReducer.authUser})).name},c={id:(null===a||void 0===a?void 0:a.id)||"",detail:(null===a||void 0===a?void 0:a.detail)||"",amount:(null===a||void 0===a?void 0:a.amount)||0,units:(null===a||void 0===a?void 0:a.units)||0,category:(null===a||void 0===a||null===(t=a.category)||void 0===t?void 0:t.name)||"",observation:(null===a||void 0===a?void 0:a.observation)||""},i=Object(he.useState)(c.id?c:r),o=Object(Se.a)(i,2),l=o[0],s=o[1],u=Object(he.useState)(Pn),d=Object(Se.a)(u,2),j=d[0],b=d[1],O=Object(he.useState)([]),m=Object(Se.a)(O,2),h=m[0],p=m[1],x=sn().data,g=function(){var e=Object(ke.useMutation)(Yn,{refetchQueries:function(){return[{query:Fn}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{updateEgress:n,error:a.error,loading:a.loading}}(),f=function(){var e=Object(ke.useMutation)(qn,{refetchQueries:function(){return[{query:Fn}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{registerEgress:n,error:a.error,loading:a.loading}}(),v=Object(He.c)(),y=function(e){s(Object(Ee.a)(Object(Ee.a)({},l),{},Object(rt.a)({},e.target.name,e.target.value))),v(Object(ut.b)(Bn))},C=Object(he.useCallback)((function(){p((null===x||void 0===x?void 0:x.getCategorys)||[])}),[x]),S=function(){var e=Object(Me.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!l.id){e.next=13;break}return e.prev=2,e.next=5,g.updateEgress({variables:{egressInput:Object(Ee.a)(Object(Ee.a)({},l),{},{units:Number(l.units),amount:Number(l.amount)})}});case 5:v(Object(ut.b)({type:"success",text:"El egreso se actualiz\xf3 correctamente."})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),v(Object(ut.b)({type:"error",text:Object(st.a)(e.t0)}));case 11:e.next=22;break;case 13:return e.prev=13,e.next=16,f.registerEgress({variables:{egressInput:Object(Ee.a)(Object(Ee.a)({},l),{},{units:Number(l.units),amount:Number(l.amount)})}});case 16:v(Object(ut.b)({type:"success",text:"El egreso ha sido registrado correctamente."})),e.next=22;break;case 19:e.prev=19,e.t1=e.catch(13),v(Object(ut.b)({type:"error",text:Object(st.a)(e.t1)}));case 22:case"end":return e.stop()}}),e,null,[[2,8],[13,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(he.useEffect)((function(){C()}),[C]),Object(Xe.jsx)("form",{onSubmit:S,children:Object(Xe.jsxs)(dt.a,{container:!0,spacing:3,children:[Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Un.a,{id:"idCategory",value:l.category,onChange:function(e,t){s(Object(Ee.a)(Object(Ee.a)({},l),{},{category:(null===t||void 0===t?void 0:t.name)||""})),v(Object(ut.b)(Bn))},inputValue:j.category?j.category:l.category,onInputChange:function(e,t){b(Object(Ee.a)(Object(Ee.a)({},j),{},{category:t}))},options:h,getOptionLabel:function(e){return e.name?e.name:""},getOptionSelected:function(e,t){return e.name===t},renderInput:function(e){return Object(Xe.jsx)(Ot.a,Object(Ee.a)(Object(Ee.a)({},e),{},{name:"category",label:"Categoria",variant:"outlined"}))}})}),Object(Xe.jsx)(dt.a,{item:!0,xs:4,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,onChange:y,name:"units",autoComplete:"off",id:"idUnits",label:"Unidades",variant:"outlined",value:l.units})}),Object(Xe.jsx)(dt.a,{item:!0,xs:4,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,onChange:y,name:"amount",autoComplete:"off",id:"idAmount",label:"Monto",variant:"outlined",value:l.amount,InputProps:{startAdornment:Object(Xe.jsx)(zn.a,{position:"start",children:"S/"})}})}),Object(Xe.jsx)(dt.a,{item:!0,xs:4,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,autoComplete:"off",id:"idTotal",label:"Total",variant:"outlined",value:l.units*l.amount,InputProps:{readOnly:!0,startAdornment:Object(Xe.jsx)(zn.a,{position:"start",children:"S/"})}})}),Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,onChange:y,name:"detail",autoComplete:"off",id:"idDetail",multiline:!0,rows:3,label:"Detalle",variant:"outlined",value:l.detail})}),Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,onChange:y,name:"observation",autoComplete:"off",id:"idObservation",multiline:!0,rows:5,label:"Observaci\xf3n",variant:"outlined",value:l.observation})}),Object(Xe.jsxs)(xt.a,{style:{width:"100%"},children:[Object(Xe.jsx)(pt.a,{onClick:function(){return n()},color:"primary",children:"Cancelar"}),l.id?g.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Actualizar"}):f.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Registrar"})]})]})})},Ln={type:"",text:""},Tn={name:"",active:!1},Wn=function(e){var t=e.egres,n=Object(He.d)((function(e){return e.authReducer.authUser})),a=Object(He.d)((function(e){return e.page.user})),r=a.module,c=a.page,i=Object(He.c)(),o=Object(he.useState)(Tn),l=Object(Se.a)(o,2),s=l[0],u=l[1],d=function(){var e=Object(ke.useMutation)(Rn,{refetchQueries:function(){return[{query:Fn}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{deleteEgress:n,error:a.error,loading:a.loading}}(),j=function(){var e=Object(Me.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.deleteEgress({variables:{id:t}});case 3:e.next=10;break;case 5:e.prev=5,e.t0=e.catch(0),u({name:"error",active:!0}),i(Object(ut.b)({type:"error",text:Object(st.a)(e.t0)})),s.active,s.name;case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){u(Tn),i(Object(ut.b)(Ln))},O=function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(St.a,{title:"Editar egreso",onClick:function(){return u({name:"Egreso",active:!0})},children:Object(Xe.jsx)(Nt.a,{"aria-label":"egress",size:"small",children:Object(Xe.jsx)($t.a,{})})})})},m=function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(St.a,{title:"Eliminar egreso",onClick:function(){return j(t.id)},children:Object(Xe.jsx)(Nt.a,{"aria-label":"egress",size:"small",children:Object(Xe.jsx)(Tt.a,{})})})})};return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(qt,{open:s.active,dialog:t,title:s.name,component:function(e){switch(e){case"Egreso":return Object(Xe.jsx)($n,{egress:t,handleClose:b})}}(s.name),handleClose:b}),at(nt.c,n,r,(function(){var e;return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsxs)(yt.a,{children:[Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",style:{wordBreak:"break-all"},children:t.category.name}),Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",style:{wordBreak:"break-all"},children:t.detail}),"RESUMEN-CAJA"===c||Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",style:{wordBreak:"break-all"},children:t.observation})}),Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",children:null===t||void 0===t||null===(e=t.user)||void 0===e?void 0:e.name}),Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",align:"center",children:t.units}),Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",align:"right",children:Nn(t.amount)}),Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",align:"right",children:Nn(t.units*t.amount)}),"RESUMEN-CAJA"===c||"CONSULTAR-CAJA"===c?"":Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",align:"right",children:Object(Xe.jsxs)(Xe.Fragment,{children:[at(nt.f,n,r,O),at(nt.e,n,r,m)]})})]})})}))]})},Qn=Object(he.createContext)({summaryIngress:{ingress:0},setSummaryIngress:function(e){},summaryEgress:{egress:0},setSummaryEgress:function(e){}}),_n=Qn.Provider,Vn=(Qn.Consumer,{type:"",text:""}),Jn={name:"",active:!1},Gn=function(e){var t=e.checkMoney,n=e.resultEgress,a=Object(He.d)((function(e){return e.authReducer.authUser})),r=Object(He.d)((function(e){return e.page.user})),c=r.page,i=r.module,o=Object(he.useState)([]),l=Object(Se.a)(o,2),s=l[0],u=l[1],d=function(){var e=Object(ke.useQuery)(Fn);return{data:e.data,error:e.error,loading:e.loading}}(),j=d.data,b=d.loading,O=d.error,m=Object(he.useState)(Jn),h=Object(Se.a)(m,2),p=h[0],x=h[1],g=Object(He.c)(),f=Object(he.useContext)(Qn),v=f.summaryEgress,y=f.setSummaryEgress,C=function(){x(Jn),g(Object(ut.b)(Vn))},S=s.map((function(e){return e.units*e.amount})).reduce((function(e,t){return e+t}),0);if(Object(he.useEffect)((function(){void 0===t?j&&u(j.getEgress):u(n),y(Object(Ee.a)(Object(Ee.a)({},v),{},{egress:S}))}),[j,y,S]),b)return Object(Xe.jsx)("h1",{children:"Cargando..."});if(O)return Object(Xe.jsx)("h1",{children:Object(st.a)(O)});return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(qt,{open:p.active,title:"".concat(p.name," Egreso"),component:function(e){switch(e){case"Crear":return Object(Xe.jsx)($n,{handleClose:C})}}(p.name),handleClose:C}),"RESUMEN-CAJA"===c||"CONSULTAR-CAJA"===c?"":at(nt.d,a,i,(function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(St.a,{title:"Crear Egreso",children:Object(Xe.jsx)(Nt.a,{"aria-label":"add",size:"small",onClick:function(){return x({name:"Crear",active:!0})},children:Object(Xe.jsx)(Zt.a,{})})})})})),Object(Xe.jsx)(Jt.a,{component:Kt.a,style:{whiteSpace:"nowrap",marginTop:"CONSULTAR-CAJA"===c?20:0},children:Object(Xe.jsxs)(Vt.a,{size:"small","aria-label":"a dense table",children:[Object(Xe.jsxs)(Gt.a,{children:[Object(Xe.jsxs)(yt.a,{style:{background:"#dc3545"},children:[Object(Xe.jsx)(Ct.a,{style:{color:"#fff"},align:"center",colSpan:"RESUMEN-CAJA"===c?4:5,children:"CONSULTAR-CAJA"===c?"Egreso Total":"Ingreso de hoy"}),Object(Xe.jsx)(Ct.a,{style:{color:"#fff"},align:"center",colSpan:"RESUMEN-CAJA"===c?2:3,children:"Costo"})]}),Object(Xe.jsxs)(yt.a,{children:[Object(Xe.jsx)(Ct.a,{children:"Categoria"}),Object(Xe.jsx)(Ct.a,{children:"Detalle"}),"RESUMEN-CAJA"===c||Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(Ct.a,{children:"Observaci\xf3n"})}),Object(Xe.jsx)(Ct.a,{children:"Usuario"}),Object(Xe.jsx)(Ct.a,{align:"center",children:"Unidades"}),Object(Xe.jsx)(Ct.a,{align:"right",children:"Monto"}),Object(Xe.jsx)(Ct.a,{align:"right",children:"Monto total"}),"RESUMEN-CAJA"===c||"CONSULTAR-CAJA"===c?"":Object(Xe.jsx)(Ct.a,{align:"right",children:"Opciones"})]})]}),Object(Xe.jsxs)(Ht.a,{children:[s.map((function(e){return Object(Xe.jsx)(Wn,{egres:e},e.id)})),Object(Xe.jsxs)(yt.a,{children:[Object(Xe.jsx)(Ct.a,{colSpan:"RESUMEN-CAJA"===c?4:5}),Object(Xe.jsx)(Ct.a,{children:Object(Xe.jsx)("strong",{children:"Total"})}),Object(Xe.jsx)(Ct.a,{align:"right",children:Object(Xe.jsx)("strong",{style:{color:"red"},children:Nn(S)})}),"RESUMEN-CAJA"===c||"CONSULTAR-CAJA"===c?"":Object(Xe.jsx)(Ct.a,{colSpan:3})]})]})]})})]})},Hn=Object(ke.gql)(g||(g=Object(we.a)(["\n  query getIngress {\n    getIngress {\n      id\n      category {\n        name\n      }\n      user {\n        name\n      }\n      detail\n      observation\n      units\n      amount\n      createdAt\n      updatedAt\n    }\n  }\n"]))),Kn=Object(ke.gql)(f||(f=Object(we.a)(["\n  mutation deleteIngress($id: String!) {\n    deleteIngress(id: $id)\n  }\n"]))),Xn=Object(ke.gql)(v||(v=Object(we.a)(["\n  mutation updateIngress($ingressInput: UpdateIngressInput!) {\n    updateIngress(ingressInput: $ingressInput) {\n      id\n      category {\n        id\n        name\n      }\n      detail\n      observation\n      units\n      amount\n    }\n  }\n"]))),Zn=Object(ke.gql)(y||(y=Object(we.a)(["\n  mutation registerIngress($ingressInput: CreateIngressInput!) {\n    registerIngress(ingressInput: $ingressInput) {\n      id\n      category {\n        id\n        name\n      }\n      detail\n      observation\n      units\n      amount\n    }\n  }\n"]))),ea={type:"",text:""},ta={category:""},na=function(e){var t,n=e.handleClose,a=e.ingres,r={detail:"",amount:0,units:0,category:"",user:Object(He.d)((function(e){return e.authReducer.authUser})).name},c={id:(null===a||void 0===a?void 0:a.id)||"",detail:(null===a||void 0===a?void 0:a.detail)||"",amount:(null===a||void 0===a?void 0:a.amount)||0,units:(null===a||void 0===a?void 0:a.units)||0,category:(null===a||void 0===a||null===(t=a.category)||void 0===t?void 0:t.name)||"",observation:(null===a||void 0===a?void 0:a.observation)||""},i=Object(he.useState)(c.id?c:r),o=Object(Se.a)(i,2),l=o[0],s=o[1],u=Object(he.useState)(ta),d=Object(Se.a)(u,2),j=d[0],b=d[1],O=Object(he.useState)([]),m=Object(Se.a)(O,2),h=m[0],p=m[1],x=sn().data,g=function(){var e=Object(ke.useMutation)(Xn,{refetchQueries:function(){return[{query:Hn}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{updateIngress:n,error:a.error,loading:a.loading}}(),f=function(){var e=Object(ke.useMutation)(Zn,{refetchQueries:function(){return[{query:Hn}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{registerIngress:n,error:a.error,loading:a.loading}}(),v=Object(He.c)(),y=function(e){s(Object(Ee.a)(Object(Ee.a)({},l),{},Object(rt.a)({},e.target.name,e.target.value))),v(Object(ut.b)(ea))},C=Object(he.useCallback)((function(){p((null===x||void 0===x?void 0:x.getCategorys)||[])}),[x]),S=function(){var e=Object(Me.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!l.id){e.next=13;break}return e.prev=2,e.next=5,g.updateIngress({variables:{ingressInput:Object(Ee.a)(Object(Ee.a)({},l),{},{units:Number(l.units),amount:Number(l.amount)})}});case 5:v(Object(ut.b)({type:"success",text:"El ingreso se actualiz\xf3 correctamente."})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),v(Object(ut.b)({type:"error",text:Object(st.a)(e.t0)}));case 11:e.next=22;break;case 13:return e.prev=13,e.next=16,f.registerIngress({variables:{ingressInput:Object(Ee.a)(Object(Ee.a)({},l),{},{units:Number(l.units),amount:Number(l.amount)})}});case 16:v(Object(ut.b)({type:"success",text:"El ingreso ha sido registrado correctamente."})),e.next=22;break;case 19:e.prev=19,e.t1=e.catch(13),v(Object(ut.b)({type:"error",text:Object(st.a)(e.t1)}));case 22:case"end":return e.stop()}}),e,null,[[2,8],[13,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(he.useEffect)((function(){C()}),[C]),Object(Xe.jsx)("form",{onSubmit:S,children:Object(Xe.jsxs)(dt.a,{container:!0,spacing:3,children:[Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Un.a,{id:"idCategory",value:l.category,onChange:function(e,t){s(Object(Ee.a)(Object(Ee.a)({},l),{},{category:(null===t||void 0===t?void 0:t.name)||""})),v(Object(ut.b)(ea))},inputValue:j.category?j.category:l.category,onInputChange:function(e,t){b(Object(Ee.a)(Object(Ee.a)({},j),{},{category:t}))},options:h,getOptionLabel:function(e){return e.name?e.name:""},getOptionSelected:function(e,t){return e.name===t.name},renderInput:function(e){return Object(Xe.jsx)(Ot.a,Object(Ee.a)(Object(Ee.a)({},e),{},{name:"category",label:"Categoria",variant:"outlined"}))}})}),Object(Xe.jsx)(dt.a,{item:!0,xs:4,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,onChange:y,name:"units",autoComplete:"off",id:"idUnits",label:"Unidades",variant:"outlined",value:l.units})}),Object(Xe.jsx)(dt.a,{item:!0,xs:4,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,onChange:y,name:"amount",autoComplete:"off",id:"idAmount",label:"Monto",variant:"outlined",value:l.amount,InputProps:{startAdornment:Object(Xe.jsx)(zn.a,{position:"start",children:"S/"})}})}),Object(Xe.jsx)(dt.a,{item:!0,xs:4,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,autoComplete:"off",id:"idTotal",label:"Total",variant:"outlined",value:l.units*l.amount,InputProps:{readOnly:!0,startAdornment:Object(Xe.jsx)(zn.a,{position:"start",children:"S/"})}})}),Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,onChange:y,name:"detail",autoComplete:"off",id:"idDetail",multiline:!0,rows:3,label:"Detalle",variant:"outlined",value:l.detail})}),Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,onChange:y,name:"observation",autoComplete:"off",id:"idObservation",multiline:!0,rows:5,label:"Observaci\xf3n",variant:"outlined",value:l.observation})}),Object(Xe.jsxs)(xt.a,{style:{width:"100%"},children:[Object(Xe.jsx)(pt.a,{onClick:function(){return n()},color:"primary",children:"Cancelar"}),l.id?g.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Actualizar"}):f.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Registrar"})]})]})})},aa={type:"",text:""},ra={name:"",active:!1},ca=Object(jt.a)((function(e){return{row:{width:700,backgroundColor:"grey"},cell_long:{fontSize:"10px",width:150,minWidth:1,backgroundColor:"#ee82ee"},cell_default:{fontSize:"10px",width:200,minWidth:1,backgroundColor:"#ee82ee"},cell_short:{fontSize:"10px",width:80,backgroundColor:"yellow"}}})),ia=function(e){var t=e.ingres,n=(ca(),Object(He.d)((function(e){return e.authReducer.authUser}))),a=Object(He.d)((function(e){return e.page.user})),r=a.module,c=a.page,i=Object(He.c)(),o=Object(he.useState)(ra),l=Object(Se.a)(o,2),s=l[0],u=l[1],d=function(){var e=Object(ke.useMutation)(Kn,{refetchQueries:function(){return[{query:Hn}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{deleteIngress:n,error:a.error,loading:a.loading}}(),j=function(){var e=Object(Me.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.deleteIngress({variables:{id:t}});case 3:e.next=10;break;case 5:e.prev=5,e.t0=e.catch(0),u({name:"error",active:!0}),i(Object(ut.b)({type:"error",text:Object(st.a)(e.t0)})),s.active,s.name;case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){u(ra),i(Object(ut.b)(aa))},O=function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(St.a,{title:"Editar ingreso",onClick:function(){return u({name:"Ingreso",active:!0})},children:Object(Xe.jsx)(Nt.a,{"aria-label":"egress",size:"small",children:Object(Xe.jsx)($t.a,{})})})})},m=function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(St.a,{title:"Eliminar ingreso",onClick:function(){return j(t.id)},children:Object(Xe.jsx)(Nt.a,{"aria-label":"egress",size:"small",children:Object(Xe.jsx)(Tt.a,{})})})})};return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(qt,{open:s.active,dialog:t,title:s.name,component:function(e){switch(e){case"Ingreso":return Object(Xe.jsx)(na,{ingres:t,handleClose:b})}}(s.name),handleClose:b}),at(nt.c,n,r,(function(){var e;return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsxs)(yt.a,{children:[Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",style:{wordBreak:"break-all"},children:t.category.name}),Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",style:{wordBreak:"break-all"},children:t.detail}),"RESUMEN-CAJA"===c||Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",style:{wordBreak:"break-all"},children:t.observation})}),Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",children:null===t||void 0===t||null===(e=t.user)||void 0===e?void 0:e.name}),Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",align:"center",children:t.units}),Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",align:"right",children:Nn(t.amount)}),Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",align:"right",children:Nn(t.units*t.amount)}),"RESUMEN-CAJA"===c||"CONSULTAR-CAJA"===c?"":Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",align:"right",children:Object(Xe.jsxs)(Xe.Fragment,{children:[at(nt.f,n,r,O),at(nt.e,n,r,m)]})})]})})}))]})},oa={type:"",text:""},la={name:"",active:!1},sa=function(e){var t=e.checkMoney,n=e.resultIngress,a=Object(He.d)((function(e){return e.authReducer.authUser})),r=Object(He.d)((function(e){return e.page.user})),c=r.module,i=r.page,o=Object(he.useState)([]),l=Object(Se.a)(o,2),s=l[0],u=l[1],d=function(){var e=Object(ke.useQuery)(Hn);return{data:e.data,error:e.error,loading:e.loading}}(),j=d.data,b=d.loading,O=d.error,m=Object(he.useState)(la),h=Object(Se.a)(m,2),p=h[0],x=h[1],g=Object(He.c)(),f=Object(he.useContext)(Qn),v=f.summaryIngress,y=f.setSummaryIngress,C=function(){x(la),g(Object(ut.b)(oa))},S=s.map((function(e){return e.units*e.amount})).reduce((function(e,t){return e+t}),0);if(Object(he.useEffect)((function(){void 0===t?j&&u(j.getIngress):u(n),y(Object(Ee.a)(Object(Ee.a)({},v),{},{ingress:S}))}),[j,y,S]),b)return Object(Xe.jsx)("h1",{children:"Cargando..."});if(O)return Object(Xe.jsx)("h1",{children:Object(st.a)(O)});return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(qt,{open:p.active,title:"".concat(p.name," Ingreso"),component:function(e){switch(e){case"Crear":return Object(Xe.jsx)(na,{handleClose:C})}}(p.name),handleClose:C}),"RESUMEN-CAJA"===i||"CONSULTAR-CAJA"===i?"":at(nt.d,a,c,(function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(St.a,{title:"Crear Ingreso",children:Object(Xe.jsx)(Nt.a,{"aria-label":"add",size:"small",onClick:function(){return x({name:"Crear",active:!0})},children:Object(Xe.jsx)(Zt.a,{})})})})})),Object(Xe.jsx)(Jt.a,{component:Kt.a,style:{whiteSpace:"nowrap",marginTop:"CONSULTAR-CAJA"===i?20:0},children:Object(Xe.jsxs)(Vt.a,{size:"small","aria-label":"a dense table",children:[Object(Xe.jsxs)(Gt.a,{children:[Object(Xe.jsxs)(yt.a,{style:{background:"#28a745"},children:[Object(Xe.jsx)(Ct.a,{style:{color:"#fff"},align:"center",colSpan:"RESUMEN-CAJA"===i?4:5,children:"CONSULTAR-CAJA"===i?"Ingreso Total":"Ingreso de hoy"}),Object(Xe.jsx)(Ct.a,{style:{color:"#fff"},align:"center",colSpan:"RESUMEN-CAJA"===i?2:4,children:"Costo"})]}),Object(Xe.jsxs)(yt.a,{children:[Object(Xe.jsx)(Ct.a,{children:"Categoria"}),Object(Xe.jsx)(Ct.a,{children:"Detalle"}),"RESUMEN-CAJA"===i||Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(Ct.a,{children:"Observaci\xf3n"})}),Object(Xe.jsx)(Ct.a,{children:"Usuario"}),Object(Xe.jsx)(Ct.a,{align:"center",children:"Unidades"}),Object(Xe.jsx)(Ct.a,{align:"right",children:"Monto"}),Object(Xe.jsx)(Ct.a,{align:"right",children:"Monto total"}),"RESUMEN-CAJA"===i||"CONSULTAR-CAJA"===i?"":Object(Xe.jsx)(Ct.a,{align:"right",children:"Opciones"})]})]}),Object(Xe.jsxs)(Ht.a,{children:[s.map((function(e){return Object(Xe.jsx)(ia,{ingres:e},e.id)})),Object(Xe.jsxs)(yt.a,{children:[Object(Xe.jsx)(Ct.a,{colSpan:"RESUMEN-CAJA"===i?4:5}),Object(Xe.jsx)(Ct.a,{children:Object(Xe.jsx)("strong",{children:"Total"})}),Object(Xe.jsx)(Ct.a,{align:"right",children:Object(Xe.jsx)("strong",{style:{color:"green"},children:Nn(S)})}),"RESUMEN-CAJA"===i||"CONSULTAR-CAJA"===i?"":Object(Xe.jsx)(Ct.a,{colSpan:3})]})]})]})})]})},ua=(n(237),function(e){var t=e.checkMoney,n=e.resultIngress,a=e.resultEgress,r=Object(he.useState)({ingress:0}),c=Object(Se.a)(r,2),i=c[0],o=c[1],l=Object(he.useState)({egress:0}),s=Object(Se.a)(l,2),u=s[0],d=s[1];return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsxs)(_n,{value:{summaryIngress:i,setSummaryIngress:o,summaryEgress:u,setSummaryEgress:d},children:[Object(Xe.jsxs)("div",{className:"content-tables-i-e",children:[Object(Xe.jsx)("div",{className:"card-table",style:{marginRight:"4%"},children:Object(Xe.jsx)(sa,{checkMoney:t,resultIngress:n,resultEgress:a})}),Object(Xe.jsx)("div",{className:"card-table",children:Object(Xe.jsx)(Gn,{checkMoney:t,resultIngress:n,resultEgress:a})})]}),Object(Xe.jsx)("div",{style:{marginTop:20},children:Object(Xe.jsx)(Jt.a,{component:Kt.a,children:Object(Xe.jsx)(Vt.a,{size:"small","aria-label":"a dense table",children:Object(Xe.jsx)(Ht.a,{children:Object(Xe.jsxs)(yt.a,{children:[Object(Xe.jsx)(Ct.a,{children:Object(Xe.jsx)("strong",{children:"Resumen total"})}),Object(Xe.jsx)(Ct.a,{align:"right",children:Object(Xe.jsx)("strong",{style:i.ingress-u.egress<0?{color:"red"}:{color:"green"},children:i.ingress-u.egress<0?Nn(i.ingress-u.egress):"+".concat(Nn(i.ingress-u.egress))})})]})})})})})]})})}),da=Object(ke.gql)(C||(C=Object(we.a)(["\n  query getEgressByDates($start: String!, $end: String!) {\n    getEgressByDates(start: $start, end: $end) {\n      id\n      detail\n      observation\n      units\n      amount\n      createdAt\n      updatedAt\n      category {\n        name\n      }\n      user {\n        name\n      }\n    }\n  }\n"]))),ja=Object(ke.gql)(S||(S=Object(we.a)(["\n  query getIngressByDates($start: String!, $end: String!) {\n    getIngressByDates(start: $start, end: $end) {\n      id\n      detail\n      observation\n      units\n      amount\n      createdAt\n      updatedAt\n      category {\n        name\n      }\n      user {\n        name\n      }\n    }\n  }\n"]))),ba=function(){var e=Bt()().utc().local().format("YYYY-MM-DD"),t=Object(He.d)((function(e){return e.authReducer.authUser})),n=Object(He.d)((function(e){return e.page.user})),a=n.module,r=(n.page,function(){var e=Object(ke.useLazyQuery)(ja),t=Object(Se.a)(e,2),n=t[0],a=t[1],r=a.error,c=a.loading;return{getIngressByDates:n,data:a.data,error:r,loading:c}}()),c=function(){var e=Object(ke.useLazyQuery)(da),t=Object(Se.a)(e,2),n=t[0],a=t[1],r=a.error,c=a.loading;return{getEgressByDates:n,data:a.data,error:r,loading:c}}(),i={dateStart:e,dateEnd:e},o=Object(he.useState)(i),l=Object(Se.a)(o,2),s=l[0],u=l[1],d=Object(he.useState)([]),j=Object(Se.a)(d,2),b=j[0],O=j[1],m=Object(he.useState)([]),h=Object(Se.a)(m,2),p=h[0],x=h[1],g=function(e){u(Object(Ee.a)(Object(Ee.a)({},s),{},Object(rt.a)({},e.target.name,e.target.value)))},f=function(){var e=Object(Me.a)(Ae.a.mark((function e(t,n){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getIngressByDates({variables:{start:t,end:n}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(Me.a)(Ae.a.mark((function e(t,n){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.getEgressByDates({variables:{start:t,end:n}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}();Object(he.useEffect)((function(){var e,t;r.data&&O((null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.getIngressByDates)||[]);c.data&&x((null===c||void 0===c||null===(t=c.data)||void 0===t?void 0:t.getEgressByDates)||[])}),[r.data,c.data]);return Object(Xe.jsx)(Xe.Fragment,{children:at(nt.c,t,a,(function(){return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsxs)(dt.a,{container:!0,spacing:3,children:[Object(Xe.jsx)(dt.a,{item:!0,xs:3,children:Object(Xe.jsx)(ht,{fullWidth:!0,type:"date",onChange:g,name:"dateStart",autoComplete:"off",id:"idStart",label:"Desde",variant:"filled",value:s.dateStart})}),Object(Xe.jsx)(dt.a,{item:!0,xs:3,children:Object(Xe.jsx)(ht,{fullWidth:!0,type:"date",onChange:g,name:"dateEnd",autoComplete:"off",id:"idEnd",label:"Hasta",variant:"filled",value:s.dateEnd})}),Object(Xe.jsx)(dt.a,{item:!0,xs:3,style:{display:"flex",alignItems:"center"},children:Object(Xe.jsx)(pt.a,{onClick:function(){return f(s.dateStart,s.dateEnd)&&v(s.dateStart,s.dateEnd)},variant:"contained",size:"large",color:"primary",children:"Consultar"})})]}),Object(Xe.jsx)(ua,{checkMoney:s,resultIngress:b,resultEgress:p})]})}))})},Oa=Object(ke.gql)(w||(w=Object(we.a)(["\n  query getBrandsByCategory($category: String!) {\n    getBrandsByCategory(category: $category) {\n      id\n      name\n    }\n  }\n"]))),ma=function(e){var t=Object(ke.useQuery)(Oa,{variables:{category:e}}),n=t.error,a=t.loading;return{data:t.data,error:n,loading:a}},ha=Object(ke.gql)(k||(k=Object(we.a)(["\n  query getModelsByBrand($brand: String!) {\n    getModelsByBrand(brand: $brand) {\n      id\n      name\n    }\n  }\n"]))),pa=function(e){var t=Object(ke.useQuery)(ha,{variables:{brand:e}}),n=t.error,a=t.loading;return{data:t.data,error:n,loading:a}},xa=Object(ke.gql)(I||(I=Object(we.a)(["\n  query getProductsByCategoryBrandModel(\n    $category: String!\n    $brand: String!\n    $model: String!\n  ) {\n    getProductsByCategoryBrandModel(\n      category: $category\n      brand: $brand\n      model: $model\n    ) {\n      id\n      name\n    }\n  }\n"]))),ga=Object(ke.gql)(A||(A=Object(we.a)(["\n  query getProductByName($product: String!) {\n    getProductByName(product: $product) {\n      id\n      name\n      description\n      price\n      createdAt\n      updatedAt\n    }\n  }\n"]))),fa=n(325),va=n(334),ya=n(319),Ca=Object(ke.gql)(M||(M=Object(we.a)(["\n  query getServicesByCategory($category: String!) {\n    getServicesByCategory(category: $category) {\n      id\n      name\n      description\n      price\n    }\n  }\n"]))),Sa=Object(ke.gql)(E||(E=Object(we.a)(["\n  query getServiceByName($service: String!) {\n    getServiceByName(service: $service) {\n      id\n      name\n      description\n      price\n      createdAt\n      updatedAt\n    }\n  }\n"]))),wa={category:"",brand:"",model:"",product:"",service:""},ka={category:"",brand:"",model:"",product:"",service:""},Ia={product:!0,service:!1},Aa=function(){Object(He.d)((function(e){return e.authReducer.authUser}));var e=Object(He.d)((function(e){return e.page.user})),t=(e.module,e.page,Object(he.useState)(ka)),n=Object(Se.a)(t,2),a=n[0],r=n[1],c=Object(he.useState)(wa),i=Object(Se.a)(c,2),o=i[0],l=i[1],s=Object(he.useState)([]),u=Object(Se.a)(s,2),d=u[0],j=u[1],b=Object(he.useState)([]),O=Object(Se.a)(b,2),m=O[0],h=O[1],p=Object(he.useState)([]),x=Object(Se.a)(p,2),g=x[0],f=x[1],v=Object(he.useState)([]),y=Object(Se.a)(v,2),C=y[0],S=y[1],w=Object(he.useState)([]),k=Object(Se.a)(w,2),I=k[0],A=k[1],M=Object(he.useState)(Ia),E=Object(Se.a)(M,2),D=E[0],N=E[1],F=sn().data,R=ma(a.category||""),U=function(e){var t=Object(ke.useQuery)(Ca,{variables:{category:e}}),n=t.error,a=t.loading;return{data:t.data,error:n,loading:a}}(a.category||""),Y=pa(a.brand||""),q=function(e,t,n){var a=Object(ke.useQuery)(xa,{variables:{category:e,brand:t,model:n}}),r=a.error,c=a.loading;return{data:a.data,error:r,loading:c}}(a.category||"",a.brand||"",a.model||""),z=function(){var e=Object(ke.useLazyQuery)(ga),t=Object(Se.a)(e,2),n=t[0],a=t[1],r=a.error,c=a.loading;return{getProductByName:n,data:a.data,error:r,loading:c}}(),B=function(){var e=Object(ke.useLazyQuery)(Sa),t=Object(Se.a)(e,2),n=t[0],a=t[1],r=a.error,c=a.loading;return{getServiceByName:n,data:a.data,error:r,loading:c}}(),P=Object(he.useCallback)((function(){j((null===F||void 0===F?void 0:F.getCategorys)||[])}),[F]),$=Object(he.useCallback)((function(){var e;h((null===R||void 0===R||null===(e=R.data)||void 0===e?void 0:e.getBrandsByCategory)||[])}),[R]),L=Object(he.useCallback)((function(){var e;A((null===U||void 0===U||null===(e=U.data)||void 0===e?void 0:e.getServicesByCategory)||[])}),[U]),T=Object(he.useCallback)((function(){var e;f((null===Y||void 0===Y||null===(e=Y.data)||void 0===e?void 0:e.getModelsByBrand)||[])}),[Y]),W=Object(he.useCallback)((function(){var e;S((null===q||void 0===q||null===(e=q.data)||void 0===e?void 0:e.getProductsByCategoryBrandModel)||[])}),[q]),Q=function(){var e=Object(Me.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.getProductByName({variables:{product:t}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(Me.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.getServiceByName({variables:{service:t}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();return Object(he.useEffect)((function(){P(),$(),T(),W(),L()}),[P,$,T,W,L]),Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsxs)("div",{style:{background:"#fff",borderRadius:6,border:"1px solid #e2e2e1"},children:[Object(Xe.jsx)("div",{style:{margin:"20px 20px 0px 20px"},children:Object(Xe.jsxs)(va.a,{row:!0,"aria-label":"position",onChange:function(e){"product"===e.target.name?N({product:D.service,service:!D.service}):N({product:!D.product,service:D.product})},children:[Object(Xe.jsx)(ya.a,{value:"product",checked:D.product,control:Object(Xe.jsx)(fa.a,{color:"primary",name:"product"}),label:"Producto"}),Object(Xe.jsx)(ya.a,{value:"service",checked:D.service,control:Object(Xe.jsx)(fa.a,{color:"primary",name:"service"}),label:"Servicio"})]})}),Object(Xe.jsxs)("div",{style:{display:"flex",padding:20},children:[Object(Xe.jsx)("div",{style:{width:"50%"},children:Object(Xe.jsxs)(dt.a,{container:!0,spacing:3,style:{display:"flex",flexDirection:"column"},children:[Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Un.a,{id:"idCategory",onChange:function(e,t){r(Object(Ee.a)(Object(Ee.a)({},a),{},{category:(null===t||void 0===t?void 0:t.name)||"",brand:"",model:"",product:""})),l(Object(Ee.a)(Object(Ee.a)({},o),{},{brand:"",model:""}))},onInputChange:function(e,t){l(Object(Ee.a)(Object(Ee.a)({},o),{},{category:t}))},options:d,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},renderInput:function(e){return Object(Xe.jsx)(Ot.a,Object(Ee.a)(Object(Ee.a)({},e),{},{name:"category",label:"Categoria",variant:"outlined"}))}})}),D.product?Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Un.a,{id:"idBrand",onChange:function(e,t){r(Object(Ee.a)(Object(Ee.a)({},a),{},{brand:(null===t||void 0===t?void 0:t.name)||"",model:"",product:""})),l(Object(Ee.a)(Object(Ee.a)({},o),{},{model:"",product:""}))},onInputChange:function(e,t){l(Object(Ee.a)(Object(Ee.a)({},o),{},{brand:t}))},options:m,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},renderInput:function(e){return Object(Xe.jsx)(Ot.a,Object(Ee.a)(Object(Ee.a)({},e),{},{name:"brand",label:"Marca",variant:"outlined"}))}})}),Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Un.a,{id:"idModel",onChange:function(e,t){r(Object(Ee.a)(Object(Ee.a)({},a),{},{model:(null===t||void 0===t?void 0:t.name)||"",product:""})),l(Object(Ee.a)(Object(Ee.a)({},o),{},{product:""}))},onInputChange:function(e,t){l(Object(Ee.a)(Object(Ee.a)({},o),{},{model:t}))},options:g,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},renderInput:function(e){return Object(Xe.jsx)(Ot.a,Object(Ee.a)(Object(Ee.a)({},e),{},{name:"model",label:"Modelo",variant:"outlined"}))}})}),Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Un.a,{id:"idProduct",onChange:function(e,t){r(Object(Ee.a)(Object(Ee.a)({},a),{},{product:(null===t||void 0===t?void 0:t.name)||""}))},onInputChange:function(e,t){l(Object(Ee.a)(Object(Ee.a)({},o),{},{product:t}))},options:C,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},renderInput:function(e){return Object(Xe.jsx)(Ot.a,Object(Ee.a)(Object(Ee.a)({},e),{},{name:"product",label:"Productos",variant:"outlined"}))}})})]}):Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Un.a,{id:"idService",onChange:function(e,t){r(Object(Ee.a)(Object(Ee.a)({},a),{},{service:(null===t||void 0===t?void 0:t.name)||""}))},onInputChange:function(e,t){l(Object(Ee.a)(Object(Ee.a)({},o),{},{service:t}))},options:I,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},renderInput:function(e){return Object(Xe.jsx)(Ot.a,Object(Ee.a)(Object(Ee.a)({},e),{},{name:"service",label:"Servicios",variant:"outlined"}))}})}),D.product?Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:z.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{fullWidth:!0,type:"button",onClick:function(){return Q(o.product)},color:"primary",variant:"contained",children:"Consultar"})}):Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:B.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{fullWidth:!0,type:"button",onClick:function(){return _(o.service)},color:"primary",variant:"contained",children:"Consultar"})})]})}),Object(Xe.jsxs)("div",{style:{width:"50%",padding:"0px 0px 0px 20px",display:"flex",flexDirection:"column"},children:[Object(Xe.jsxs)("div",{style:{height:"80%",display:"flex",flexDirection:"column"},children:[Object(Xe.jsx)("div",{style:{height:"10%",display:"flex",justifyContent:"center",background:z.data||B.data?"yellow":"#fff"},children:Object(Xe.jsx)("strong",{children:D.product?z.data&&"Descripci\xf3n del producto ".concat(z.data.getProductByName.name):B.data&&"Descripci\xf3n del servicio ".concat(B.data.getServiceByName.name)})}),Object(Xe.jsx)("div",{style:{height:"90%",display:"flex",justifyContent:"center",wordBreak:"break-all",fontSize:"15px",alignItems:"center"},children:D.product?z.data&&z.data.getProductByName.description:B.data&&B.data.getServiceByName.description})]}),Object(Xe.jsx)("div",{style:{height:"20%",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(Xe.jsx)("label",{style:{fontSize:75},children:D.product?z.data&&Nn(z.data.getProductByName.price):B.data&&Nn(B.data.getServiceByName.price)})})]})]})]})})},Ma=Object(ke.gql)(D||(D=Object(we.a)(["\n  query getCustomer {\n    getCustomer {\n      id\n      name\n      lastName\n      document\n      numDocument\n      cellphone_1\n      cellphone_2\n      direction\n      username\n      password\n      createdAt\n      updatedAt\n    }\n  }\n"]))),Ea=function(){var e=Object(ke.useQuery)(Ma);return{data:e.data,error:e.error,loading:e.loading}},Da=Object(ke.gql)(N||(N=Object(we.a)(["\n  mutation updateCustomer($customerInput: UpdateCustomerInput!) {\n    updateCustomer(customerInput: $customerInput) {\n      id\n      name\n      lastName\n      document\n      numDocument\n      cellphone_1\n      cellphone_2\n      direction\n      username\n      password\n      createdAt\n      updatedAt\n    }\n  }\n"]))),Na=Object(ke.gql)(F||(F=Object(we.a)(["\n  mutation registerCustomer($customerInput: CreateCustomerInput!) {\n    registerCustomer(customerInput: $customerInput) {\n      id\n      name\n      lastName\n      document\n      numDocument\n      cellphone_1\n      cellphone_2\n      direction\n      username\n      password\n      createdAt\n      updatedAt\n    }\n  }\n"]))),Fa={type:"",text:""},Ra=function(e){var t=e.handleClose,n=e.customer,a={id:(null===n||void 0===n?void 0:n.id)||"",name:(null===n||void 0===n?void 0:n.name)||"",lastName:(null===n||void 0===n?void 0:n.lastName)||"",document:(null===n||void 0===n?void 0:n.document)||"",numDocument:(null===n||void 0===n?void 0:n.numDocument)||"",cellphone_1:(null===n||void 0===n?void 0:n.cellphone_1)||"",cellphone_2:(null===n||void 0===n?void 0:n.cellphone_2)||"",direction:(null===n||void 0===n?void 0:n.direction)||"",username:(null===n||void 0===n?void 0:n.username)||"",password:(null===n||void 0===n?void 0:n.password)||""},r=Object(he.useState)(a.id?a:{name:"",lastName:"",document:"",numDocument:"",cellphone_1:"",username:"",password:""}),c=Object(Se.a)(r,2),i=c[0],o=c[1],l=Object(He.c)(),s=function(){var e=Object(ke.useMutation)(Da,{refetchQueries:function(){return[{query:Ma}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{updateCustomer:n,error:a.error,loading:a.loading}}(),u=function(){var e=Object(ke.useMutation)(Na,{refetchQueries:function(){return[{query:Ma}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{registerCustomer:n,error:a.error,loading:a.loading}}(),d=function(e){o(Object(Ee.a)(Object(Ee.a)({},i),{},Object(rt.a)({},e.target.name,e.target.value)))},j=function(){var e=Object(Me.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!i.id){e.next=13;break}return e.prev=2,e.next=5,s.updateCustomer({variables:{customerInput:i}});case 5:l(Object(ut.b)({type:"success",text:"La cliente se actualiz\xf3 correctamente."})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),l(Object(ut.b)({type:"error",text:Object(st.a)(e.t0)}));case 11:e.next=22;break;case 13:return e.prev=13,e.next=16,u.registerCustomer({variables:{customerInput:i}});case 16:l(Object(ut.b)({type:"success",text:"La cliente ha sido registrado correctamente."})),e.next=22;break;case 19:e.prev=19,e.t1=e.catch(13),l(Object(ut.b)({type:"error",text:Object(st.a)(e.t1)}));case 22:case"end":return e.stop()}}),e,null,[[2,8],[13,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)("form",{onSubmit:j,children:Object(Xe.jsxs)(dt.a,{container:!0,spacing:3,children:[Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsxs)(an.a,{variant:"outlined",fullWidth:!0,children:[Object(Xe.jsx)(rn.a,{id:"idDocument",children:"Documento"}),Object(Xe.jsxs)(on.a,{labelId:"Document",id:"idDocument",value:i.document,onChange:function(e){o(Object(Ee.a)(Object(Ee.a)({},i),{},Object(rt.a)({},e.target.name,e.target.value))),l(Object(ut.b)(Fa))},label:"Documento",name:"document",children:[Object(Xe.jsx)(cn.a,{value:"DNI",children:"DNI"}),Object(Xe.jsx)(cn.a,{value:"RUC",children:"RUC"})]})]})}),Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(ht,{fullWidth:!0,type:"text",onChange:d,name:"numDocument",autoComplete:"off",id:"idNumDocument",label:"Nro de documento",variant:"filled",value:i.numDocument})}),Object(Xe.jsx)(dt.a,{item:!0,xs:6,children:Object(Xe.jsx)(ht,{fullWidth:!0,type:"text",onChange:d,name:"name",autoComplete:"off",id:"idName",label:"Nombres",variant:"filled",value:i.name})}),Object(Xe.jsx)(dt.a,{item:!0,xs:6,children:Object(Xe.jsx)(ht,{fullWidth:!0,type:"text",onChange:d,name:"lastName",autoComplete:"off",id:"idLastName",label:"Apellidos",variant:"filled",value:i.lastName})}),Object(Xe.jsx)(dt.a,{item:!0,xs:6,children:Object(Xe.jsx)(ht,{fullWidth:!0,type:"text",onChange:d,name:"cellphone_1",autoComplete:"off",id:"idCellphone1",label:"Celular",variant:"filled",value:i.cellphone_1})}),Object(Xe.jsx)(dt.a,{item:!0,xs:6,children:Object(Xe.jsx)(ht,{fullWidth:!0,type:"text",onChange:d,name:"cellphone_2",autoComplete:"off",id:"idCellphonen2",label:"Celular (opcional)",variant:"filled",value:i.cellphone_2})}),Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(ht,{fullWidth:!0,type:"text",onChange:d,name:"direction",autoComplete:"off",id:"idDirection",label:"Direcci\xf3n",variant:"filled",value:i.direction})}),Object(Xe.jsx)(dt.a,{item:!0,xs:6,children:Object(Xe.jsx)(ht,{fullWidth:!0,type:"text",onChange:d,name:"username",autoComplete:"off",id:"idUserame",label:"Usuario",variant:"filled",value:i.username})}),Object(Xe.jsx)(dt.a,{item:!0,xs:6,children:Object(Xe.jsx)(ht,{fullWidth:!0,type:"text",onChange:d,name:"password",autoComplete:"off",id:"idPassword",label:"Contrase\xf1a",variant:"filled",value:i.password})}),Object(Xe.jsxs)(xt.a,{style:{width:"100%"},children:[Object(Xe.jsx)(pt.a,{onClick:t,color:"primary",children:"Cancelar"}),i.id?s.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Actualizar"}):u.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Registrar"})]})]})})})},Ua=Object(ke.gql)(R||(R=Object(we.a)(["\n  mutation deleteCustomer($id: String!) {\n    deleteCustomer(id: $id)\n  }\n"]))),Ya={type:"",text:""},qa={name:"",active:!1},za=function(e){var t=e.customer,n=Object(He.d)((function(e){return e.authReducer.authUser})),a=Object(He.d)((function(e){return e.page.user.module})),r=Object(he.useState)(qa),c=Object(Se.a)(r,2),i=c[0],o=c[1],l=Object(He.c)(),s=function(){var e=Object(ke.useMutation)(Ua,{refetchQueries:function(){return[{query:Ma}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{deleteCustomer:n,error:a.error,loading:a.loading}}(),u=function(){o(qa),l(Object(ut.b)(Ya))},d=function(){var e=Object(Me.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.deleteCustomer({variables:{id:t}});case 3:e.next=10;break;case 5:e.prev=5,e.t0=e.catch(0),o({name:"error",active:!0}),l(Object(ut.b)({type:"error",text:Object(st.a)(e.t0)})),i.active,i.name;case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(St.a,{title:"Eliminar Cliente",onClick:function(){return d(t.id)},children:Object(Xe.jsx)(Nt.a,{"aria-label":"customer",size:"small",children:Object(Xe.jsx)(Tt.a,{})})})})},b=function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(St.a,{title:"Editar Cliente",onClick:function(){return o({name:"Cliente",active:!0})},children:Object(Xe.jsx)(Nt.a,{"aria-label":"customer",size:"small",children:Object(Xe.jsx)($t.a,{})})})})};return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(qt,{open:i.active,dialog:t,title:i.name,component:function(e){switch(e){case"Cliente":return Object(Xe.jsx)(Ra,{customer:t,handleClose:u})}}(i.name),handleClose:u}),at(nt.c,n,a,(function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsxs)(yt.a,{children:[Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",children:"".concat(t.name," ").concat(t.lastName)}),Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",children:t.document}),Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",children:t.numDocument}),Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",children:t.cellphone_2?"".concat(t.cellphone_1,", ").concat(t.cellphone_2):"".concat(t.cellphone_1)}),Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",children:t.direction}),Object(Xe.jsxs)(Ct.a,{component:"th",scope:"row",align:"center",children:[t.username,"/",t.password]}),Object(Xe.jsx)(Ct.a,{children:Bt()(t.createdAt).format("DD/MM/YYYY")}),Object(Xe.jsx)(Ct.a,{children:Bt()(t.updatedAt).format("DD/MM/YYYY")}),Object(Xe.jsxs)(Ct.a,{align:"right",children:[at(nt.f,n,a,b),at(nt.e,n,a,j)]})]})})}))]})},Ba={name:"",active:!1},Pa={type:"",text:""},$a=function(){var e=Object(He.d)((function(e){return e.authReducer.authUser})),t=Object(He.d)((function(e){return e.page.user.module})),n=Object(he.useState)(Ba),a=Object(Se.a)(n,2),r=a[0],c=a[1],i=Object(He.c)(),o=Object(he.useState)([]),l=Object(Se.a)(o,2),s=l[0],u=l[1],d=Ea(),j=d.data,b=d.loading,O=d.error,m=function(){c(Ba),i(Object(ut.b)(Pa))};if(Object(he.useEffect)((function(){j&&u(j.getCustomer)}),[j]),b)return Object(Xe.jsx)("h1",{children:"Cargando..."});if(O)return Object(Xe.jsx)("h1",{children:Object(st.a)(O)});return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(qt,{open:r.active,title:"".concat(r.name," Cliente"),component:function(e){switch(e){case"Crear":return Object(Xe.jsx)(Ra,{handleClose:m})}}(r.name),handleClose:m}),at(nt.d,e,t,(function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(St.a,{title:"Crear Cliente",children:Object(Xe.jsx)(Nt.a,{"aria-label":"add",size:"small",onClick:function(){return c({name:"Crear",active:!0})},children:Object(Xe.jsx)(Zt.a,{})})})})})),Object(Xe.jsx)(Jt.a,{component:Kt.a,style:{marginTop:10,whiteSpace:"nowrap"},children:Object(Xe.jsxs)(Vt.a,{size:"small","aria-label":"a dense table",children:[Object(Xe.jsx)(Gt.a,{children:Object(Xe.jsxs)(yt.a,{children:[Object(Xe.jsx)(Ct.a,{children:"Nombres"}),Object(Xe.jsx)(Ct.a,{children:"Documento"}),Object(Xe.jsx)(Ct.a,{children:"Nro. Documento"}),Object(Xe.jsx)(Ct.a,{children:"Contacto"}),Object(Xe.jsx)(Ct.a,{children:"Direcci\xf3n"}),Object(Xe.jsx)(Ct.a,{children:"Credenciales"}),Object(Xe.jsx)(Ct.a,{children:"Fecha creada"}),Object(Xe.jsx)(Ct.a,{children:"Fecha modificada"}),Object(Xe.jsx)(Ct.a,{children:"Opciones"})]})}),Object(Xe.jsx)(Ht.a,{children:s.map((function(e){return Object(Xe.jsx)(za,{customer:e},e.id)}))})]})})]})},La=Object(ke.gql)(U||(U=Object(we.a)(["\n  query getDevices {\n    getDevices {\n      id\n      name\n      createdAt\n      updatedAt\n    }\n  }\n"]))),Ta=function(){var e=Object(ke.useQuery)(La);return{data:e.data,error:e.error,loading:e.loading}},Wa=Object(ke.gql)(Y||(Y=Object(we.a)(["\n  mutation updateDevice($deviceInput: UpdateDeviceInput!) {\n    updateDevice(deviceInput: $deviceInput) {\n      id\n      name\n      createdAt\n      updatedAt\n    }\n  }\n"]))),Qa=Object(ke.gql)(q||(q=Object(we.a)(["\n  mutation registerDevice($deviceInput: CreateDeviceInput!) {\n    registerDevice(deviceInput: $deviceInput) {\n      id\n      name\n      createdAt\n      updatedAt\n    }\n  }\n"]))),_a=function(e){var t=e.handleClose,n=e.device,a={id:(null===n||void 0===n?void 0:n.id)||"",name:(null===n||void 0===n?void 0:n.name)||""},r=Object(he.useState)(a.id?a:{name:""}),c=Object(Se.a)(r,2),i=c[0],o=c[1],l=Object(He.c)(),s=function(){var e=Object(ke.useMutation)(Wa,{refetchQueries:function(){return[{query:La}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{updateDevice:n,error:a.error,loading:a.loading}}(),u=function(){var e=Object(ke.useMutation)(Qa,{refetchQueries:function(){return[{query:La}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{registerDevice:n,error:a.error,loading:a.loading}}(),d=function(){var e=Object(Me.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!i.id){e.next=13;break}return e.prev=2,e.next=5,s.updateDevice({variables:{deviceInput:i}});case 5:l(Object(ut.b)({type:"success",text:"El dispositivo se actualiz\xf3 correctamente."})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),l(Object(ut.b)({type:"error",text:Object(st.a)(e.t0)}));case 11:e.next=22;break;case 13:return e.prev=13,e.next=16,u.registerDevice({variables:{deviceInput:i}});case 16:l(Object(ut.b)({type:"success",text:"La dispositivo ha sido registrado correctamente."})),e.next=22;break;case 19:e.prev=19,e.t1=e.catch(13),l(Object(ut.b)({type:"error",text:Object(st.a)(e.t1)}));case 22:case"end":return e.stop()}}),e,null,[[2,8],[13,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)("form",{onSubmit:d,children:Object(Xe.jsxs)(dt.a,{container:!0,spacing:3,children:[Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(ht,{fullWidth:!0,type:"text",onChange:function(e){o(Object(Ee.a)(Object(Ee.a)({},i),{},Object(rt.a)({},e.target.name,e.target.value)))},name:"name",autoComplete:"off",id:"idName",label:"Nombre",variant:"filled",value:i.name})}),Object(Xe.jsxs)(xt.a,{style:{width:"100%"},children:[Object(Xe.jsx)(pt.a,{onClick:t,color:"primary",children:"Cancelar"}),i.id?s.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Actualizar"}):u.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Registrar"})]})]})})})},Va=Object(ke.gql)(z||(z=Object(we.a)(["\n  mutation deleteDevice($id: String!) {\n    deleteDevice(id: $id)\n  }\n"]))),Ja={type:"",text:""},Ga={name:"",active:!1},Ha=function(e){var t=e.device,n=Object(He.d)((function(e){return e.authReducer.authUser})),a=Object(He.d)((function(e){return e.page.user.module})),r=Object(he.useState)(Ga),c=Object(Se.a)(r,2),i=c[0],o=c[1],l=Object(He.c)(),s=function(){var e=Object(ke.useMutation)(Va,{refetchQueries:function(){return[{query:La}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{deleteDevice:n,error:a.error,loading:a.loading}}(),u=function(){o(Ga),l(Object(ut.b)(Ja))},d=function(){var e=Object(Me.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.deleteDevice({variables:{id:t}});case 3:e.next=10;break;case 5:e.prev=5,e.t0=e.catch(0),o({name:"error",active:!0}),l(Object(ut.b)({type:"error",text:Object(st.a)(e.t0)})),i.active,i.name;case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(St.a,{title:"Eliminar dispositivo",onClick:function(){return d(t.id)},children:Object(Xe.jsx)(Nt.a,{"aria-label":"device",size:"small",children:Object(Xe.jsx)(Tt.a,{})})})})},b=function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(St.a,{title:"Editar dispositivo",onClick:function(){return o({name:"Device",active:!0})},children:Object(Xe.jsx)(Nt.a,{"aria-label":"device",size:"small",children:Object(Xe.jsx)($t.a,{})})})})};return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(qt,{open:i.active,dialog:t,title:i.name,component:function(e){switch(e){case"Device":return Object(Xe.jsx)(_a,{device:t,handleClose:u})}}(i.name),handleClose:u}),at(nt.c,n,a,(function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsxs)(yt.a,{children:[Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",children:t.name}),Object(Xe.jsx)(Ct.a,{children:Bt()(t.createdAt).format("DD/MM/YYYY")}),Object(Xe.jsx)(Ct.a,{children:Bt()(t.updatedAt).format("DD/MM/YYYY")}),Object(Xe.jsxs)(Ct.a,{align:"right",children:[at(nt.f,n,a,b),at(nt.e,n,a,j)]})]})})}))]})},Ka={name:"",active:!1},Xa={type:"",text:""},Za=function(){var e=Object(He.d)((function(e){return e.authReducer.authUser})),t=Object(He.d)((function(e){return e.page.user.module})),n=Object(he.useState)(Ka),a=Object(Se.a)(n,2),r=a[0],c=a[1],i=Object(He.c)(),o=Object(he.useState)([]),l=Object(Se.a)(o,2),s=l[0],u=l[1],d=Ta(),j=d.data,b=d.loading,O=d.error,m=function(){c(Ka),i(Object(ut.b)(Xa))};if(Object(he.useEffect)((function(){j&&u(j.getDevices)}),[j]),b)return Object(Xe.jsx)("h1",{children:"Cargando..."});if(O)return Object(Xe.jsx)("h1",{children:Object(st.a)(O)});return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(qt,{open:r.active,title:"".concat(r.name," Dispositivo"),component:function(e){switch(e){case"Crear":return Object(Xe.jsx)(_a,{handleClose:m})}}(r.name),handleClose:m}),at(nt.d,e,t,(function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(St.a,{title:"Crear dispositivo",children:Object(Xe.jsx)(Nt.a,{"aria-label":"add",size:"small",onClick:function(){return c({name:"Crear",active:!0})},children:Object(Xe.jsx)(Zt.a,{})})})})})),Object(Xe.jsx)(Jt.a,{component:Kt.a,style:{marginTop:10,whiteSpace:"nowrap"},children:Object(Xe.jsxs)(Vt.a,{size:"small","aria-label":"a dense table",children:[Object(Xe.jsx)(Gt.a,{children:Object(Xe.jsxs)(yt.a,{children:[Object(Xe.jsx)(Ct.a,{children:"Nombre"}),Object(Xe.jsx)(Ct.a,{children:"Fecha creada"}),Object(Xe.jsx)(Ct.a,{children:"Fecha modificada"}),Object(Xe.jsx)(Ct.a,{align:"right",children:"Opciones"})]})}),Object(Xe.jsx)(Ht.a,{children:s.map((function(e){return Object(Xe.jsx)(Ha,{device:e},e.id)}))})]})})]})},er=Object(ke.gql)(B||(B=Object(we.a)(["\n  query getModels {\n    getModels {\n      id\n      name\n      brand {\n        id\n        name\n      }\n    }\n  }\n"]))),tr=Object(ke.gql)(P||(P=Object(we.a)(["\n  mutation updateModel($modelInput: UpdateModelInput!) {\n    updateModel(modelInput: $modelInput) {\n      id\n      name\n    }\n  }\n"]))),nr=Object(ke.gql)($||($=Object(we.a)(["\n  mutation registerModel($modelInput: CreateModelInput!) {\n    registerModel(modelInput: $modelInput) {\n      id\n      name\n      brand {\n        id\n        name\n      }\n    }\n  }\n"]))),ar={type:"",text:""},rr=function(e){var t,n=e.handleClose,a=e.model,r={id:(null===a||void 0===a?void 0:a.id)||"",name:(null===a||void 0===a?void 0:a.name)||"",brand:(null===a||void 0===a||null===(t=a.brand)||void 0===t?void 0:t.name)||""},c=Object(he.useState)(r.id?r:{name:"",brand:""}),i=Object(Se.a)(c,2),o=i[0],l=i[1],s=Object(he.useState)([]),u=Object(Se.a)(s,2),d=u[0],j=u[1],b=dn().data,O=Object(He.c)(),m=function(){var e=Object(ke.useMutation)(tr,{refetchQueries:function(){return[{query:er}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{updateModel:n,error:a.error,loading:a.loading}}(),h=function(){var e=Object(ke.useMutation)(nr,{refetchQueries:function(){return[{query:er}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{registerModel:n,error:a.error,loading:a.loading}}(),p=function(){var e=Object(Me.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!o.id){e.next=13;break}return e.prev=2,e.next=5,m.updateModel({variables:{modelInput:o}});case 5:O(Object(ut.b)({type:"success",text:"El modelo se actualiz\xf3 correctamente."})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),O(Object(ut.b)({type:"error",text:Object(st.a)(e.t0)}));case 11:e.next=22;break;case 13:return e.prev=13,e.next=16,h.registerModel({variables:{modelInput:o}});case 16:O(Object(ut.b)({type:"success",text:"El modelo ha sido registrado correctamente."})),e.next=22;break;case 19:e.prev=19,e.t1=e.catch(13),O(Object(ut.b)({type:"error",text:Object(st.a)(e.t1)}));case 22:case"end":return e.stop()}}),e,null,[[2,8],[13,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(he.useEffect)((function(){b&&j(b.getBrands)}),[b]),Object(Xe.jsx)("form",{onSubmit:p,children:Object(Xe.jsxs)(dt.a,{container:!0,spacing:3,children:[Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsxs)(an.a,{variant:"outlined",fullWidth:!0,children:[Object(Xe.jsx)(rn.a,{id:"idMarca",children:"Marca"}),Object(Xe.jsx)(on.a,{labelId:"Marca",id:"idMarca",value:o.brand,onChange:function(e){l(Object(Ee.a)(Object(Ee.a)({},o),{},Object(rt.a)({},e.target.name,e.target.value))),O(Object(ut.b)(ar))},label:"Marca",name:"brand",children:d.map((function(e){return Object(Xe.jsx)(cn.a,{value:e.name,children:e.name},e.id)}))})]})}),Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,onChange:function(e){l(Object(Ee.a)(Object(Ee.a)({},o),{},Object(rt.a)({},e.target.name,e.target.value))),O(Object(ut.b)(ar))},name:"name",autoComplete:"off",id:"idName",label:"Modelo",variant:"outlined",value:o.name})}),Object(Xe.jsxs)(xt.a,{style:{width:"100%"},children:[Object(Xe.jsx)(pt.a,{onClick:function(){return n()},color:"primary",children:"Cancelar"}),o.id?m.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Actualizar"}):h.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Registrar"})]})]})})},cr={type:"",text:""},ir={name:"",active:!1},or=function(e){var t=e.model,n=Object(He.d)((function(e){return e.authReducer.authUser})),a=Object(He.d)((function(e){return e.page.user.module})),r=Object(he.useState)(ir),c=Object(Se.a)(r,2),i=c[0],o=c[1],l=Object(He.c)(),s=function(){o(ir),l(Object(ut.b)(cr))},u=function(e){switch(e){case"Modelo":return Object(Xe.jsx)(rr,{model:t,handleClose:s})}},d=function(){return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(qt,{open:i.active,dialog:t,title:i.name,component:u(i.name),handleClose:s}),Object(Xe.jsx)(Ct.a,{align:"right",children:Object(Xe.jsx)(St.a,{title:"Editar Modelo",onClick:function(){return o({name:"Modelo",active:!0})},children:Object(Xe.jsx)(Nt.a,{"aria-label":"role",size:"small",children:Object(Xe.jsx)($t.a,{})})})})]})};return Object(Xe.jsx)(Xe.Fragment,{children:at(nt.c,n,a,(function(){var e;return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsxs)(yt.a,{children:[Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",children:null===(e=t.brand)||void 0===e?void 0:e.name}),Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",children:t.name}),Object(Xe.jsx)(Ct.a,{children:Bt()(t.createdAt).format("DD/MM/YYYY")}),Object(Xe.jsx)(Ct.a,{children:Bt()(t.updatedAt).format("DD/MM/YYYY")}),at(nt.f,n,a,d)]})})}))})},lr={type:"",text:""},sr={name:"",active:!1},ur=function(){var e=Object(He.d)((function(e){return e.authReducer.authUser})),t=Object(He.d)((function(e){return e.page.user.module})),n=Object(he.useState)(sr),a=Object(Se.a)(n,2),r=a[0],c=a[1],i=Object(He.c)(),o=function(){var e=Object(ke.useQuery)(er);return{data:e.data,error:e.error,loading:e.loading}}(),l=o.data,s=o.loading,u=o.error,d=Object(he.useState)([]),j=Object(Se.a)(d,2),b=j[0],O=j[1],m=function(){c(sr),i(Object(ut.b)(lr))},h=function(e){switch(e){case"Crear":return Object(Xe.jsx)(rr,{handleClose:m})}};if(Object(he.useEffect)((function(){l&&O(l.getModels)}),[l]),s)return Object(Xe.jsx)("h1",{children:"Cargando..."});if(u)return Object(Xe.jsx)("h1",{children:Object(st.a)(u)});return Object(Xe.jsxs)(Xe.Fragment,{children:[at(nt.d,e,t,(function(){return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(qt,{open:r.active,title:"".concat(r.name," Modelo"),component:h(r.name),handleClose:m}),Object(Xe.jsx)(St.a,{title:"Crear Modelo",children:Object(Xe.jsx)(Nt.a,{"aria-label":"add",size:"small",onClick:function(){return c({name:"Crear",active:!0})},children:Object(Xe.jsx)(Zt.a,{})})})]})})),Object(Xe.jsx)(Jt.a,{component:Kt.a,style:{whiteSpace:"nowrap",marginTop:10},children:Object(Xe.jsxs)(Vt.a,{size:"small","aria-label":"a dense table",children:[Object(Xe.jsx)(Gt.a,{children:Object(Xe.jsxs)(yt.a,{children:[Object(Xe.jsx)(Ct.a,{children:"Marca"}),Object(Xe.jsx)(Ct.a,{children:"Modelo"}),Object(Xe.jsx)(Ct.a,{children:"Fecha creada"}),Object(Xe.jsx)(Ct.a,{children:"Fecha modificada"}),at(nt.f,e,t,(function(){return Object(Xe.jsx)(Ct.a,{align:"right",children:"Opciones"})}))]})}),Object(Xe.jsx)(Ht.a,{children:b.map((function(e){return Object(Xe.jsx)(or,{model:e},e.id)}))})]})})]})},dr=n(78),jr=n(335),br=function(e){var t=e.menu;return Object(Xe.jsxs)(Xe.Fragment,{children:[t.name===nt.a?Object(Xe.jsx)(jr.a,{style:{margin:"3px"},size:"small",label:t.name,color:"primary"}):Object(Xe.jsx)(jr.a,{style:{margin:"3px"},size:"small",label:t.name,onDelete:function(){return alert("keiner")},color:"primary"}),"\xa0"]})},Or=function(e){var t=e.access;return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(jr.a,{style:{margin:"3px"},size:"small",label:t.name,onDelete:function(){return alert("keiner")},color:"primary"})})},mr=n(153),hr=n.n(mr),pr=n(190),xr=n.n(pr),gr=Object(ke.gql)(L||(L=Object(we.a)(["\n  mutation updateModule($moduleInput: UpdateModuleInput!) {\n    updateModule(moduleInput: $moduleInput) {\n      id\n      name\n      description\n      menus {\n        id\n        name\n      }\n      access {\n        id\n        name\n      }\n    }\n  }\n"]))),fr=function(){var e=Object(ke.useMutation)(gr,{refetchQueries:function(){return[{query:dr.a}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{updateModule:n,error:a.error,loading:a.loading}},vr=n(304),yr=Object(ke.gql)(T||(T=Object(we.a)(["\n  mutation registerModule($moduleInput: CreateModuleInput!) {\n    registerModule(moduleInput: $moduleInput) {\n      id\n      name\n      description\n      createdAt\n      updatedAt\n      menus {\n        id\n        name\n      }\n      access {\n        id\n        name\n      }\n    }\n  }\n"]))),Cr=Object(ke.gql)(W||(W=Object(we.a)(["\n  query getAccess {\n    getAccess {\n      id\n      name\n    }\n  }\n"]))),Sr=function(){var e=Object(ke.useQuery)(Cr),t=e.data,n=e.error,a=e.loading,r=Object(He.c)();return n&&r(Object(ut.b)({type:"error",text:n.message})),{data:t,error:n,loading:a}},wr=Object(ke.gql)(Q||(Q=Object(we.a)(["\n  query getMenus {\n    getMenus {\n      id\n      name\n      link\n      createdAt\n      updatedAt\n    }\n  }\n"]))),kr=function(){var e=Object(ke.useQuery)(wr),t=e.data,n=e.error,a=e.loading,r=Object(He.c)();return n&&r(Object(ut.b)({type:"error",text:n.message})),{data:t,error:n,loading:a}},Ir=Object(jt.a)((function(e){return Object(bt.a)({formControl:{margin:e.spacing(1),minWidth:120,maxWidth:300},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},noLabel:{marginTop:e.spacing(3)}})})),Ar={PaperProps:{style:{maxHeight:224,width:250}}},Mr=function(e){var t=e.module,n=e.handleClose,a={id:(null===t||void 0===t?void 0:t.id)||"",name:(null===t||void 0===t?void 0:t.name)||"",description:(null===t||void 0===t?void 0:t.description)||""},r=fr(),c=function(){var e=Object(ke.useMutation)(yr,{refetchQueries:function(){return[{query:dr.a}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{registerModule:n,error:a.error,loading:a.loading}}(),i=Sr(),o=kr(),l=Object(he.useState)([]),s=Object(Se.a)(l,2),u=s[0],d=s[1],j=Object(he.useState)([]),b=Object(Se.a)(j,2),O=b[0],m=b[1],h=Object(he.useState)([]),p=Object(Se.a)(h,2),x=p[0],g=p[1],f=Object(he.useState)([]),v=Object(Se.a)(f,2),y=v[0],C=v[1],S=Object(he.useState)(a.id?a:{name:"",description:""}),w=Object(Se.a)(S,2),k=w[0],I=w[1],A=Object(He.c)(),M=Ir(),E=Object(Et.a)(),D=function(e){I(Object(Ee.a)(Object(Ee.a)({},k),{},Object(rt.a)({},e.target.name,e.target.value))),A(Object(ut.b)({type:"",text:""}))},N=u.map((function(e){return{name:e}})),F=O.map((function(e){return{name:e}}));function R(e,t,n){return{fontWeight:-1===t.indexOf(e)?n.typography.fontWeightRegular:n.typography.fontWeightMedium}}var U=function(){var e=Object(Me.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!k.id){e.next=13;break}return e.prev=2,e.next=5,r.updateModule({variables:{moduleInput:k}});case 5:A(Object(ut.b)({type:"success",text:"El modulo se actualiz\xf3 correctamente."})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),A(Object(ut.b)({type:"error",text:Object(st.a)(e.t0)}));case 11:e.next=22;break;case 13:return e.prev=13,e.next=16,c.registerModule({variables:{moduleInput:Object(Ee.a)(Object(Ee.a)({},k),{},{access:F,menus:N})}});case 16:A(Object(ut.b)({type:"success",text:"El modulo se registr\xf3 correctamente."})),e.next=22;break;case 19:e.prev=19,e.t1=e.catch(13),A(Object(ut.b)({type:"error",text:Object(st.a)(e.t1)}));case 22:case"end":return e.stop()}}),e,null,[[2,8],[13,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(he.useEffect)((function(){if(o.data&&i.data){var e=o.data.getMenus.filter((function(e){return e.name!==nt.a}));g(e),C(i.data.getAccess)}}),[o.data,i.data,k.name]),Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)("form",{onSubmit:U,children:Object(Xe.jsxs)(dt.a,{container:!0,spacing:3,children:[k.id&&k.name===nt.b?"":Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,onChange:D,name:"name",id:"idName",label:"Modulo",variant:"outlined",value:k.name})}),Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,onChange:D,name:"description",id:"idDescription",label:"Descripci\xf3n",multiline:!0,value:k.description,variant:"outlined"})}),!a.id&&Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsxs)(an.a,{variant:"outlined",fullWidth:!0,children:[Object(Xe.jsx)(rn.a,{id:"menus-mutiple-chip-label",children:"Menus"}),Object(Xe.jsx)(on.a,{labelId:"menus-mutiple-chip-label",id:"menus-mutiple-chip",multiple:!0,value:u,onChange:function(e){d(e.target.value),A(Object(ut.b)({type:"",text:""}))},input:Object(Xe.jsx)(vr.a,{id:"select-multiple-chip"}),renderValue:function(e){return Object(Xe.jsx)("div",{className:M.chips,children:e.map((function(e){return Object(Xe.jsx)(jr.a,{label:e,className:e.chip},e)}))})},MenuProps:Ar,children:x.map((function(e){return Object(Xe.jsx)(cn.a,{value:e.name,style:R(e.name,k.menus||[],E),children:e.name},e.id)}))})]})}),Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsxs)(an.a,{variant:"outlined",fullWidth:!0,children:[Object(Xe.jsx)(rn.a,{id:"access-mutiple-chip-label",children:"Accesos"}),Object(Xe.jsx)(on.a,{labelId:"access-mutiple-chip-label",id:"access-mutiple-chip",multiple:!0,value:O,onChange:function(e){m(e.target.value),A(Object(ut.b)({type:"",text:""}))},input:Object(Xe.jsx)(vr.a,{id:"select-multiple-chip"}),renderValue:function(e){return Object(Xe.jsx)("div",{className:M.chips,children:e.map((function(e){return Object(Xe.jsx)(jr.a,{label:e,className:e.chip},e)}))})},MenuProps:Ar,children:y.map((function(e){return Object(Xe.jsx)(cn.a,{value:e.name,style:R(e.name,k.access||[],E),children:e.name},e.id)}))})]})})]}),Object(Xe.jsxs)(xt.a,{style:{width:"100%"},children:[Object(Xe.jsx)(pt.a,{onClick:function(){return n()},color:"primary",children:"Cancelar"}),k.id?r.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Actualizar"}):c.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Registrar"})]})]})})})},Er=n(112),Dr=function(e){var t=e.module,n=e.handleClose,a=Object(he.useState)([]),r=Object(Se.a)(a,2),c=r[0],i=r[1],o=Object(he.useState)([]),l=Object(Se.a)(o,2),s=l[0],u=l[1],d=Object(he.useState)([]),j=Object(Se.a)(d,2),b=j[0],O=j[1],m=Object(He.c)(),h=fr(),p=Sr(),x=Object(He.d)((function(e){return e.message})),g=x.type,f=x.text,v=function(){var e=Object(Me.a)(Ae.a.mark((function e(n){var a;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=s.map((function(e){return{name:e.name}})),e.prev=2,e.next=5,h.updateModule({variables:{moduleInput:{id:t.id,access:a}}});case 5:return e.abrupt("return",m(Object(ut.b)({type:"success",text:"El modulo actualiz\xf3 sus accesos correctamente."})));case 8:e.prev=8,e.t0=e.catch(2),m(Object(ut.b)({type:"error",text:Object(st.a)(e.t0)}));case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),y=Object(he.useCallback)((function(){var e=p.data.getAccess.filter((function(e){var n;return!(null===(n=t.access)||void 0===n?void 0:n.some((function(t){return e.name===t.name})))}));i(e)}),[t,p.data]);return Object(he.useEffect)((function(){t&&p.data&&(u(t.access||[]),y())}),[t,p.data,y]),"error"===g?Object(Xe.jsx)("h1",{children:f}):Object(Xe.jsx)("form",{onSubmit:v,children:Object(Xe.jsxs)(dt.a,{container:!0,spacing:3,children:[Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Er.a,{setListAvailable:i,setListCurrent:u,setChecked:O,checked:b,listAvailable:c,titleAvailable:"Accesos disponibles",listCurrent:s,titleCurrent:"Accesos actuales",loading:p.loading})}),Object(Xe.jsxs)(xt.a,{style:{width:"100%"},children:[Object(Xe.jsx)(pt.a,{onClick:n,color:"primary",children:"Cancelar"}),Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",disabled:!!h.loading,children:t.id?"Actualizar":"Registrar"})]})]})})},Nr=function(e){var t=e.module,n=e.handleClose,a=Object(he.useState)([]),r=Object(Se.a)(a,2),c=r[0],i=r[1],o=Object(he.useState)([]),l=Object(Se.a)(o,2),s=l[0],u=l[1],d=Object(he.useState)([]),j=Object(Se.a)(d,2),b=j[0],O=j[1],m=Object(He.c)(),h=kr(),p=fr(),x=Object(He.d)((function(e){return e.message})),g=x.type,f=x.text,v=function(){var e=Object(Me.a)(Ae.a.mark((function e(n){var a;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=s.map((function(e){return{name:e.name}})),e.prev=2,e.next=5,p.updateModule({variables:{moduleInput:{id:t.id,menus:a}}});case 5:return e.abrupt("return",m(Object(ut.b)({type:"success",text:"El modulo actualiz\xf3 sus menu correctamente."})));case 8:e.prev=8,e.t0=e.catch(2),m(Object(ut.b)({type:"error",text:Object(st.a)(e.t0)}));case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),y=Object(he.useCallback)((function(){var e=h.data.getMenus.filter((function(e){var n;return!(null===(n=t.menus)||void 0===n?void 0:n.some((function(t){return e.name===t.name})))})).filter((function(e){return e.name!==nt.a}));i(e)}),[t,h.data]);return Object(he.useEffect)((function(){if(t&&h.data){var e,n=null===(e=t.menus)||void 0===e?void 0:e.filter((function(e){return e.name!==nt.a}));u(n||[]),y()}}),[t,h.data,y]),"error"===g?Object(Xe.jsx)("h1",{children:f}):Object(Xe.jsx)("form",{onSubmit:v,children:Object(Xe.jsxs)(dt.a,{container:!0,spacing:3,children:[Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Er.a,{setListAvailable:i,setListCurrent:u,setChecked:O,checked:b,listAvailable:c,titleAvailable:"Menus disponibles",listCurrent:s,titleCurrent:"Menus actuales",loading:h.loading})}),Object(Xe.jsxs)(xt.a,{style:{width:"100%"},children:[Object(Xe.jsx)(pt.a,{onClick:n,color:"primary",children:"Cancelar"}),Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",disabled:!!p.loading,children:t.id?"Actualizar":"Registrar"})]})]})})},Fr={name:"",active:!1},Rr=function(e){var t=e.module,n=Object(he.useState)(Fr),a=Object(Se.a)(n,2),r=a[0],c=a[1],i=Object(He.c)(),o=function(){c(Object(Ee.a)(Object(Ee.a)({},r),{},{active:!1})),i(Object(ut.b)({type:"",text:""}))};return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(qt,{open:r.active,dialog:t,title:r.name,component:function(e){switch(e){case"Modulo":return Object(Xe.jsx)(Mr,{module:t,handleClose:o});case"Acceso":return Object(Xe.jsx)(Dr,{module:t,handleClose:o});case"Menu":return Object(Xe.jsx)(Nr,{module:t,handleClose:o})}}(r.name),handleClose:o}),Object(Xe.jsxs)(yt.a,{children:[Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",children:t.name}),Object(Xe.jsx)(Ct.a,{children:t.description}),Object(Xe.jsx)(Ct.a,{children:Bt()(t.createdAt).format("DD/MM/YYYY")}),Object(Xe.jsx)(Ct.a,{children:Bt()(t.updatedAt).format("DD/MM/YYYY")}),Object(Xe.jsx)(Ct.a,{align:"center",children:t.menus&&t.menus.map((function(e){return Object(Xe.jsx)(br,{menu:e},e.id)}))}),Object(Xe.jsx)(Ct.a,{align:"center",children:t.name===nt.b?Object(Xe.jsx)(jr.a,{style:{margin:"3px"},size:"small",label:"Todos los permisos",color:"primary"}):t.access&&t.access.map((function(e){return Object(Xe.jsx)(Or,{access:e},e.id)}))}),t.name===nt.b?Object(Xe.jsx)(Ct.a,{align:"center",children:Object(Xe.jsx)(St.a,{title:"Asignar menu",onClick:function(){return c({name:"Menu",active:!0})},children:Object(Xe.jsx)(Nt.a,{"aria-label":"menu",size:"small",children:Object(Xe.jsx)(hr.a,{})})})}):Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsxs)(Ct.a,{align:"right",children:[Object(Xe.jsx)(St.a,{title:"Asignar menu",onClick:function(){return c({name:"Menu",active:!0})},children:Object(Xe.jsx)(Nt.a,{"aria-label":"menu",size:"small",children:Object(Xe.jsx)(hr.a,{})})}),Object(Xe.jsx)(St.a,{title:"Asignar acceso",onClick:function(){return c({name:"Acceso",active:!0})},children:Object(Xe.jsx)(Nt.a,{"aria-label":"acceso",size:"small",children:Object(Xe.jsx)(xr.a,{})})}),Object(Xe.jsx)(St.a,{title:"Editar modulo",onClick:function(){return c({name:"Modulo",active:!0})},children:Object(Xe.jsx)(Nt.a,{"aria-label":"acceso",size:"small",children:Object(Xe.jsx)($t.a,{})})})]})})]})]})},Ur=Object(jt.a)({table:{minWidth:650}}),Yr={name:"",active:!1},qr=function(){var e,t=Object(he.useState)([]),n=Object(Se.a)(t,2),a=n[0],r=n[1],c=Object(dr.b)(),i=c.data,o=c.loading,l=c.error,s=Object(he.useState)(Yr),u=Object(Se.a)(s,2),d=u[0],j=u[1],b=Object(He.c)(),O=Ur(),m=Object(He.d)((function(e){return e.authReducer.authUser})),h=function(){j(Object(Ee.a)(Object(Ee.a)({},d),{},{active:!1})),b(Object(ut.b)({type:"",text:""}))};return Object(he.useEffect)((function(){i&&r(i.getModules)}),[i]),o?Object(Xe.jsx)("h1",{children:"Cargando..."}):l?Object(Xe.jsx)("h1",{children:Object(st.a)(l)}):Object(Xe.jsx)(Xe.Fragment,{children:(null===m||void 0===m||null===(e=m.role)||void 0===e?void 0:e.name)===nt.g?Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(qt,{open:d.active,title:"".concat(d.name," Modulo"),component:function(e){switch(e){case"Crear":return Object(Xe.jsx)(Mr,{handleClose:h})}}(d.name),handleClose:h}),Object(Xe.jsx)(St.a,{title:"Crear Rol",children:Object(Xe.jsx)(Nt.a,{"aria-label":"add",size:"small",onClick:function(){return j({name:"Crear",active:!0})},children:Object(Xe.jsx)(Zt.a,{})})}),Object(Xe.jsx)(Jt.a,{style:{whiteSpace:"nowrap"},component:Kt.a,children:Object(Xe.jsxs)(Vt.a,{className:O.table,size:"small","aria-label":"a dense table",children:[Object(Xe.jsx)(Gt.a,{children:Object(Xe.jsxs)(yt.a,{children:[Object(Xe.jsx)(Ct.a,{children:"Modulo"}),Object(Xe.jsx)(Ct.a,{children:"Descripci\xf3n"}),Object(Xe.jsx)(Ct.a,{children:"Fecha creada"}),Object(Xe.jsx)(Ct.a,{children:"Fecha modificada"}),Object(Xe.jsx)(Ct.a,{align:"center",children:"Menus"}),Object(Xe.jsx)(Ct.a,{align:"center",children:"Permisos"}),Object(Xe.jsx)(Ct.a,{align:"right",children:"Opciones"})]})}),Object(Xe.jsx)(Ht.a,{children:a.map((function(e){return Object(Xe.jsx)(Rr,{module:e},e.id)}))})]})})]}):Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)("h1",{children:"No tiene permiso para acceder a este recurso."})})})},zr=Object(ke.gql)(_||(_=Object(we.a)(["\n  query getProducts {\n    getProducts {\n      id\n      name\n      description\n      price\n      cant\n      createdAt\n      updatedAt\n      category {\n        id\n        name\n      }\n      brand {\n        id\n        name\n      }\n      model {\n        id\n        name\n      }\n    }\n  }\n"]))),Br=Object(ke.gql)(V||(V=Object(we.a)(["\n  mutation updateService($productInput: UpdateProductInput!) {\n    updateProduct(productInput: $productInput) {\n      id\n      name\n      description\n      price\n      category {\n        id\n        name\n      }\n      brand {\n        id\n        name\n      }\n      model {\n        id\n        name\n      }\n    }\n  }\n"]))),Pr=Object(ke.gql)(J||(J=Object(we.a)(["\n  mutation registerProduct($productInput: CreateProductInput!) {\n    registerProduct(productInput: $productInput) {\n      id\n      name\n      description\n      price\n      category {\n        id\n        name\n      }\n      brand {\n        id\n        name\n      }\n      model {\n        id\n        name\n      }\n    }\n  }\n"]))),$r={type:"",text:""},Lr={category:"",brand:"",model:""},Tr=function(e){var t,n,a,r=e.handleClose,c=e.product,i={id:(null===c||void 0===c?void 0:c.id)||"",name:(null===c||void 0===c?void 0:c.name)||"",description:(null===c||void 0===c?void 0:c.description)||"",price:(null===c||void 0===c?void 0:c.price)||0,cant:(null===c||void 0===c?void 0:c.cant)||0,category:(null===c||void 0===c||null===(t=c.category)||void 0===t?void 0:t.name)||"",brand:(null===c||void 0===c||null===(n=c.brand)||void 0===n?void 0:n.name)||"",model:(null===c||void 0===c||null===(a=c.model)||void 0===a?void 0:a.name)||""},o=Object(he.useState)(i.id?i:{name:"",price:0,category:"",brand:"",model:"",cant:0}),l=Object(Se.a)(o,2),s=l[0],u=l[1],d=Object(he.useState)(Lr),j=Object(Se.a)(d,2),b=j[0],O=j[1],m=Object(he.useState)([]),h=Object(Se.a)(m,2),p=h[0],x=h[1],g=Object(he.useState)([]),f=Object(Se.a)(g,2),v=f[0],y=f[1],C=sn().data,S=Object(he.useState)([]),w=Object(Se.a)(S,2),k=w[0],I=w[1],A=Object(He.c)(),M=function(){var e=Object(ke.useMutation)(Br,{refetchQueries:function(){return[{query:zr}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{updateProduct:n,error:a.error,loading:a.loading}}(),E=function(){var e=Object(ke.useMutation)(Pr,{refetchQueries:function(){return[{query:zr}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{registerProduct:n,error:a.error,loading:a.loading}}(),D=ma(s.category||""),N=pa(s.brand||""),F=function(e){u(Object(Ee.a)(Object(Ee.a)({},s),{},Object(rt.a)({},e.target.name,e.target.value))),A(Object(ut.b)($r))},R=Object(he.useCallback)((function(){I(C.getCategorys)}),[C]),U=Object(he.useCallback)((function(){var e;x((null===D||void 0===D||null===(e=D.data)||void 0===e?void 0:e.getBrandsByCategory)||[])}),[D]),Y=Object(he.useCallback)((function(){var e;y((null===N||void 0===N||null===(e=N.data)||void 0===e?void 0:e.getModelsByBrand)||[])}),[N]),q=function(){var e=Object(Me.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!s.id){e.next=13;break}return e.prev=2,e.next=5,M.updateProduct({variables:{productInput:Object(Ee.a)(Object(Ee.a)({},s),{},{price:Number(s.price),cant:Number(s.cant)})}});case 5:A(Object(ut.b)({type:"success",text:"El producto se actualiz\xf3 correctamente."})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),A(Object(ut.b)({type:"error",text:Object(st.a)(e.t0)}));case 11:e.next=22;break;case 13:return e.prev=13,e.next=16,E.registerProduct({variables:{productInput:Object(Ee.a)(Object(Ee.a)({},s),{},{price:Number(s.price),cant:Number(s.cant)})}});case 16:A(Object(ut.b)({type:"success",text:"El producto ha sido registrada correctamente."})),e.next=22;break;case 19:e.prev=19,e.t1=e.catch(13),A(Object(ut.b)({type:"error",text:Object(st.a)(e.t1)}));case 22:case"end":return e.stop()}}),e,null,[[2,8],[13,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(he.useEffect)((function(){C&&(R(),U(),Y())}),[C,R,U,Y]),Object(Xe.jsx)("form",{onSubmit:q,children:Object(Xe.jsxs)(dt.a,{container:!0,spacing:3,children:[Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Un.a,{id:"idCategory",onChange:function(e,t){u(Object(Ee.a)(Object(Ee.a)({},s),{},{category:(null===t||void 0===t?void 0:t.name)||"",brand:"",model:""})),O(Object(Ee.a)(Object(Ee.a)({},b),{},{brand:"",model:""})),A(Object(ut.b)($r))},onKeyUp:function(e){(e.target.value.length<s.category.length||0===e.target.value.length)&&(u(Object(Ee.a)(Object(Ee.a)({},s),{},{category:"",brand:"",model:""})),O(Object(Ee.a)(Object(Ee.a)({},b),{},{category:"",brand:"",model:""})))},inputValue:b.category?b.category:s.category,onInputChange:function(e,t){O(Object(Ee.a)(Object(Ee.a)({},b),{},{category:t}))},options:k,getOptionLabel:function(e){return e.name?e.name:""},getOptionSelected:function(e,t){return e.name===t.name},renderInput:function(e){return Object(Xe.jsx)(Ot.a,Object(Ee.a)(Object(Ee.a)({},e),{},{name:"category",label:"Categoria",variant:"outlined"}))}})}),Object(Xe.jsx)(dt.a,{item:!0,xs:6,children:Object(Xe.jsx)(Un.a,{id:"idBrand",onChange:function(e,t){u(Object(Ee.a)(Object(Ee.a)({},s),{},{brand:(null===t||void 0===t?void 0:t.name)||"",model:""})),O(Object(Ee.a)(Object(Ee.a)({},b),{},{model:""})),A(Object(ut.b)($r))},onKeyUp:function(e){(e.target.value.length<s.brand.length||0===e.target.value.length)&&(u(Object(Ee.a)(Object(Ee.a)({},s),{},{brand:"",model:""})),O(Object(Ee.a)(Object(Ee.a)({},b),{},{brand:"",model:""})))},inputValue:b.brand?b.brand:s.brand,onInputChange:function(e,t){O(Object(Ee.a)(Object(Ee.a)({},b),{},{brand:t}))},options:p,getOptionLabel:function(e){return e.name?e.name:""},getOptionSelected:function(e,t){return e.name===t.name},renderInput:function(e){return Object(Xe.jsx)(Ot.a,Object(Ee.a)(Object(Ee.a)({},e),{},{name:"brand",label:"Marca",variant:"outlined"}))}})}),Object(Xe.jsx)(dt.a,{item:!0,xs:6,children:Object(Xe.jsx)(Un.a,{id:"idModel",onChange:function(e,t){u(Object(Ee.a)(Object(Ee.a)({},s),{},{model:(null===t||void 0===t?void 0:t.name)||""})),A(Object(ut.b)($r))},onKeyUp:function(e){(e.target.value.length<s.model.length||0===e.target.value.length)&&(u(Object(Ee.a)(Object(Ee.a)({},s),{},{model:""})),O(Object(Ee.a)(Object(Ee.a)({},b),{},{model:""})))},inputValue:b.model?b.model:s.model,onInputChange:function(e,t){O(Object(Ee.a)(Object(Ee.a)({},b),{},{model:t}))},options:v,getOptionLabel:function(e){return e.name?e.name:""},getOptionSelected:function(e,t){return e.name===t.name},renderInput:function(e){return Object(Xe.jsx)(Ot.a,Object(Ee.a)(Object(Ee.a)({name:"model"},e),{},{label:"Modelo",variant:"outlined"}))}})}),Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,onChange:F,name:"name",autoComplete:"off",id:"idName",label:"Producto",variant:"outlined",value:s.name})}),Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,name:"description",onChange:F,id:"idDescription",label:"Descripci\xf3n",multiline:!0,rows:6,defaultValue:s.description,variant:"outlined"})}),Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,onChange:F,name:"price",autoComplete:"off",id:"idPrice",label:"Precio",variant:"outlined",value:s.price,InputProps:{startAdornment:Object(Xe.jsx)(zn.a,{position:"start",children:"S/"})}})}),Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,onChange:F,name:"cant",autoComplete:"off",id:"idCant",label:"Cantidad",variant:"outlined",value:s.cant})}),Object(Xe.jsxs)(xt.a,{style:{width:"100%"},children:[Object(Xe.jsx)(pt.a,{onClick:function(){return r()},color:"primary",children:"Cancelar"}),s.id?M.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Actualizar"}):E.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Registrar"})]})]})})},Wr=Object(ke.gql)(G||(G=Object(we.a)(["\n  mutation deleteProduct($id: String!) {\n    deleteProduct(id: $id)\n  }\n"]))),Qr={type:"",text:""},_r={name:"",active:!1},Vr=function(e){var t=e.product,n=Object(He.d)((function(e){return e.authReducer.authUser})),a=Object(He.d)((function(e){return e.page.user.module})),r=Object(he.useState)(_r),c=Object(Se.a)(r,2),i=c[0],o=c[1],l=Object(He.c)(),s=function(){var e=Object(ke.useMutation)(Wr,{refetchQueries:function(){return[{query:zr}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{deleteProduct:n,error:a.error,loading:a.loading}}(),u=function(){var e=Object(Me.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.deleteProduct({variables:{id:t}});case 3:e.next=10;break;case 5:e.prev=5,e.t0=e.catch(0),o({name:"error",active:!0}),l(Object(ut.b)({type:"error",text:Object(st.a)(e.t0)})),i.active,i.name;case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){o(_r),l(Object(ut.b)(Qr))},j=function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(St.a,{title:"Editar Producto",onClick:function(){return o({name:"Producto",active:!0})},children:Object(Xe.jsx)(Nt.a,{"aria-label":"product",size:"small",children:Object(Xe.jsx)($t.a,{})})})})},b=function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(St.a,{title:"Eliminar Producto",onClick:function(){return u(t.id)},children:Object(Xe.jsx)(Nt.a,{"aria-label":"egress",size:"small",children:Object(Xe.jsx)(Tt.a,{})})})})};return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(qt,{open:i.active,dialog:t,title:i.name,component:function(e){switch(e){case"Producto":return Object(Xe.jsx)(Tr,{product:t,handleClose:d})}}(i.name),handleClose:d}),at(nt.c,n,a,(function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsxs)(yt.a,{children:[Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",children:t.category.name}),Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",children:t.brand.name}),Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",children:t.model.name}),Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",children:t.name}),Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",children:Nn(t.price)}),Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",align:"center",children:t.cant}),Object(Xe.jsx)(Ct.a,{children:Bt()(t.createdAt).format("DD/MM/YYYY")}),Object(Xe.jsx)(Ct.a,{children:Bt()(t.updatedAt).format("DD/MM/YYYY")}),Object(Xe.jsxs)(Ct.a,{align:"right",children:[at(nt.f,n,a,j),at(nt.e,n,a,b)]})]})})}))]})},Jr={type:"",text:""},Gr={name:"",active:!1},Hr=function(){var e=Object(He.d)((function(e){return e.authReducer.authUser})),t=Object(He.d)((function(e){return e.page.user.module})),n=Object(he.useState)(Gr),a=Object(Se.a)(n,2),r=a[0],c=a[1],i=Object(He.c)(),o=function(){var e=Object(ke.useQuery)(zr);return{data:e.data,error:e.error,loading:e.loading}}(),l=o.data,s=o.loading,u=o.error,d=Object(he.useState)([]),j=Object(Se.a)(d,2),b=j[0],O=j[1],m=function(){c(Gr),i(Object(ut.b)(Jr))};if(Object(he.useEffect)((function(){l&&O(l.getProducts)}),[l]),s)return Object(Xe.jsx)("h1",{children:"Cargando..."});if(u)return Object(Xe.jsx)("h1",{children:Object(st.a)(u)});return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(qt,{open:r.active,title:"".concat(r.name," Producto"),component:function(e){switch(e){case"Crear":return Object(Xe.jsx)(Tr,{handleClose:m})}}(r.name),handleClose:m}),at(nt.d,e,t,(function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(St.a,{title:"Crear Producto",children:Object(Xe.jsx)(Nt.a,{"aria-label":"add",size:"small",onClick:function(){return c({name:"Crear",active:!0})},children:Object(Xe.jsx)(Zt.a,{})})})})})),Object(Xe.jsx)(Jt.a,{component:Kt.a,style:{whiteSpace:"nowrap",marginTop:10},children:Object(Xe.jsxs)(Vt.a,{size:"small","aria-label":"a dense table",children:[Object(Xe.jsx)(Gt.a,{children:Object(Xe.jsxs)(yt.a,{children:[Object(Xe.jsx)(Ct.a,{children:"Categoria"}),Object(Xe.jsx)(Ct.a,{children:"Marca"}),Object(Xe.jsx)(Ct.a,{children:"Model"}),Object(Xe.jsx)(Ct.a,{children:"Producto"}),Object(Xe.jsx)(Ct.a,{children:"Precio"}),Object(Xe.jsx)(Ct.a,{children:"Cantidad"}),Object(Xe.jsx)(Ct.a,{children:"Fecha creada"}),Object(Xe.jsx)(Ct.a,{children:"Fecha modificada"}),Object(Xe.jsx)(Ct.a,{align:"right",children:"Opciones"})," "]})}),Object(Xe.jsx)(Ht.a,{children:b.map((function(e){return Object(Xe.jsx)(Vr,{product:e},e.id)}))})]})})]})},Kr=Object(ke.gql)(H||(H=Object(we.a)(["\n  query getRoles {\n    getRoles {\n      id\n      name\n      description\n      createdAt\n      updatedAt\n      modules {\n        id\n        name\n        description\n      }\n    }\n  }\n"]))),Xr=function(){var e=Object(ke.useQuery)(Kr);return{data:e.data,loading:e.loading,error:e.error}},Zr=function(e){var t=e.module;return Object(Xe.jsxs)(Xe.Fragment,{children:[t.name===nt.b?Object(Xe.jsx)(jr.a,{style:{margin:"3px"},size:"small",label:t.name,color:"primary"}):Object(Xe.jsx)(jr.a,{style:{margin:"3px"},size:"small",label:t.name,onDelete:function(){return alert("keiner")},color:"primary"}),"\xa0"]})},ec=n(141),tc=Object(ke.gql)(K||(K=Object(we.a)(["\n  mutation registerRole($roleInput: RoleInput!) {\n    registerRole(roleInput: $roleInput) {\n      id\n      name\n      description\n      modules {\n        id\n        name\n      }\n    }\n  }\n"]))),nc=Object(jt.a)((function(e){return Object(bt.a)({formControl:{margin:e.spacing(1),minWidth:120,maxWidth:300},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},noLabel:{marginTop:e.spacing(3)}})})),ac={PaperProps:{style:{maxHeight:224,width:250}}},rc=function(e){var t=e.role,n=e.handleClose,a={id:(null===t||void 0===t?void 0:t.id)||"",name:(null===t||void 0===t?void 0:t.name)||"",description:(null===t||void 0===t?void 0:t.description)||""},r=Object(ec.a)(),c=function(){var e=Object(ke.useMutation)(tc,{refetchQueries:function(){return[{query:Kr}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{registerRole:n,error:a.error,loading:a.loading}}(),i=Object(dr.b)(),o=Object(he.useState)(a.id?a:{name:"",description:""}),l=Object(Se.a)(o,2),s=l[0],u=l[1],d=Object(he.useState)([]),j=Object(Se.a)(d,2),b=j[0],O=j[1],m=Object(he.useState)([]),h=Object(Se.a)(m,2),p=h[0],x=h[1],g=Object(Et.a)(),f=Object(He.c)(),v=nc(),y=Object(He.d)((function(e){return e.authReducer.authUser})),C=function(e){u(Object(Ee.a)(Object(Ee.a)({},s),{},Object(rt.a)({},e.target.name,e.target.value))),f(Object(ut.b)({type:"",text:""}))},S=b.map((function(e){return{name:e}}));function w(e,t,n){return{fontWeight:-1===t.indexOf(e)?n.typography.fontWeightRegular:n.typography.fontWeightMedium}}var k=function(){var e=Object(Me.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!s.id){e.next=13;break}return e.prev=2,e.next=5,r.updateRole({variables:{roleInput:s}});case 5:f(Object(ut.b)({type:"success",text:"El rol se actualiz\xf3 correctamente."})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),f(Object(ut.b)({type:"error",text:Object(st.a)(e.t0)}));case 11:e.next=22;break;case 13:return e.prev=13,e.next=16,c.registerRole({variables:{roleInput:Object(Ee.a)(Object(Ee.a)({},s),{},{modules:S})}});case 16:f(Object(ut.b)({type:"success",text:"El rol se registr\xf3 correctamente."})),e.next=22;break;case 19:e.prev=19,e.t1=e.catch(13),f(Object(ut.b)({type:"error",text:Object(st.a)(e.t1)}));case 22:case"end":return e.stop()}}),e,null,[[2,8],[13,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(he.useEffect)((function(){if(i.data){var e=i.data.getModules.filter((function(e){return e.name!==nt.b}));x(e)}}),[i.data]),Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)("form",{onSubmit:k,children:Object(Xe.jsxs)(dt.a,{container:!0,spacing:3,children:[s.id&&s.name===nt.g?"":Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,onChange:C,name:"name",id:"idName",label:"Role",variant:"outlined",value:s.name})}),Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,onChange:C,name:"description",id:"idDescription",label:"Descripci\xf3n",multiline:!0,value:s.description,variant:"outlined"})}),!a.id&&Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsxs)(an.a,{variant:"outlined",fullWidth:!0,children:[Object(Xe.jsx)(rn.a,{id:"module-mutiple-chip-label",children:"Modulos"}),Object(Xe.jsx)(on.a,{labelId:"module-mutiple-chip-label",id:"module-mutiple-chip",multiple:!0,value:b,onChange:function(e){O(e.target.value),f(Object(ut.b)({type:"",text:""}))},input:Object(Xe.jsx)(vr.a,{id:"select-multiple-chip"}),renderValue:function(e){return Object(Xe.jsx)("div",{className:v.chips,children:e.map((function(e){return Object(Xe.jsx)(jr.a,{label:e,className:v.chip},e)}))})},MenuProps:ac,children:p.map((function(e){var t;return((null===y||void 0===y||null===(t=y.role)||void 0===t?void 0:t.name)===nt.g||e.name!==nt.b)&&Object(Xe.jsx)(cn.a,{value:e.name,style:w(e.name,s.modules||[],g),children:e.name},e.id)}))})]})}),Object(Xe.jsxs)(xt.a,{style:{width:"100%"},children:[Object(Xe.jsx)(pt.a,{onClick:function(){return n()},color:"primary",children:"Cancelar"}),s.id?r.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Actualizar"}):c.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Registrar"})]})]})})})},cc=n(191),ic=n(154),oc=n.n(ic),lc={name:"",active:!1},sc=function(e){var t=e.role,n=Object(he.useState)(lc),a=Object(Se.a)(n,2),r=a[0],c=a[1],i=Object(He.c)(),o=Object(He.d)((function(e){return e.authReducer.authUser})),l=Object(He.d)((function(e){return e.page.user.module})),s=function(){c(Object(Ee.a)(Object(Ee.a)({},r),{},{active:!1})),i(Object(ut.b)({type:"",text:""}))},u=function(e){switch(e){case"Modulo":return Object(Xe.jsx)(cc.a,{role:t,handleClose:s});case"Rol":return Object(Xe.jsx)(rc,{role:t,handleClose:s})}},d=function(){return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(qt,{open:r.active,dialog:t,title:r.name,component:u(r.name),handleClose:s}),t.name===nt.g?Object(Xe.jsx)(Ct.a,{align:"center",children:Object(Xe.jsx)(St.a,{title:"Asignar modulos",onClick:function(){return c({name:"Modulo",active:!0})},children:Object(Xe.jsx)(Nt.a,{"aria-label":"modules",size:"small",children:Object(Xe.jsx)(oc.a,{})})})}):Object(Xe.jsxs)(Ct.a,{align:"right",children:[Object(Xe.jsx)(St.a,{title:"Asignar modulos",onClick:function(){return c({name:"Modulo",active:!0})},children:Object(Xe.jsx)(Nt.a,{"aria-label":"modules",size:"small",children:Object(Xe.jsx)(oc.a,{})})}),Object(Xe.jsx)(St.a,{title:"Editar rol",onClick:function(){return c({name:"Rol",active:!0})},children:Object(Xe.jsx)(Nt.a,{"aria-label":"role",size:"small",children:Object(Xe.jsx)($t.a,{})})})]})]})};return Object(Xe.jsx)(Xe.Fragment,{children:at(nt.c,o,l,(function(){var e;return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(yt.a,{children:(null===o||void 0===o||null===(e=o.role)||void 0===e?void 0:e.name)===nt.g?Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",children:t.name}),Object(Xe.jsx)(Ct.a,{children:t.description}),Object(Xe.jsx)(Ct.a,{children:Bt()(t.createdAt).format("DD/MM/YYYY")}),Object(Xe.jsx)(Ct.a,{children:Bt()(t.updatedAt).format("DD/MM/YYYY")}),Object(Xe.jsx)(Ct.a,{align:"center",children:t.modules&&t.modules.map((function(e){return Object(Xe.jsx)(Zr,{module:e},e.id)}))}),at(nt.f,o,l,d)]}):Object(Xe.jsx)(Xe.Fragment,{children:t.name===nt.g||Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",children:t.name}),Object(Xe.jsx)(Ct.a,{children:t.description}),Object(Xe.jsx)(Ct.a,{children:Bt()(t.createdAt).format("DD/MM/YYYY")}),Object(Xe.jsx)(Ct.a,{children:Bt()(t.updatedAt).format("DD/MM/YYYY")}),Object(Xe.jsx)(Ct.a,{align:"center",children:t.modules&&t.modules.map((function(e){return Object(Xe.jsx)(Zr,{module:e},e.id)}))}),at(nt.f,o,l,d)]})})})})}))})},uc=Object(jt.a)({table:{minWidth:650}}),dc={name:"",active:!1},jc=function(){var e=Object(he.useState)([]),t=Object(Se.a)(e,2),n=t[0],a=t[1],r=Object(He.d)((function(e){return e.authReducer.authUser})),c=Object(He.d)((function(e){return e.page.user.module})),i=Object(he.useState)(dc),o=Object(Se.a)(i,2),l=o[0],s=o[1],u=Object(He.c)(),d=Xr(),j=d.data,b=d.loading,O=d.error,m=uc(),h=function(){s(Object(Ee.a)(Object(Ee.a)({},l),{},{active:!1})),u(Object(ut.b)({type:"",text:""}))},p=function(e){switch(e){case"Crear":return Object(Xe.jsx)(rc,{handleClose:h})}};if(Object(he.useEffect)((function(){j&&a(j.getRoles)}),[j]),b)return Object(Xe.jsx)("h1",{children:"Cargando..."});if(O)return Object(Xe.jsx)("h1",{children:Object(st.a)(O)});return Object(Xe.jsxs)(Xe.Fragment,{children:[at(nt.d,r,c,(function(){return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(qt,{open:l.active,title:"".concat(l.name," Rol"),component:p(l.name),handleClose:h}),Object(Xe.jsx)(St.a,{title:"Crear Rol",children:Object(Xe.jsx)(Nt.a,{"aria-label":"add",size:"small",onClick:function(){return s({name:"Crear",active:!0})},children:Object(Xe.jsx)(Zt.a,{})})})]})})),Object(Xe.jsx)(Jt.a,{style:{whiteSpace:"nowrap"},component:Kt.a,children:Object(Xe.jsxs)(Vt.a,{className:m.table,size:"small","aria-label":"a dense table",children:[Object(Xe.jsx)(Gt.a,{children:Object(Xe.jsxs)(yt.a,{children:[Object(Xe.jsx)(Ct.a,{children:"Rol"}),Object(Xe.jsx)(Ct.a,{children:"Descripci\xf3n"}),Object(Xe.jsx)(Ct.a,{children:"Fecha creada"}),Object(Xe.jsx)(Ct.a,{children:"Fecha modificada"}),Object(Xe.jsx)(Ct.a,{align:"center",children:"Modulos"}),at(nt.f,r,c,(function(){return Object(Xe.jsx)(Ct.a,{align:"right",children:"Opciones"})}))]})}),Object(Xe.jsx)(Ht.a,{children:n.map((function(e){return Object(Xe.jsx)(sc,{role:e},e.id)}))})]})})]})},bc=Object(ke.gql)(X||(X=Object(we.a)(["\n  query getServices {\n    getServices {\n      id\n      name\n      description\n      price\n      createdAt\n      updatedAt\n      category {\n        id\n        name\n      }\n    }\n  }\n"]))),Oc=Object(ke.gql)(Z||(Z=Object(we.a)(["\n  mutation updateService($serviceInput: UpdateServiceInput!) {\n    updateService(serviceInput: $serviceInput) {\n      id\n      name\n      description\n      price\n      category {\n        id\n        name\n      }\n    }\n  }\n"]))),mc=Object(ke.gql)(ee||(ee=Object(we.a)(["\n  mutation registerService($serviceInput: CreateServiceInput!) {\n    registerService(serviceInput: $serviceInput) {\n      id\n      name\n      description\n      price\n      category {\n        id\n        name\n      }\n    }\n  }\n"]))),hc={type:"",text:""},pc=function(e){var t,n=e.handleClose,a=e.service,r={id:(null===a||void 0===a?void 0:a.id)||"",name:(null===a||void 0===a?void 0:a.name)||"",description:(null===a||void 0===a?void 0:a.description)||"",price:(null===a||void 0===a?void 0:a.price)||0,category:(null===a||void 0===a||null===(t=a.category)||void 0===t?void 0:t.name)||""},c=Object(he.useState)(r.id?r:{name:"",price:0,category:""}),i=Object(Se.a)(c,2),o=i[0],l=i[1],s=Object(he.useState)([]),u=Object(Se.a)(s,2),d=u[0],j=u[1],b=sn().data,O=Object(He.c)(),m=function(){var e=Object(ke.useMutation)(Oc,{refetchQueries:function(){return[{query:bc}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{updateService:n,error:a.error,loading:a.loading}}(),h=function(){var e=Object(ke.useMutation)(mc,{refetchQueries:function(){return[{query:bc}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{registerService:n,error:a.error,loading:a.loading}}(),p=function(e){l(Object(Ee.a)(Object(Ee.a)({},o),{},Object(rt.a)({},e.target.name,e.target.value))),O(Object(ut.b)(hc))},x=function(){var e=Object(Me.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!o.id){e.next=13;break}return e.prev=2,e.next=5,m.updateService({variables:{serviceInput:Object(Ee.a)(Object(Ee.a)({},o),{},{price:Number(o.price)})}});case 5:O(Object(ut.b)({type:"success",text:"El servicio se actualiz\xf3 correctamente."})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),O(Object(ut.b)({type:"error",text:Object(st.a)(e.t0)}));case 11:e.next=22;break;case 13:return e.prev=13,e.next=16,h.registerService({variables:{serviceInput:Object(Ee.a)(Object(Ee.a)({},o),{},{price:Number(o.price)})}});case 16:O(Object(ut.b)({type:"success",text:"El servicio ha sido registrada correctamente."})),e.next=22;break;case 19:e.prev=19,e.t1=e.catch(13),O(Object(ut.b)({type:"error",text:Object(st.a)(e.t1)}));case 22:case"end":return e.stop()}}),e,null,[[2,8],[13,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(he.useEffect)((function(){b&&j(b.getCategorys)}),[b]),Object(Xe.jsx)("form",{onSubmit:x,children:Object(Xe.jsxs)(dt.a,{container:!0,spacing:3,children:[Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsxs)(an.a,{variant:"outlined",fullWidth:!0,children:[Object(Xe.jsx)(rn.a,{id:"idCategory",children:"Categoria"}),Object(Xe.jsx)(on.a,{labelId:"Categoria",id:"idCategory",value:o.category,onChange:function(e){l(Object(Ee.a)(Object(Ee.a)({},o),{},Object(rt.a)({},e.target.name,e.target.value))),O(Object(ut.b)(hc))},label:"Categoria",name:"category",children:d.map((function(e){return Object(Xe.jsx)(cn.a,{value:e.name,children:e.name},e.id)}))})]})}),Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,onChange:p,name:"name",autoComplete:"off",id:"idName",label:"Servicio",variant:"outlined",value:o.name})}),Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,onChange:p,name:"description",autoComplete:"off",id:"idDescription",label:"Descripci\xf3n",variant:"outlined",multiline:!0,value:o.description})}),Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,onChange:p,name:"price",autoComplete:"off",id:"idPrice",label:"Precio",variant:"outlined",value:o.price,InputProps:{startAdornment:Object(Xe.jsx)(zn.a,{position:"start",children:"S/"})}})}),Object(Xe.jsxs)(xt.a,{style:{width:"100%"},children:[Object(Xe.jsx)(pt.a,{onClick:function(){return n()},color:"primary",children:"Cancelar"}),o.id?m.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Actualizar"}):h.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Registrar"})]})]})})},xc=Object(ke.gql)(te||(te=Object(we.a)(["\n  mutation deleteService($id: String!) {\n    deleteService(id: $id)\n  }\n"]))),gc={type:"",text:""},fc={name:"",active:!1},vc=function(e){var t=e.service,n=Object(He.d)((function(e){return e.authReducer.authUser})),a=Object(He.d)((function(e){return e.page.user.module})),r=Object(he.useState)(fc),c=Object(Se.a)(r,2),i=c[0],o=c[1],l=Object(He.c)(),s=function(){var e=Object(ke.useMutation)(xc,{refetchQueries:function(){return[{query:bc}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{deleteService:n,error:a.error,loading:a.loading}}(),u=function(){var e=Object(Me.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.deleteService({variables:{id:t}});case 3:e.next=10;break;case 5:e.prev=5,e.t0=e.catch(0),o({name:"error",active:!0}),l(Object(ut.b)({type:"error",text:Object(st.a)(e.t0)})),i.active,i.name;case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){o(fc),l(Object(ut.b)(gc))},j=function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(St.a,{title:"Editar Servicio",onClick:function(){return o({name:"Servicio",active:!0})},children:Object(Xe.jsx)(Nt.a,{"aria-label":"service",size:"small",children:Object(Xe.jsx)($t.a,{})})})})},b=function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(St.a,{title:"Eliminar egreso",onClick:function(){return u(t.id)},children:Object(Xe.jsx)(Nt.a,{"aria-label":"egress",size:"small",children:Object(Xe.jsx)(Tt.a,{})})})})};return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(qt,{open:i.active,dialog:t,title:i.name,component:function(e){switch(e){case"Servicio":return Object(Xe.jsx)(pc,{service:t,handleClose:d})}}(i.name),handleClose:d}),at(nt.c,n,a,(function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsxs)(yt.a,{children:[Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",children:t.category.name}),Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",children:t.name}),Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",children:Nn(t.price)}),Object(Xe.jsx)(Ct.a,{children:Bt()(t.createdAt).format("DD/MM/YYYY")}),Object(Xe.jsx)(Ct.a,{children:Bt()(t.updatedAt).format("DD/MM/YYYY")}),Object(Xe.jsxs)(Ct.a,{align:"right",children:[at(nt.f,n,a,j),at(nt.e,n,a,b)]})]})})}))]})},yc={type:"",text:""},Cc={name:"",active:!1},Sc=function(){var e=Object(He.d)((function(e){return e.authReducer.authUser})),t=Object(He.d)((function(e){return e.page.user.module})),n=Object(he.useState)(Cc),a=Object(Se.a)(n,2),r=a[0],c=a[1],i=Object(He.c)(),o=function(){var e=Object(ke.useQuery)(bc);return{data:e.data,error:e.error,loading:e.loading}}(),l=o.data,s=o.loading,u=o.error,d=Object(he.useState)([]),j=Object(Se.a)(d,2),b=j[0],O=j[1],m=function(){c(Cc),i(Object(ut.b)(yc))},h=function(e){switch(e){case"Crear":return Object(Xe.jsx)(pc,{handleClose:m})}};if(Object(he.useEffect)((function(){l&&O(l.getServices)}),[l]),s)return Object(Xe.jsx)("h1",{children:"Cargando..."});if(u)return Object(Xe.jsx)("h1",{children:Object(st.a)(u)});return Object(Xe.jsxs)(Xe.Fragment,{children:[at(nt.d,e,t,(function(){return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(qt,{open:r.active,title:"".concat(r.name," Servicio"),component:h(r.name),handleClose:m}),Object(Xe.jsx)(St.a,{title:"Crear Servicio",children:Object(Xe.jsx)(Nt.a,{"aria-label":"add",size:"small",onClick:function(){return c({name:"Crear",active:!0})},children:Object(Xe.jsx)(Zt.a,{})})})]})})),Object(Xe.jsx)(Jt.a,{component:Kt.a,style:{whiteSpace:"nowrap",marginTop:10},children:Object(Xe.jsxs)(Vt.a,{size:"small","aria-label":"a dense table",children:[Object(Xe.jsx)(Gt.a,{children:Object(Xe.jsxs)(yt.a,{children:[Object(Xe.jsx)(Ct.a,{children:"Categoria"}),Object(Xe.jsx)(Ct.a,{children:"Servicio"}),Object(Xe.jsx)(Ct.a,{children:"Precio"}),Object(Xe.jsx)(Ct.a,{children:"Fecha creada"}),Object(Xe.jsx)(Ct.a,{children:"Fecha modificada"}),Object(Xe.jsx)(Ct.a,{align:"right",children:"Opciones"})]})}),Object(Xe.jsx)(Ht.a,{children:b.map((function(e){return Object(Xe.jsx)(vc,{service:e},e.id)}))})]})})]})},wc=Object(ke.gql)(ne||(ne=Object(we.a)(["\n  query getUsers {\n    getUsers {\n      id\n      name\n      lastName\n      email\n      status\n      createdAt\n      updatedAt\n      role {\n        name\n        description\n        modules {\n          access {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n"]))),kc=n(192),Ic=n.n(kc),Ac=Object(ke.gql)(ae||(ae=Object(we.a)(["\n  mutation updateRole($userInput: UserUpdateInput!) {\n    updateUser(userInput: $userInput) {\n      id\n      name\n      lastName\n      email\n      role {\n        id\n        name\n      }\n    }\n  }\n"]))),Mc=Object(ke.gql)(re||(re=Object(we.a)(["\n  mutation registerUser($userInput: UserInput!) {\n    registerUser(userInput: $userInput) {\n      id\n      name\n      lastName\n      email\n      createdAt\n      updatedAt\n      role {\n        name\n      }\n    }\n  }\n"]))),Ec=function(e){var t,n,a,r=e.user,c=e.handleClose,i={id:(null===r||void 0===r?void 0:r.id)||"",name:(null===r||void 0===r?void 0:r.name)||"",lastName:(null===r||void 0===r?void 0:r.lastName)||"",role:{name:(null===r||void 0===r||null===(t=r.role)||void 0===t?void 0:t.name)||""},email:(null===r||void 0===r?void 0:r.email)||""},o=Object(he.useState)(i.id?i:{name:"",lastName:"",role:{name:""},email:"",password:"",confirmPassword:""}),l=Object(Se.a)(o,2),s=l[0],u=l[1],d=Object(he.useState)([]),j=Object(Se.a)(d,2),b=j[0],O=j[1],m=Object(He.c)(),h=function(){var e=Object(ke.useMutation)(Ac),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{updateUser:n,error:a.error,loading:a.loading}}(),p=Xr().data,x=function(){var e=Object(ke.useMutation)(Mc,{refetchQueries:function(){return[{query:wc}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{registerUser:n,error:a.error,loading:a.loading}}(),g=Object(He.d)((function(e){return e.authReducer.authUser})),f=function(e){u(Object(Ee.a)(Object(Ee.a)({},s),{},Object(rt.a)({},e.target.name,e.target.value))),m(Object(ut.b)({type:"",text:""}))},v=function(){var e=Object(Me.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!s.id){e.next=13;break}return e.prev=2,e.next=5,h.updateUser({variables:{userInput:s}});case 5:m(Object(ut.b)({type:"success",text:"El usuario se actualiz\xf3 correctamente."})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),m(Object(ut.b)({type:"error",text:Object(st.a)(e.t0)}));case 11:e.next=22;break;case 13:return e.prev=13,e.next=16,x.registerUser({variables:{userInput:s}});case 16:m(Object(ut.b)({type:"success",text:"El usuario ha sido registrado correctamente."})),e.next=22;break;case 19:e.prev=19,e.t1=e.catch(13),m(Object(ut.b)({type:"error",text:Object(st.a)(e.t1)}));case 22:case"end":return e.stop()}}),e,null,[[2,8],[13,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(he.useEffect)((function(){p&&O(p.getRoles)}),[p]),Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)("form",{onSubmit:v,children:Object(Xe.jsxs)(dt.a,{container:!0,spacing:3,children:[Object(Xe.jsx)(dt.a,{item:!0,xs:6,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,onChange:f,name:"name",autoComplete:"off",id:"idNombres",label:"Nombres",variant:"outlined",value:s.name})}),Object(Xe.jsx)(dt.a,{item:!0,xs:6,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,onChange:f,name:"lastName",autoComplete:"off",id:"idApellidos",label:"Apellidos",value:s.lastName,variant:"outlined"})}),(null===(n=s.role)||void 0===n?void 0:n.name)===nt.g||Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsxs)(an.a,{variant:"outlined",fullWidth:!0,children:[Object(Xe.jsx)(rn.a,{id:"idRole",children:"Rol"}),Object(Xe.jsx)(on.a,{labelId:"Rol",id:"idRole",value:null===(a=s.role)||void 0===a?void 0:a.name,onChange:function(e){u(Object(Ee.a)(Object(Ee.a)({},s),{},Object(rt.a)({},e.target.name,{name:e.target.value}))),m(Object(ut.b)({type:"",text:""}))},label:"Rol",name:"role",children:b.map((function(e){var t;return((null===g||void 0===g||null===(t=g.role)||void 0===t?void 0:t.name)===nt.g||e.name!==nt.g)&&Object(Xe.jsx)(cn.a,{value:e.name,children:e.name},e.id)}))})]})})}),Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,onChange:f,name:"email",autoComplete:"off",id:"idEmail",label:"Correo",value:s.email,variant:"outlined",InputProps:{readOnly:!!s.id}})}),s.id?"":Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,onChange:f,name:"password",autoComplete:"off",id:"idPassword",label:"Contrase\xf1a",value:s.password,variant:"outlined",type:"password"})}),Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,onChange:f,name:"confirmPassword",autoComplete:"off",id:"idConfirmPassword",label:"Repetir contrase\xf1a",value:s.confirmPassword,variant:"outlined",type:"password"})})]}),Object(Xe.jsxs)(xt.a,{style:{width:"100%"},children:[Object(Xe.jsx)(pt.a,{onClick:function(){return c()},color:"primary",children:"Cancelar"}),s.id?h.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Actualizar"}):x.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Registrar"})]})]})})})},Dc=n(193),Nc=n.n(Dc),Fc=Object(ke.gql)(ce||(ce=Object(we.a)(["\n  mutation activateUser($id: String!) {\n    activateUser(id: $id) {\n      id\n      status\n    }\n  }\n"]))),Rc=Object(ke.gql)(ie||(ie=Object(we.a)(["\n  mutation desactivateUser($id: String!) {\n    desactivateUser(id: $id) {\n      id\n      status\n    }\n  }\n"]))),Uc=n(194),Yc=n.n(Uc),qc=Object(ke.gql)(oe||(oe=Object(we.a)(["\n  mutation changePasswordToAdmin($authInput: AuthChangePasswordInputToAdmin!) {\n    changePasswordToAdmin(authInput: $authInput)\n  }\n"]))),zc=(Object(ke.gql)(le||(le=Object(we.a)(["\n  mutation changePasswordToUser($authInput: AuthChangePasswordInputToUser!) {\n    changePasswordToUser(authInput: $authInput)\n  }\n"]))),function(e){var t=e.user,n=e.handleClose,a={id:(null===t||void 0===t?void 0:t.id)||"",newPassword:"",confirmNewPassword:""},r=Object(he.useState)(a),c=Object(Se.a)(r,2),i=c[0],o=c[1],l=Object(He.c)(),s=function(){var e=Object(ke.useMutation)(qc),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{changePasswordToAdmin:n,error:a.error,loading:a.loading}}(),u=s.changePasswordToAdmin,d=(s.error,s.loading),j=function(e){o(Object(Ee.a)(Object(Ee.a)({},i),{},Object(rt.a)({},e.target.name,e.target.value))),l(Object(ut.b)({type:"",text:""}))},b=function(){var e=Object(Me.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,u({variables:{authInput:i}});case 4:l(Object(ut.b)({type:"success",text:"La contrase\xf1a ha sido cambiada correctamente."})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),l(Object(ut.b)({type:"error",text:Object(st.a)(e.t0)}));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(Xe.jsx)("form",{onSubmit:b,children:Object(Xe.jsxs)(dt.a,{container:!0,spacing:3,children:[Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,onChange:j,name:"newPassword",autoComplete:"off",id:"idNewPassword",label:"Nueva Contrase\xf1a",value:i.newPassword,variant:"outlined"})}),Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Ot.a,{fullWidth:!0,onChange:j,name:"confirmNewPassword",autoComplete:"off",id:"idConfirmNewPassword",label:"Confirmar nueva contrase\xf1a",value:i.confirmNewPassword,variant:"outlined"})}),Object(Xe.jsxs)(xt.a,{style:{width:"100%"},children:[Object(Xe.jsx)(pt.a,{onClick:function(){return n()},color:"primary",children:"Cancelar"}),d?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Actualizar"})]})]})})}),Bc={name:"",active:!1},Pc=function(e){var t=e.user,n=Object(He.d)((function(e){return e.authReducer.authUser})),a=Object(He.d)((function(e){return e.page.user.module})),r=Object(he.useState)(Bc),c=Object(Se.a)(r,2),i=c[0],o=c[1],l=Object(He.c)(),s=function(){var e=Object(ke.useMutation)(Fc),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{activateUser:n,error:a.error,loading:a.loading}}(),u=function(){var e=Object(ke.useMutation)(Rc),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{desactivateUser:n,error:a.error,loading:a.loading}}(),d=function(){o(Object(Ee.a)(Object(Ee.a)({},i),{},{active:!1})),l(Object(ut.b)({type:"",text:""}))},j=function(){var e=Object(Me.a)(Ae.a.mark((function e(){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.desactivateUser({variables:{id:t.id}});case 3:e.next=10;break;case 5:e.prev=5,e.t0=e.catch(0),o({name:"error",active:!0}),l(Object(ut.b)({type:"error",text:Object(st.a)(e.t0)})),i.active,i.name;case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),b=function(e){switch(e){case"Usuario":return Object(Xe.jsx)(Ec,{user:t,handleClose:d});case"Contrase\xf1a":return Object(Xe.jsx)(zc,{user:t,handleClose:d})}},O=function(){var e;return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(qt,{open:i.active,dialog:t,title:i.name,component:b(i.name),handleClose:d}),Object(Xe.jsxs)(Ct.a,{align:"right",children:[(null===(e=t.role)||void 0===e?void 0:e.name)===nt.g?"":Object(Xe.jsx)(Xe.Fragment,{children:2===t.status?Object(Xe.jsx)(St.a,{title:"Activar usuario",onClick:function(){return s.activateUser({variables:{id:t.id}})},children:Object(Xe.jsx)(Nt.a,{"aria-label":"desactivate",size:"small",color:"secondary",children:Object(Xe.jsx)(Ic.a,{style:{color:"#F44336"}})})}):1===t.status?Object(Xe.jsx)(St.a,{title:"Desactivar usuario",onClick:j,children:Object(Xe.jsx)(Nt.a,{"aria-label":"activate",size:"small",style:{color:"#4CAF50"},children:Object(Xe.jsx)(Nc.a,{style:{color:"#4CAF50"}})})}):""}),Object(Xe.jsx)(St.a,{title:"Editar usuario",onClick:function(){return o({name:"Usuario",active:!0})},children:Object(Xe.jsx)(Nt.a,{"aria-label":"role",size:"small",children:Object(Xe.jsx)($t.a,{})})}),Object(Xe.jsx)(St.a,{title:"Cambiar contrase\xf1a",onClick:function(){return o({name:"Contrase\xf1a",active:!0})},children:Object(Xe.jsx)(Nt.a,{"aria-label":"password",size:"small",children:Object(Xe.jsx)(Yc.a,{})})})]})]})};return Object(Xe.jsx)(Xe.Fragment,{children:at(nt.c,n,a,(function(){var e,r,c,i;return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(yt.a,{children:(null===n||void 0===n||null===(e=n.role)||void 0===e?void 0:e.name)===nt.g?Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsxs)(Ct.a,{component:"th",scope:"row",children:[t.name," ",t.lastName]}),Object(Xe.jsx)(Ct.a,{children:null===(r=t.role)||void 0===r?void 0:r.name}),Object(Xe.jsx)(Ct.a,{children:t.email}),Object(Xe.jsx)(Ct.a,{children:Bt()(t.createdAt).format("DD/MM/YYYY")}),Object(Xe.jsx)(Ct.a,{children:Bt()(t.updatedAt).format("DD/MM/YYYY")}),at(nt.f,n,a,O)]}):Object(Xe.jsx)(Xe.Fragment,{children:(null===(c=t.role)||void 0===c?void 0:c.name)===nt.g||Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsxs)(Ct.a,{component:"th",scope:"row",children:[t.name," ",t.lastName]}),Object(Xe.jsx)(Ct.a,{children:null===(i=t.role)||void 0===i?void 0:i.name}),Object(Xe.jsx)(Ct.a,{children:t.email}),Object(Xe.jsx)(Ct.a,{children:Bt()(t.createdAt).format("DD/MM/YYYY")}),Object(Xe.jsx)(Ct.a,{children:Bt()(t.updatedAt).format("DD/MM/YYYY")}),at(nt.f,n,a,O)]})})})})}))})},$c=Object(jt.a)({table:{minWidth:650}}),Lc={name:"",active:!1},Tc=function(){var e=Object(He.d)((function(e){return e.authReducer.authUser})),t=Object(He.d)((function(e){return e.page.user.module})),n=$c(),a=Object(he.useState)([]),r=Object(Se.a)(a,2),c=r[0],i=r[1],o=Object(he.useState)(Lc),l=Object(Se.a)(o,2),s=l[0],u=l[1],d=function(){var e=Object(ke.useQuery)(wc);return{data:e.data,loading:e.loading,error:e.error}}(),j=d.data,b=d.loading,O=d.error,m=Object(He.c)(),h=function(){u(Object(Ee.a)(Object(Ee.a)({},s),{},{active:!1})),m(Object(ut.b)({type:"",text:""}))},p=function(e){switch(e){case"Crear":return Object(Xe.jsx)(Ec,{handleClose:h})}};if(Object(he.useEffect)((function(){j&&i(j.getUsers)}),[j]),b)return Object(Xe.jsx)("h1",{children:"Cargando..."});if(O)return Object(Xe.jsx)("h1",{children:Object(st.a)(O)});return Object(Xe.jsxs)(Xe.Fragment,{children:[at(nt.d,e,t,(function(){return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(qt,{open:s.active,title:"".concat(s.name," Usuario"),component:p(s.name),handleClose:h}),Object(Xe.jsx)(St.a,{title:"Crear Usuario",children:Object(Xe.jsx)(Nt.a,{"aria-label":"add",size:"small",onClick:function(){return u({name:"Crear",active:!0})},children:Object(Xe.jsx)(Zt.a,{})})})]})})),Object(Xe.jsx)(Jt.a,{component:Kt.a,style:{marginTop:10,whiteSpace:"nowrap"},children:Object(Xe.jsxs)(Vt.a,{className:n.table,size:"small","aria-label":"a dense table",children:[Object(Xe.jsx)(Gt.a,{children:Object(Xe.jsxs)(yt.a,{children:[Object(Xe.jsx)(Ct.a,{children:"Nombres"}),Object(Xe.jsx)(Ct.a,{children:"Rol"}),Object(Xe.jsx)(Ct.a,{children:"Correo"}),Object(Xe.jsx)(Ct.a,{children:"Fecha creada"}),Object(Xe.jsx)(Ct.a,{children:"Fecha modificada"}),at(nt.f,e,t,(function(){return Object(Xe.jsx)(Ct.a,{align:"right",children:"Opciones"})}))]})}),Object(Xe.jsx)(Ht.a,{children:c.map((function(e){return Object(Xe.jsx)(Pc,{user:e},e.id)}))})]})})]})},Wc=Object(ke.gql)(se||(se=Object(we.a)(["\n  query getVehicles {\n    getVehicles {\n      id\n      customer {\n        id\n        name\n        lastName\n        document\n        numDocument\n      }\n      device {\n        id\n        name\n      }\n      billing {\n        id\n        name\n        day\n      }\n      plate\n      nroGPS\n      billigStart\n      billigEnd\n      createdAt\n      updatedAt\n    }\n  }\n"]))),Qc=Object(ke.gql)(ue||(ue=Object(we.a)(["\n  mutation deleteVehicle($id: String!) {\n    deleteVehicle(id: $id)\n  }\n"]))),_c=Object(ke.gql)(de||(de=Object(we.a)(["\n  mutation registerVehicle($vehicleInput: CreateVehicleInput!) {\n    registerVehicle(vehicleInput: $vehicleInput) {\n      id\n      customer {\n        id\n        name\n      }\n      device {\n        id\n        name\n      }\n      billing {\n        id\n        name\n      }\n      plate\n      nroGPS\n      billigStart\n      billigEnd\n      createdAt\n      updatedAt\n    }\n  }\n"]))),Vc=Object(ke.gql)(je||(je=Object(we.a)(["\n  mutation updateVehicle($vehicleInput: UpdateVehicleInput!) {\n    updateVehicle(vehicleInput: $vehicleInput) {\n      id\n      customer {\n        id\n        name\n      }\n      device {\n        id\n        name\n      }\n      billing {\n        id\n        name\n      }\n      plate\n      nroGPS\n      billigStart\n      billigEnd\n      createdAt\n      updatedAt\n    }\n  }\n"]))),Jc=function(e){var t,n,a,r,c,i,o=e.handleClose,l=e.vehicle,s=Bt()().utc().local().format("YYYY-MM-DD"),u={customer:"",device:"",billing:"",plate:"",nroGPS:"",billigStart:s},d={id:(null===l||void 0===l?void 0:l.id)||"",customer:(null===l||void 0===l||null===(t=l.customer)||void 0===t?void 0:t.id)||"",device:(null===l||void 0===l||null===(n=l.device)||void 0===n?void 0:n.name)||"",billing:(null===l||void 0===l||null===(a=l.billing)||void 0===a?void 0:a.name)||"",plate:(null===l||void 0===l?void 0:l.plate)||"",nroGPS:(null===l||void 0===l?void 0:l.nroGPS)||"",billigStart:Bt()(null===l||void 0===l?void 0:l.billigStart).format("YYYY-MM-DD")||s},j=Object(he.useState)(d.id?d:u),b=Object(Se.a)(j,2),O=b[0],m=b[1],h=Object(He.c)(),p=function(){var e=Object(ke.useMutation)(Vc,{refetchQueries:function(){return[{query:Wc}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{updateVehicle:n,error:a.error,loading:a.loading}}(),x=function(){var e=Object(ke.useMutation)(_c,{refetchQueries:function(){return[{query:Wc}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{registerVehicle:n,error:a.error,loading:a.loading}}(),g=Object(he.useState)([]),f=Object(Se.a)(g,2),v=f[0],y=f[1],C=Object(he.useState)({name:"",lastName:"",document:"",numDocument:"",cellphone_1:"",username:"",password:""}),S=Object(Se.a)(C,2),w=S[0],k=S[1],I=Object(he.useState)([]),A=Object(Se.a)(I,2),M=A[0],E=A[1],D=Object(he.useState)({name:""}),N=Object(Se.a)(D,2),F=N[0],R=N[1],U=Object(he.useState)([]),Y=Object(Se.a)(U,2),q=Y[0],z=Y[1],B=Object(he.useState)({name:""}),P=Object(Se.a)(B,2),$=P[0],L=P[1],T=Ea(),W=Ta(),Q=it(),_=function(e){m(Object(Ee.a)(Object(Ee.a)({},O),{},Object(rt.a)({},e.target.name,e.target.value)))},V=function(){var e=Object(Me.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!O.id){e.next=13;break}return e.prev=2,e.next=5,p.updateVehicle({variables:{vehicleInput:O}});case 5:h(Object(ut.b)({type:"success",text:"El vehiculo se actualiz\xf3 correctamente."})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),h(Object(ut.b)({type:"error",text:Object(st.a)(e.t0)}));case 11:e.next=22;break;case 13:return e.prev=13,e.next=16,x.registerVehicle({variables:{vehicleInput:O}});case 16:h(Object(ut.b)({type:"success",text:"El vehiculo ha sido registrado correctamente."})),e.next=22;break;case 19:e.prev=19,e.t1=e.catch(13),h(Object(ut.b)({type:"error",text:Object(st.a)(e.t1)}));case 22:case"end":return e.stop()}}),e,null,[[2,8],[13,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(he.useEffect)((function(){var e,t,n,a,r,c,i,o,s,u,d;T.data&&y(null===T||void 0===T||null===(t=T.data)||void 0===t?void 0:t.getCustomer);W.data&&E(null===W||void 0===W||null===(n=W.data)||void 0===n?void 0:n.getDevices);Q.data&&z(null===Q||void 0===Q||null===(a=Q.data)||void 0===a?void 0:a.getBillings);(null===(e=v[0])||void 0===e?void 0:e.name)&&(k(Object(Ee.a)(Object(Ee.a)({},w),{},{name:O.id?null===l||void 0===l?void 0:l.customer.name:null===(r=v[0])||void 0===r?void 0:r.name,lastName:O.id?null===l||void 0===l?void 0:l.customer.lastName:null===(c=v[0])||void 0===c?void 0:c.lastName})),R(Object(Ee.a)(Object(Ee.a)({},F),{},{name:O.id?null===l||void 0===l?void 0:l.device.name:null===(i=M[0])||void 0===i?void 0:i.name})),L(Object(Ee.a)(Object(Ee.a)({},$),{},{name:O.id?null===l||void 0===l?void 0:l.billing.name:null===(o=q[0])||void 0===o?void 0:o.name})),m(Object(Ee.a)(Object(Ee.a)({},O),{},{customer:O.id?null===l||void 0===l?void 0:l.customer.id:null===(s=v[0])||void 0===s?void 0:s.id,device:O.id?null===l||void 0===l?void 0:l.device.name:null===(u=M[0])||void 0===u?void 0:u.name,billing:O.id?null===l||void 0===l?void 0:l.billing.name:null===(d=q[0])||void 0===d?void 0:d.name})))}),[T.data,W.data,Q.data,null===(r=v[0])||void 0===r?void 0:r.name,null===(c=M[0])||void 0===c?void 0:c.name,null===(i=q[0])||void 0===i?void 0:i.name]),Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)("form",{onSubmit:V,children:Object(Xe.jsxs)(dt.a,{container:!0,spacing:3,children:[Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Un.a,{id:"idCustomer",value:{name:null===w||void 0===w?void 0:w.name,lastName:null===w||void 0===w?void 0:w.lastName,document:null===w||void 0===w?void 0:w.document,numDocument:null===w||void 0===w?void 0:w.numDocument,cellphone_1:null===w||void 0===w?void 0:w.cellphone_1,username:null===w||void 0===w?void 0:w.username,password:null===w||void 0===w?void 0:w.password},onChange:function(e,t){var n,a,r;k(Object(Ee.a)(Object(Ee.a)({},w),{},{name:t?t.name:null===(n=v[0])||void 0===n?void 0:n.name,lastName:t?t.lastName:null===(a=v[0])||void 0===a?void 0:a.lastName})),m(Object(Ee.a)(Object(Ee.a)({},O),{},{customer:"".concat(t?t.id:null===(r=v[0])||void 0===r?void 0:r.id)}))},options:v,getOptionLabel:function(e){return e.name?"".concat(e.name," ").concat(e.lastName):""},getOptionSelected:function(e,t){var n,a;return t.name||(t=Object(Ee.a)(Object(Ee.a)({},t),{},{name:null===(n=v[0])||void 0===n?void 0:n.name,lastName:null===(a=v[0])||void 0===a?void 0:a.lastName})),"".concat(e.name," ").concat(e.lastName)==="".concat(t.name," ").concat(t.lastName)},loading:T.loading,loadingText:"Cargando...",noOptionsText:"No hay resultados",renderInput:function(e){return Object(Xe.jsx)(Ot.a,Object(Ee.a)(Object(Ee.a)({},e),{},{name:"customer",label:"Cliente",variant:"outlined"}))}})}),Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Un.a,{id:"idDevice",value:{name:null===F||void 0===F?void 0:F.name},onChange:function(e,t){var n,a;R(Object(Ee.a)(Object(Ee.a)({},F),{},{name:t?t.name:null===(n=M[0])||void 0===n?void 0:n.name})),m(Object(Ee.a)(Object(Ee.a)({},O),{},{device:"".concat(t?t.name:null===(a=M[0])||void 0===a?void 0:a.name)}))},options:M,getOptionLabel:function(e){return e.name?e.name:""},getOptionSelected:function(e,t){var n;return t.name||(t=Object(Ee.a)(Object(Ee.a)({},t),{},{name:null===(n=M[0])||void 0===n?void 0:n.name})),e.name===t.name},loading:W.loading,loadingText:"Cargando...",noOptionsText:"No hay resultados",renderInput:function(e){return Object(Xe.jsx)(Ot.a,Object(Ee.a)(Object(Ee.a)({},e),{},{name:"device",label:"Dispositivo",variant:"outlined"}))}})}),Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(Un.a,{id:"idBilling",value:{name:null===$||void 0===$?void 0:$.name},onChange:function(e,t){var n,a;L(Object(Ee.a)(Object(Ee.a)({},$),{},{name:t?t.name:null===(n=q[0])||void 0===n?void 0:n.name})),m(Object(Ee.a)(Object(Ee.a)({},O),{},{billing:"".concat(t?t.name:null===(a=q[0])||void 0===a?void 0:a.name)}))},options:q,getOptionLabel:function(e){return e.name?e.name:""},getOptionSelected:function(e,t){var n;return t.name||(t=Object(Ee.a)(Object(Ee.a)({},t),{},{name:null===(n=q[0])||void 0===n?void 0:n.name})),e.name===t.name},loading:Q.loading,loadingText:"Cargando...",noOptionsText:"No hay resultados",renderInput:function(e){return Object(Xe.jsx)(Ot.a,Object(Ee.a)(Object(Ee.a)({},e),{},{name:"billing",label:"Plan de facturaci\xf3n",variant:"outlined"}))}})}),Object(Xe.jsx)(dt.a,{item:!0,xs:6,children:Object(Xe.jsx)(ht,{fullWidth:!0,type:"text",onChange:_,name:"plate",autoComplete:"off",id:"idPlate",label:"Placa",variant:"filled",value:O.plate})}),Object(Xe.jsx)(dt.a,{item:!0,xs:6,children:Object(Xe.jsx)(ht,{fullWidth:!0,type:"text",onChange:_,name:"nroGPS",autoComplete:"off",id:"idNro",label:"Nro de GPS",variant:"filled",value:O.nroGPS})}),Object(Xe.jsx)(dt.a,{item:!0,xs:12,children:Object(Xe.jsx)(ht,{fullWidth:!0,type:"date",onChange:_,name:"billigStart",autoComplete:"off",id:"idBilligStart",label:"Fecha de inicio",variant:"filled",value:O.billigStart})}),Object(Xe.jsxs)(xt.a,{style:{width:"100%"},children:[Object(Xe.jsx)(pt.a,{onClick:o,color:"primary",children:"Cancelar"}),O.id?p.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Actualizar"}):x.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{type:"submit",color:"primary",autoFocus:!0,variant:"contained",children:"Registrar"})]})]})})})},Gc=n(196),Hc=n.n(Gc),Kc=n(260),Xc=Object(ke.gql)(be||(be=Object(we.a)(["\n  mutation registerRenew($renewInput: CreateRenewInput!) {\n    registerRenew(renewInput: $renewInput) {\n      id\n      registeredBy {\n        id\n        name\n        lastName\n      }\n      updatedBy {\n        id\n        name\n        lastName\n      }\n      vehicle {\n        id\n        plate\n      }\n      billing {\n        id\n        name\n      }\n      expirationDate\n      renovationStart\n      renovationEnd\n      createdAt\n      updatedAt\n    }\n  }\n"]))),Zc=n(320),ei=n(328),ti=n(195),ni=n.n(ti),ai=Object(ke.gql)(Oe||(Oe=Object(we.a)(["\n  query getBillingByName($name: String!) {\n    getBillingByName(name: $name) {\n      id\n      name\n      day\n    }\n  }\n"]))),ri=function(e){var t=e.handleClose,n=e.vehicle,a=Object(he.useState)(!1),r=Object(Se.a)(a,2),c=r[0],i=r[1],o=Object(he.useState)([]),l=Object(Se.a)(o,2),s=l[0],u=l[1],d=Object(He.c)(),j=Object(he.useState)({vehicle:n.plate,billing:n.billing.name}),b=Object(Se.a)(j,2),O=b[0],m=b[1],h=Object(he.useState)({day:n.billing.day}),p=Object(Se.a)(h,2),x=p[0],g=p[1],f=it(),v=function(){var e=Object(ke.useLazyQuery)(ai),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{getBillingByName:n,data:a.data,error:a.error,loading:a.loading}}(),y=function(){var e=Object(ke.useMutation)(Xc,{refetchQueries:function(){return[{query:Wc}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{registerRenew:n,error:a.error,loading:a.loading}}(),C=Object(Zc.a)(new Date),S=Object(ei.a)(C,{days:x.day}),w=function(){var e=Object(Me.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.getBillingByName({variables:{name:t}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),d(Object(ut.b)({type:"error",text:Object(st.a)(e.t0)}));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(Me.a)(Ae.a.mark((function e(){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.registerRenew({variables:{renewInput:O}});case 3:d(Object(ut.b)({type:"success",text:"Se ha renovado correctamente."})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),d(Object(ut.b)({type:"error",text:Object(st.a)(e.t0)}));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(he.useEffect)((function(){f.data&&u(f.data.getBillings),v.data&&g(Object(Ee.a)(Object(Ee.a)({},x),{},{day:v.data.getBillingByName.day}))}),[f.data,v.data]),Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsxs)("p",{children:["Estas apunto de renovar su inscripci\xf3n del vehiculo"," ",Object(Xe.jsx)("strong",{children:n.plate})," que pertenece a"," ",Object(Xe.jsxs)("strong",{children:[n.customer.name," ",n.customer.lastName]})," ","con n\xfamero de ",Object(Xe.jsx)("strong",{children:n.customer.document}),","," ",Object(Xe.jsx)("strong",{children:n.customer.numDocument}),"."]}),Object(Xe.jsx)("br",{}),Object(Xe.jsx)(Kc.a,{}),Object(Xe.jsx)("br",{}),c?Object(Xe.jsxs)(an.a,{variant:"outlined",style:{width:300},children:[Object(Xe.jsx)(rn.a,{id:"idBilling-label",children:"Plan de facturaci\xf3n"}),Object(Xe.jsx)(on.a,{labelId:"idBilling-label",id:"idBilling",value:O.billing,onChange:function(e){m(Object(Ee.a)(Object(Ee.a)({},O),{},{billing:e.target.value}))},label:"Age",children:s.map((function(e){return Object(Xe.jsx)(cn.a,{value:e.name,children:e.name},e.id)}))})]}):Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)("label",{children:O.billing!==n.billing.name?Object(Xe.jsx)("label",{style:{background:"yellow"},children:"Cambiado a"}):"Actualmente tiene"})," ",O.billing]})," ",Object(Xe.jsx)(St.a,{title:"Editar plan de facturaci\xf3n",onClick:function(){i(!c),w(O.billing)},children:Object(Xe.jsxs)(Nt.a,{"aria-label":"vehicle",size:"small",style:{color:"blue"},children:[c?"Guardar":"Editar",c?Object(Xe.jsx)(ni.a,{}):Object(Xe.jsx)($t.a,{})]})}),Object(Xe.jsx)("br",{}),Object(Xe.jsx)("br",{}),Object(Xe.jsxs)("div",{style:{width:"100%",height:"auto"},children:[Object(Xe.jsxs)("div",{style:{width:"50%",float:"left"},children:[Object(Xe.jsx)("label",{children:"Fecha de caducidad"})," "]}),Object(Xe.jsx)("div",{style:{width:"50%",float:"left"},children:Bt()(n.billigEnd).format("DD/MM/YYYY")})]}),Object(Xe.jsx)("br",{}),Object(Xe.jsx)("br",{}),Object(Xe.jsx)(Kc.a,{}),Object(Xe.jsx)("br",{}),Object(Xe.jsxs)("div",{style:{filter:c?"blur(4px)":"blur(0)",userSelect:c?"none":"text"},children:[Object(Xe.jsxs)("div",{style:{width:"100%",height:"auto"},children:[Object(Xe.jsx)("div",{style:{width:"50%",float:"left",backgroundColor:"#fff"},children:"Renueva desde"}),Object(Xe.jsx)("div",{style:{width:"50%",float:"left"},children:Bt()().format("DD/MM/YYYY")})]}),Object(Xe.jsxs)("div",{style:{width:"100%",height:"auto"},children:[Object(Xe.jsx)("div",{style:{width:"50%",float:"left",backgroundColor:"#fff"},children:"\xa0"}),Object(Xe.jsxs)("div",{style:{width:"50%",float:"left"},children:[Object(Xe.jsx)("strong",{children:"+"})," ",x.day," d\xedas"]})]}),Object(Xe.jsxs)("div",{style:{width:"100%",height:"auto"},children:[Object(Xe.jsx)("div",{style:{width:"50%",float:"left",backgroundColor:"#fff"},children:"Renovando hasta"}),Object(Xe.jsx)("div",{style:{width:"50%",float:"left"},children:Bt()(S).format("DD/MM/YYYY")})]})]}),Object(Xe.jsxs)(xt.a,{style:{width:"100%"},children:[Object(Xe.jsx)(pt.a,{onClick:t,color:"primary",children:"Cancelar"}),y.loading?Object(Xe.jsx)(gt.a,{}):Object(Xe.jsx)(pt.a,{onClick:k,color:"primary",autoFocus:!0,disabled:!!c,variant:"contained",children:"Aceptar"})]})]})},ci={type:"",text:""},ii={name:"",active:!1},oi=function(e){var t=e.vehicle,n=Object(He.d)((function(e){return e.authReducer.authUser})),a=Object(He.d)((function(e){return e.page.user.module})),r=Object(he.useState)(ii),c=Object(Se.a)(r,2),i=c[0],o=c[1],l=Object(He.c)(),s=function(){var e=Object(ke.useMutation)(Qc,{refetchQueries:function(){return[{query:Wc}]}}),t=Object(Se.a)(e,2),n=t[0],a=t[1];return{deleteVehicle:n,error:a.error,loading:a.loading}}(),u=function(){o(ii),l(Object(ut.b)(ci))},d=function(){var e=Object(Me.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.deleteVehicle({variables:{id:t}});case 3:e.next=10;break;case 5:e.prev=5,e.t0=e.catch(0),o({name:"error",active:!0}),l(Object(ut.b)({type:"error",text:Object(st.a)(e.t0)})),i.active,i.name;case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(St.a,{title:"Eliminar vehiculo",onClick:function(){return d(t.id)},children:Object(Xe.jsx)(Nt.a,{"aria-label":"vehicle",size:"small",children:Object(Xe.jsx)(Tt.a,{})})})})},b=function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(St.a,{title:"Editar vehiclo",onClick:function(){return o({name:"Vehiculo",active:!0})},children:Object(Xe.jsx)(Nt.a,{"aria-label":"vehicle",size:"small",children:Object(Xe.jsx)($t.a,{})})})})};return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(qt,{open:i.active,dialog:t,title:i.name,component:function(e){switch(e){case"Vehiculo":return Object(Xe.jsx)(Jc,{vehicle:t,handleClose:u});case"Renovar":return Object(Xe.jsx)(ri,{vehicle:t,handleClose:u})}}(i.name),handleClose:u}),at(nt.c,n,a,(function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsxs)(yt.a,{children:[Object(Xe.jsxs)(Ct.a,{component:"th",scope:"row",children:[t.customer.name," ",t.customer.lastName]}),Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",children:t.device.name}),Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",children:t.billing.name}),Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",children:t.plate}),Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",children:t.nroGPS}),Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",align:"center",children:Bt()(t.billigStart).format("DD/MM/YYYY")}),Object(Xe.jsx)(Ct.a,{component:"th",scope:"row",align:"center",children:Bt()(t.billigEnd).format("DD/MM/YYYY")}),Object(Xe.jsx)(Ct.a,{children:Bt()(t.createdAt).format("DD/MM/YYYY")}),Object(Xe.jsx)(Ct.a,{children:Bt()(t.updatedAt).format("DD/MM/YYYY")}),Object(Xe.jsxs)(Ct.a,{align:"right",children:[at(nt.f,n,a,b),at(nt.e,n,a,j),Object(Xe.jsx)(St.a,{title:"Renovar vehiculo",onClick:function(){return o({name:"Renovar",active:!0})},children:Object(Xe.jsx)(Nt.a,{"aria-label":"renew",size:"small",children:Object(Xe.jsx)(Hc.a,{})})})]})]})})}))]})},li={name:"",active:!1},si={type:"",text:""},ui=function(){var e=Object(He.d)((function(e){return e.authReducer.authUser})),t=Object(He.d)((function(e){return e.page.user.module})),n=Object(he.useState)(li),a=Object(Se.a)(n,2),r=a[0],c=a[1],i=Object(He.c)(),o=Object(he.useState)([]),l=Object(Se.a)(o,2),s=l[0],u=l[1],d=function(){var e=Object(ke.useQuery)(Wc);return{data:e.data,error:e.error,loading:e.loading}}(),j=d.data,b=d.loading,O=d.error,m=function(){c(li),i(Object(ut.b)(si))};if(Object(he.useEffect)((function(){j&&u(j.getVehicles)}),[j]),b)return Object(Xe.jsx)("h1",{children:"Cargando..."});if(O)return Object(Xe.jsx)("h1",{children:Object(st.a)(O)});return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(qt,{open:r.active,title:"".concat(r.name," Vehiculo"),component:function(e){switch(e){case"Crear":return Object(Xe.jsx)(Jc,{handleClose:m})}}(r.name),handleClose:m}),at(nt.d,e,t,(function(){return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(St.a,{title:"Crear vehiculo",children:Object(Xe.jsx)(Nt.a,{"aria-label":"add",size:"small",onClick:function(){return c({name:"Crear",active:!0})},children:Object(Xe.jsx)(Zt.a,{})})})})})),Object(Xe.jsx)(Jt.a,{component:Kt.a,style:{whiteSpace:"nowrap",marginTop:10},children:Object(Xe.jsxs)(Vt.a,{size:"small","aria-label":"a dense table",children:[Object(Xe.jsx)(Gt.a,{children:Object(Xe.jsxs)(yt.a,{children:[Object(Xe.jsx)(Ct.a,{children:"Cliente"}),Object(Xe.jsx)(Ct.a,{children:"Dispositivo"}),Object(Xe.jsx)(Ct.a,{children:"Plan"}),Object(Xe.jsx)(Ct.a,{children:"Placa"}),Object(Xe.jsx)(Ct.a,{children:"Nro GPS"}),Object(Xe.jsx)(Ct.a,{children:"Fecha de instalaci\xf3n"}),Object(Xe.jsx)(Ct.a,{children:"Fecha de termino"}),Object(Xe.jsx)(Ct.a,{children:"Fecha creada"}),Object(Xe.jsx)(Ct.a,{children:"Fecha modificada"}),Object(Xe.jsx)(Ct.a,{align:"right",children:"Opciones"})]})}),Object(Xe.jsx)(Ht.a,{children:s.map((function(e){return Object(Xe.jsx)(oi,{vehicle:e},e.id)}))})]})})]})},di=Object(He.b)((function(e){var t=e.page.user;return{link:t.link,page:t.page}}),null)((function(e){var t=e.link,n=e.page,a=Object(ve.h)(),r=a.pathname.replace("/",""),c=function(e){var t=e.component,n=e.toLogin,a=Object(et.a)(e,["component","toLogin"]);return Object(Xe.jsx)(ve.b,Object(Ee.a)(Object(Ee.a)({},a),{},{render:function(e){switch(n){case!0:return ye("accessToken")?Object(Xe.jsx)(ve.a,{to:{pathname:"/"}}):Object(he.createElement)(t,e);case!1:return ye("accessToken")?Object(he.createElement)(t,e):Object(Xe.jsx)(ve.a,{to:{pathname:"/"}})}}}))};return Object(Xe.jsx)(Xe.Fragment,{children:t===r||t===a.pathname?Object(Xe.jsx)(c,{exact:!0,path:"/".concat(t),toLogin:!1,component:function(e){switch(e){case"DASHBOARD":return function(){return Object(Xe.jsx)("h1",{children:"Bienvenido"})};case"MODULOS":return function(){return Object(Xe.jsx)(qr,{})};case"ROLES":return function(){return Object(Xe.jsx)(jc,{})};case"USUARIOS":return function(){return Object(Xe.jsx)(Tc,{})};case"CATEGORIAS":return function(){return Object(Xe.jsx)(Dn,{})};case"MARCAS":return function(){return Object(Xe.jsx)(vn,{})};case"MODELOS":return function(){return Object(Xe.jsx)(ur,{})};case"PRODUCTOS":return function(){return Object(Xe.jsx)(Hr,{})};case"SERVICIOS":return function(){return Object(Xe.jsx)(Sc,{})};case"INGRESOS":return function(){return Object(Xe.jsx)(sa,{})};case"EGRESOS":return function(){return Object(Xe.jsx)(Gn,{})};case"RESUMEN-CAJA":return function(){return Object(Xe.jsx)(ua,{})};case"CONSULTAR-CAJA":return function(){return Object(Xe.jsx)(ba,{})};case"CONSULTAR-PRECIOS":return function(){return Object(Xe.jsx)(Aa,{})};case"CLIENTES":return function(){return Object(Xe.jsx)($a,{})};case"VEHICULOS":return function(){return Object(Xe.jsx)(ui,{})};case"DISPOSITIVOS":return function(){return Object(Xe.jsx)(Za,{})};case"PLAN-DE-FACTURACION":return function(){return Object(Xe.jsx)(nn,{})};default:return function(){return Object(Xe.jsx)(tt,{})}}}("".concat(n))}):Object(Xe.jsx)(c,{toLogin:!1,path:"*",component:tt})})})),ji=function(){return Object(Xe.jsx)(ve.d,{children:Object(Xe.jsx)(di,{})})},bi=(n(239),function(){var e=Object(He.d)((function(e){return e.page.user})),t=e.module,n=(e.page,e.name),a=null===n||void 0===n?void 0:n.charAt(0).toUpperCase(),r=null===n||void 0===n?void 0:n.substr(1,null===n||void 0===n?void 0:n.length),c="".concat(a).concat(r.toLowerCase());return Object(Xe.jsx)("div",{className:"wrapper",children:Object(Xe.jsxs)("div",{className:"content-wrapper",children:[Object(Xe.jsxs)("div",{className:"content-wrapper-header items-center",children:[Object(Xe.jsx)("h1",{children:n.toUpperCase()}),Object(Xe.jsxs)("ol",{children:[Object(Xe.jsx)("li",{className:"list-style-none text-active",children:Object(Xe.jsx)("strong",{children:t})}),Object(Xe.jsx)("li",{className:"list-style-none text-inactive",children:c})]})]}),Object(Xe.jsx)("div",{className:"content-wrapper-main",children:Object(Xe.jsx)(ji,{})})]})})}),Oi=(n(240),function(){return Object(Xe.jsx)("footer",{children:Object(Xe.jsx)("div",{className:"center",children:Object(Xe.jsxs)("p",{children:["\xa9 2020-2021 by"," ",Object(Xe.jsx)("a",{href:"https://kemaytechnology.com/",target:"_blank",rel:"noreferrer",children:"Kemay Technology"}),". Todos los derechos reservados. Si tuviese alg\xfan inconveniente por favor contactarnos al siguiente correo:",Object(Xe.jsx)("a",{href:"mailto:dperez@kemaytechnology.com",target:"_blank",rel:"noreferrer",children:"dperez@kemaytechnology.com"}),Object(Xe.jsx)("br",{})," Version: 0.0.1 | Powered by",Object(Xe.jsx)("a",{href:"http://github.com/davisperezg",target:"_blank",rel:"noreferrer",children:"@davisperezg"})]})})})}),mi=n(321),hi=n(322),pi="@page/LINK_USER",xi=function(e,t,n){return function(){var a=Object(Me.a)(Ae.a.mark((function a(r){return Ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r({type:pi,payload:{link:t,module:e,page:"/"===t?"DASHBOARD":t.toUpperCase(),name:n}});case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},gi=Object(He.b)(null,{setLink:xi})((function(e){var t,n=e.menu,a=e.setLink,r=e.module,c=Object(ve.g)(),i=Object(He.d)((function(e){return e.authReducer.authUser})),o=function(){a(r.name,n.link,n.name),document.title="RPUM - ".concat(n.link.toUpperCase()),c.push("/".concat(n.link))};return Object(Xe.jsx)(Xe.Fragment,{children:((null===i||void 0===i||null===(t=i.role)||void 0===t?void 0:t.name)===nt.g||n.name!==nt.a)&&Object(Xe.jsx)("li",{onClick:function(){return o()},children:n.name})})})),fi=function(e){var t=e.module,n=Object(he.useState)(!1),a=Object(Se.a)(n,2),r=a[0],c=a[1],i=Object(he.useState)(!1),o=Object(Se.a)(i,2),l=o[0],s=o[1],u=t.menus,d=pe.a.useState([]),j=Object(Se.a)(d,2),b=j[0],O=j[1];return Object(he.useEffect)((function(){O(u||[])}),[u]),Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsxs)("li",{style:l?{color:"#fff",fontWeight:"bold"}:{color:"#67677e"},onClick:function(){return c(!r),void s(!l)},children:[t.name," ",r?Object(Xe.jsx)(mi.a,{}):Object(Xe.jsx)(hi.a,{})]}),r&&Object(Xe.jsx)("ul",{children:b.map((function(e){return Object(Xe.jsx)(gi,{menu:e,module:t},e.id)}))})]})},vi=n.p+"static/media/logo_kemay_antena.16ba1da3.png",yi=(n(241),function(){var e,t=Object(He.d)((function(e){return e.authReducer.authUser})),n=Object(He.d)((function(e){return e.page.user})),a=(n.module,n.page,null===t||void 0===t||null===(e=t.role)||void 0===e?void 0:e.modules),r=Object(he.useState)([]),c=Object(Se.a)(r,2),i=c[0],o=c[1],l=Object(ve.g)(),s=Object(He.c)();return Object(he.useEffect)((function(){o(a||[])}),[a]),Object(Xe.jsxs)("aside",{children:[Object(Xe.jsx)("div",{className:"content-logo",children:Object(Xe.jsx)("div",{className:"logo",onClick:function(){l.push("/"),s(xi("Inicio","/","Dashboard"))},children:Object(Xe.jsx)("img",{width:"100",height:"100",src:vi,alt:"Logo"})})}),Object(Xe.jsx)("div",{className:"sidebar",children:Object(Xe.jsx)("ul",{children:i.map((function(e){return Object(Xe.jsx)(fi,{module:e},e.id)}))})})]})}),Ci=(n(242),function(){return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)("section",{className:"menu",children:Object(Xe.jsx)(yi,{})}),Object(Xe.jsxs)("section",{className:"content",children:[Object(Xe.jsxs)("div",{className:"body",children:[Object(Xe.jsx)(Ze,{}),Object(Xe.jsx)(bi,{})]}),Object(Xe.jsx)(Oi,{})]})]})}),Si=n(254),wi=n.p+"static/media/B_logo_kemay.bec2fe6e.png",ki=Object(ke.gql)(me||(me=Object(we.a)(["\n  mutation login($authInput: AuthInput!) {\n    login(authInput: $authInput) {\n      access_token\n      refresh_token\n    }\n  }\n"]))),Ii=(n(243),{email:"",password:""}),Ai={path:"",message:""},Mi=Object(He.b)((function(e){return{loading:e.authReducer.loading}}),{setLoading:Je})((function(e){var t=e.loading,n=e.setLoading,a=Object(he.useState)(Ai),r=Object(Se.a)(a,2),c=r[0],i=r[1],o=Object(he.useState)(Ii),l=Object(Se.a)(o,2),s=l[0],u=l[1],d=Object(He.d)((function(e){return e.message})),j=function(){var e=Object(ke.useMutation)(ki);return Object(Se.a)(e,1)[0]}(),b=Object(He.c)(),O=function(e){b(Object(ut.b)({type:"",text:""})),i(Ai),u(Object(Ee.a)(Object(Ee.a)({},s),{},Object(rt.a)({},e.target.name,e.target.value)))},m=function(){var e=Object(Me.a)(Ae.a.mark((function e(t){var a,r,c,o;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n(!0),e.prev=2,e.next=5,j({variables:{authInput:{email:s.email,password:s.password}}});case 5:a=e.sent,r=a.data.login,c=r.access_token,o=r.refresh_token,Ce("accessToken",c),Ce("refreshToken",o),Le.resetStore(),window.location.href="/",e.next=21;break;case 13:if(e.prev=13,e.t0=e.catch(2),401!==e.t0.graphQLErrors[0].extensions.exception.status){e.next=19;break}return b(Object(ut.b)({type:"error",text:Object(st.a)(e.t0)})),n(!1),e.abrupt("return");case 19:i(e.t0.graphQLErrors[0].extensions.exception.response),n(!1);case 21:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(Xe.jsxs)("div",{className:"login",children:[Object(Xe.jsx)("div",{className:"content-login-logo content-items-center",children:Object(Xe.jsx)("img",{width:"450",height:"400",src:wi,alt:"Logo"})}),Object(Xe.jsx)("div",{className:"content-login-form content-items-center",children:Object(Xe.jsxs)("div",{className:"content-login-form-main",children:[Object(Xe.jsx)("div",{className:"content-login-form-header content-items-center",children:Object(Xe.jsx)("h1",{children:"ACCESO AL SISTEMA"})}),d.type&&Object(Xe.jsx)(Dt.a,{severity:d.type,children:d.text}),Object(Xe.jsx)("form",{onSubmit:m,children:Object(Xe.jsxs)("div",{className:"content-login-form-body",children:[Object(Xe.jsx)("div",{className:"content-login-form-input",children:Object(Xe.jsx)(Ot.a,{error:"username"===(null===c||void 0===c?void 0:c.path),id:"idUsername",label:"Usuario",helperText:"username"===(null===c||void 0===c?void 0:c.path)?null===c||void 0===c?void 0:c.message:"",name:"email",onChange:O,variant:"outlined",fullWidth:!0})}),Object(Xe.jsx)("br",{}),Object(Xe.jsx)("div",{className:"content-login-form-input",children:Object(Xe.jsx)(Ot.a,{error:"password"===(null===c||void 0===c?void 0:c.path),id:"idPassword",label:"Contrase\xf1a",helperText:"password"===(null===c||void 0===c?void 0:c.path)?null===c||void 0===c?void 0:c.message:"",name:"password",onChange:O,variant:"outlined",type:"password",fullWidth:!0})}),Object(Xe.jsx)("br",{}),Object(Xe.jsx)("div",{className:"content-login-form-input content-items-center",children:t?Object(Xe.jsx)(Si.a,{}):Object(Xe.jsx)(pt.a,{disabled:!!t,type:"submit",size:"large",variant:"contained",color:"primary",fullWidth:!0,children:"Iniciar sesion"})}),Object(Xe.jsx)("br",{}),Object(Xe.jsx)("div",{className:"content-login-form-footer content-items-center",children:"\xbfOlvidaste tu contrase\xf1a?"})]})})]})})]})})),Ei=function(){return Object(Xe.jsx)(fe.a,{children:ye("accessToken")?Object(Xe.jsx)(Ci,{}):Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(Mi,{}),Object(Xe.jsx)(ve.a,{to:"/"})]})})},Di=n(89),Ni=n(197),Fi=n(198),Ri=n(157),Ui=n(199),Yi=n.n(Ui),qi={loading:!1,authUser:void 0,error:void 0},zi={user:{link:"/",module:"Inicio",page:"DASHBOARD",name:"Dashboard"}},Bi={type:"",text:""},Pi=Object(Di.combineReducers)({authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe:return Object(Ee.a)(Object(Ee.a)({},e),{},{loading:t.payload});case Te:case We:return Object(Ee.a)(Object(Ee.a)({},e),{},{authUser:t.payload});case _e:return Object(Ee.a)(Object(Ee.a)({},e),{},{error:t.payload});default:return e}},page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pi:return Object(Ee.a)(Object(Ee.a)({},e),{},{user:t.payload});default:return e}},message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ut.a:return t.payload;default:return e}}}),$i={key:"root",storage:Yi.a,whitelist:["page"]},Li=Object(Ri.a)($i,Pi),Ti=Object(Di.createStore)(Li,Object(Fi.composeWithDevTools)(Object(Di.applyMiddleware)(Ni.a))),Wi=Object(Ri.b)(Ti),Qi=n(200);n(246);ge.a.render(Object(Xe.jsx)(pe.a.StrictMode,{children:Object(Xe.jsx)(ke.ApolloProvider,{client:Le,children:Object(Xe.jsx)(He.a,{store:Ti,children:Object(Xe.jsx)(Qi.a,{loading:null,persistor:Wi,children:Object(Xe.jsx)(Ei,{})})})})}),document.getElementById("root"))},78:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var a,r=n(12),c=n(5),i=Object(c.gql)(a||(a=Object(r.a)(["\n  query getModules {\n    getModules {\n      id\n      name\n      description\n      createdAt\n      updatedAt\n      menus {\n        id\n        name\n        link\n      }\n      access {\n        id\n        name\n      }\n    }\n  }\n"]))),o=function(){var e=Object(c.useQuery)(i);return{data:e.data,loading:e.loading,error:e.error}}},8:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a="@message/ALERT",r=function(e){return{type:a,payload:e}}}},[[247,1,2]]]);
//# sourceMappingURL=main.82c1501e.chunk.js.map