{"version":3,"sources":["lib/transfer-list-component.tsx","const.ts","hooks/role/useUpdateRole.tsx","helpers/control-errors.ts","components/module/module-transfer-list.tsx","components/progress/progress.tsx","lib/local-storage.ts","hooks/login/useRefreshToken.tsx","config/config.ts","apollo-client.ts","store/auth/action.tsx","hooks/user/useMe.tsx","components/header/header.component.tsx","pages/404.page.tsx","components/acceso/filter-access.component.tsx","hooks/billing/useGetBilling.tsx","hooks/billing/useCreateBilling.tsx","hooks/billing/useUpdateBilling.tsx","components/textfield/reddit.tsx","components/billing/billing-form.tsx","hooks/billing/useDeleteBilling.tsx","components/dialog/dialog.component.tsx","components/billing/billing-list.tsx","pages/billing.page.tsx","hooks/category/useGetCategorys.tsx","hooks/brand/useGetBrands.tsx","hooks/brand/useUpdateBrand.tsx","hooks/brand/useCreateBrand.tsx","components/brand/brand-form.tsx","components/brand/brand-list.tsx","pages/brand.page.tsx","hooks/category/useCreateCategory.tsx","hooks/category/useUpdateCategory.tsx","components/category/category-form.tsx","components/category/category-list.tsx","pages/category.page.tsx","lib/currency/money.ts","hooks/egress/useGetEgress.tsx","hooks/egress/useDeleteEgress.tsx","hooks/egress/useUpdateEgress.tsx","hooks/egress/useCreateEgress.tsx","components/egress/EgressForm.tsx","components/egress/EgressList.tsx","context/caja-context.tsx","pages/egress.page.tsx","hooks/ingress/useGetIngress.tsx","hooks/ingress/useDeleteIngress.tsx","hooks/ingress/useUpdateIngress.tsx","hooks/ingress/useCreateIngress.tsx","components/ingress/IngressForm.tsx","components/ingress/IngresList.tsx","pages/ingress.page.tsx","pages/summary-box.page.tsx","hooks/summary-box/useGetEgerssByDates.tsx","hooks/summary-box/useGetIngressByDates.tsx","pages/check-money.page.tsx","hooks/brand/useBrandsByCategory.tsx","hooks/model/useGetModelsByBrand.tsx","hooks/product/useGetProductByCMM.tsx","hooks/product/useProductByName.tsx","hooks/service/useGetServicesByCategory.tsx","hooks/service/useServiceByName.tsx","pages/check-products.tsx","hooks/customer/useGetCustomer.tsx","hooks/customer/useUpdateCustomer.tsx","hooks/customer/useCreateCustomer.tsx","services/api-reniec.ts","services/api-sunat.ts","components/backdrop/backdrop.tsx","components/customer/customer-form.tsx","hooks/customer/useDeleteCustomer.tsx","components/customer/customer-list.tsx","components/table/table-pagination.tsx","pages/customer.page.tsx","hooks/device/useGetDevice.tsx","hooks/device/useUpdateDevice.tsx","hooks/device/useCreateDevice.tsx","components/device/device-form.tsx","hooks/device/useDeleteDevice.tsx","components/device/device-list.tsx","pages/device.page.tsx","hooks/model/useGetModels.tsx","hooks/model/useUpdateModel.tsx","hooks/model/useCreateModel.tsx","components/model/model-form.tsx","components/model/model-list.tsx","pages/model.page.tsx","components/table/item-module-menu.tsx","components/table/item-module-access.tsx","hooks/module/useUpdateModule.tsx","hooks/module/useCreateModule.tsx","hooks/access/useGetAllAceess.tsx","hooks/menu/useGetMenus.tsx","components/module/module-form.component.tsx","components/acceso/access-form.component.tsx","components/menu/menu-form.component.tsx","components/table/item-module.component.tsx","pages/module.page.tsx","hooks/product/useGetProducts.tsx","hooks/product/useUpdateProduct.tsx","hooks/product/useCreateProduct.tsx","components/product/product-form.tsx","hooks/product/useDeleteProduct.tsx","components/product/product-list.tsx","pages/product.page.tsx","hooks/role/useGetRoles.tsx","components/role/role-module-item.tsx","hooks/role/useCreateRole.tsx","components/role/rol-form.tsx","components/role/role-list.tsx","pages/role.page.tsx","hooks/service/useGetServices.tsx","hooks/service/useUpdateService.tsx","hooks/service/useCreateService.tsx","components/service/service-form.tsx","hooks/service/useDeleteService.tsx","components/service/service-list.tsx","pages/service.page.tsx","hooks/user/useGetUsers.tsx","hooks/user/useUpdateUser.tsx","hooks/user/useCreateUser.tsx","components/user/user-form.tsx","hooks/user/useUpdateAccessToLogin.tsx","hooks/password/useChangePassword.tsx","components/password/password-form.tsx","components/user/user-list.tsx","pages/user.page.tsx","hooks/vehicle/useGetVehicle.tsx","hooks/vehicle/useDeleteVehicle.tsx","hooks/vehicle/useCreateVehicle.tsx","hooks/vehicle/useUpdateVehicle.tsx","components/vehicle/vehicle-form.tsx","hooks/renew/useCreateRenew.tsx","hooks/billing/useGetBillingByName.tsx","components/renew/renew-form.tsx","components/vehicle/vehicle-list.tsx","pages/vehicles.page.tsx","lib/item-switch.component.tsx","lib/switch-container.tsx","components/wrapper/wrapper.component.tsx","components/footer/footer.component.tsx","store/page/action.tsx","components/wrapper/list-item-menus.tsx","components/wrapper/list-item-modules.tsx","assets/logo_kemay_antena.png","components/aside/aside.tsx","pages/home.page.tsx","assets/B_logo_kemay.png","hooks/login/useLogin.tsx","pages/login.page.tsx","components/app/app.component.tsx","store/auth/reducer.tsx","store/page/reducer.tsx","store/alert/reducer.tsx","store/index.ts","index.tsx","hooks/module/useGetModules.tsx","store/alert/action.tsx"],"names":["not","a","b","filter","value","indexOf","intersection","TrasnferList","setListAvailable","setListCurrent","listAvailable","setChecked","checked","titleAvailable","listCurrent","titleCurrent","loading","leftChecked","rightChecked","handleToggle","currentIndex","newChecked","push","splice","numberOfChecked","items","length","handleToggleAll","customList","title","avatar","onClick","indeterminate","disabled","inputProps","subheader","dense","component","role","map","labelId","name","button","tabIndex","disableRipple","id","primary","container","spacing","justify","alignItems","item","direction","variant","size","concat","aria-label","PERMIT_ONE","PERMIT_TWO","PERMIT_TREE","PERMIT_FOUR","ROLSA","MODULE_FORBIDDEN","MENU_FORBIDDEN","API_RENIEC","process","API_SUNAT","UDATE_ROL","gql","useUpdateRole","useMutation","update","cache","updateRole","data","modify","fields","existingRoles","newRolesRef","writeFragment","fragment","error","findError","index","graphQLErrors","element","extensions","exception","response","message","index1","ModuleTransferList","handleClose","useState","dispatch","useDispatch","optionsGetModules","useGetModules","optionsUpdateRole","alert","useSelector","state","type","text","onSubmit","authReducer","authUser","e","preventDefault","newData","module","variables","roleInput","modules","setAlert","loadModuleAvailable","useCallback","listModulesAvailableNoModulo","getModules","dispo","some","actual","useEffect","listModulesCurrentNoModulo","xs","style","width","color","autoFocus","Progress","display","justifyContent","disableShrink","getLocal","val","localStorage","getItem","setLocal","key","setItem","POST_REFRESH","URLC","isRefreshing","pendingRequests","errorLink","onError","networkError","operation","forward","err","status","forward$","fromPromise","Promise","resolve","client","mutate","mutation","authInput","email","refresh_token","then","access_token","refreshToken","callback","catch","finally","flatMap","console","log","locations","path","httpLink","createHttpLink","uri","authLink","setContext","_","headers","token","authorization","ApolloClient","link","from","InMemoryCache","LOGIN_USER","LOGOUT_USER","LOADING_USER","ERROR_USER","initialValue","lastName","setLoading","payload","logout","clear","resetStore","window","location","href","ME","connect","whoisme","me","useLazyQuery","pollInterval","useMe","className","NoMatch","loadAccess","auth","page","Component","Notify","filterAccessbyModuleCreate","access","myaccess","i","filterAccessbyModuleEdit","filterAccessbyModuleDelete","filterAccessbyModuleView","GET_BILLINGS","useGetBilling","useQuery","CREATE_BILLING","UPDATE_BILLING","useStylesReddit","makeStyles","theme","createStyles","root","border","overflow","borderRadius","backgroundColor","transition","transitions","create","borderColor","palette","main","focused","RedditTextField","props","classes","TextField","InputProps","disableUnderline","BillingForm","billing","initialStateUpdate","day","billingForm","setBillingForm","optionsUpdate","refetchQueries","query","updateBilling","useUpdateBilling","optionsCreate","registerBilling","useCreateBilling","handleInput","target","billingInput","Number","Grid","fullWidth","onChange","autoComplete","label","DialogActions","Button","DELETE_BILLING","DialogTitle","withStyles","margin","padding","closeButton","position","right","top","grey","children","onClose","other","disableTypography","Typography","IconButton","DialogForm","open","dialog","useTheme","fullScreen","useMediaQuery","breakpoints","down","Dialog","aria-labelledby","disableBackdropClick","disableEscapeKeyDown","Alert","severity","DialogContent","dividers","overflowY","initialAlert","initialDialog","active","BillingList","user","setDialog","optionsBilling","deleteBilling","useDeleteBilling","showOptionsForDelete","Tooltip","showOptionsForEdit","TableRow","TableCell","scope","moment","createdAt","format","updatedAt","align","BillingPage","billings","setBillings","getBillings","TableContainer","Paper","marginTop","whiteSpace","Table","TableHead","TableBody","GET_CATEGORYS","useGetCategorys","GET_BRANDS","useGetBrands","UPDATE_BRAND","CREATE_BRAND","BrandForm","brand","initialValueUpdate","category","brandForm","setBrandForm","categorys","setCategorys","optionsUpdateBrand","updateBrand","useUpdateBrand","optionsCreateBrand","registerBrand","useCreateBrand","brandInput","getCategorys","FormControl","InputLabel","Select","MenuItem","BrandList","BrandPage","brands","setBrands","getBrands","CREATE_CATEGORY","UPDATE_CATEGORY","CategoryForm","categoryForm","setCategoryForm","optionsUpdateCategory","updateCategory","useUpdateCategory","optionsCreateCategory","registerCategory","useCreateCategory","categoryInput","CategoryList","CategooryPage","formatMoney","Intl","NumberFormat","currency","GET_EGRESS","DELETE_EGRESS","UPDATE_EGRESS","CREATE_EGRESS","initialAutoCompleteInput","EgressForm","egress","initialValueCreate","detail","amount","units","observation","egressForm","setEgressForm","valueInput","setValueInput","optionsUpdateEgress","updateEgress","useUpdateEgress","optionsCreateEgress","registerEgress","useCreateEgress","dataCategorys","egressInput","Autocomplete","event","inputValue","onInputChange","newValue","options","getOptionLabel","getOptionSelected","option","renderInput","params","startAdornment","InputAdornment","readOnly","multiline","rows","EgressList","egres","optionsEgress","deleteEgress","useDeleteEgress","wordBreak","PagoContext","createContext","summaryIngress","ingress","setSummaryIngress","summaryEgress","setSummaryEgress","PagoProvider","Provider","Consumer","EgressPage","checkMoney","resultEgress","setEgress","useGetEgress","useContext","totalHoy","reduce","sum","undefined","getEgress","background","colSpan","GET_INGRESS","DELETE_INGRESS","UPDATE_INGRESS","CREATE_INGRESS","IngressForm","ingres","ingressForm","setIngressForm","optionsUpdateIngress","updateIngress","useUpdateIngress","optionsCreateIngress","registerIngress","useCreateIngress","ingressInput","useStyles","row","cell_long","fontSize","minWidth","cell_default","cell_short","IngressList","optionsIngress","deleteIngress","useDeleteIngress","IngressPage","resultIngress","setIngress","useGetIngress","getIngress","SummaryBoxPage","marginRight","GET_DATE","CheckMoneyPage","now","utc","local","getIngressByDates","useGetIngressByDate","getEgressByDates","useGetEgressByDate","initialState","dateStart","dateEnd","setCheckMoney","setResultIngress","setResultEgress","start","end","GET_BRANDS_BY_CATEGORY","useGetBrandsByCategory","GET_MODELS_BY_BRAND","useGetModelsByBrand","GET_PRODUCTS_BY_CMM","GET_PRODUCTS_BY_NAME","GET_SERVICES_BY_CATEGORY","GET_SERVICE_BY_NAME","model","product","service","intialValue","CheckProducts","checkProduct","setCheckProduct","models","setModels","products","setProducts","services","setServices","isActiveRadio","setActiveRadio","optionsGetBrandsByCategory","optionsGetServiceByCategory","useGetServicesByCategory","optionsGetModelsByBrand","optionsGetProductsCMM","useGetProductsCMM","optionGetProduct","getProductByName","useGetProductByName","optionGetService","getServiceByName","useGetServiceByName","changeBrandByCategory","getBrandsByCategory","changeServiceByCategory","getServicesByCategory","changeModelByBrand","getModelsByBrand","changeProductCMM","getProductsByCategoryBrandModel","getProduct","getService","RadioGroup","FormControlLabel","control","Radio","flexDirection","height","description","price","GET_CUSTOMERS","useGetCustomers","UPDATE_CUSTOMER","CREATE_CUSTOMER","getPerson","document","axios","get","getCompany","backdrop","zIndex","drawer","BackDrop","Backdrop","CircularProgress","CustomerForm","customer","numDocument","cellphone_1","cellphone_2","username","password","customerForm","setCustomerForm","isActive","setActive","updateCustomer","useUpdateCustomer","registerCustomer","useCreateCustomer","customerInput","findRucbyType","str","substr","valiadateRUC","result","handleKeyUp","dataPerson","person","Nombre","Paterno","Materno","dataCompany","company","RazonSocial","Direccion","onKeyUp","DELETE_CUSTOMER","CustomerList","optionsCustomer","deleteCustomer","useDeleteCustomer","useStyles1","flexShrink","marginLeft","TablePaginationActions","count","rowsPerPage","onPageChange","Math","ceil","max","CustomerPage","customers","setCustomers","setRowsPerPage","pagex","setPage","min","allCustomers","getCustomer","Date","sort","getTime","stickyHeader","slice","TablePagination","rowsPerPageOptions","borderBottom","SelectProps","native","labelRowsPerPage","labelDisplayedRows","to","newPage","onRowsPerPageChange","parseInt","ActionsComponent","GET_DEVICES","useGetDevices","UPDATE_DEVICE","CREATE_DEVICE","DeviceForm","device","deviceForm","setDeviceForm","updateDevice","useUpdateDevice","registerDevice","useCreateDevice","deviceInput","DELETE_DEVICE","DeviceList","deleteDevice","useDeleteDevice","DevicePage","devices","setDevices","getDevices","GET_MODELS","UPDATE_MODEL","CREATE_MODEL","ModelForm","modelForm","setModelForm","optionsUpdateModel","updateModel","useUpdateModel","optionsCreateModel","registerModel","useCreateModel","modelInput","ModelList","ModelPage","useGetModels","getModels","ItemModuleMenu","menu","Chip","onDelete","ItemModuleAccess","UDATE_MODULE","useUpdateModule","GET_MODULES","updateModule","CREATE_MODULE","GET_ACCESS","useGetAllAccess","GET_MENUS","useGetMenus","formControl","maxWidth","chips","flexWrap","chip","noLabel","MenuProps","PaperProps","maxHeight","ITEM_HEIGHT","ModuleForm","optionsUpdateModule","optionsCreateModule","registerModule","useCreateModule","optionsGetAccess","optionsGetMenus","menuSelected","setMenuSelected","accessSelected","setAccessSelected","listMenus","setListMenus","listAccess","setListAccess","moduleForm","setModuleForm","sentToAddMenus","sentToAddAccess","getStyles","personName","fontWeight","typography","fontWeightRegular","fontWeightMedium","moduleInput","menus","listMenusNoModulos","getMenus","getAccess","multiple","input","Input","renderValue","selected","AccesoForm","optionsGetAllAccess","loadAccessAvailable","res","MenuForm","loadMenusAvailable","listMenusAvailableNoModulos","listMenusCurrentNoModulos","initialValueButton","ItemModule","table","ModulePage","setModules","GET_PRODUCTS","UPDATE_PRODUCT","CREATE_PRODUCT","ProductForm","cant","productForm","setProductForm","optionsUpdateProduct","updateProduct","useUpdateProduct","optionsCreateProduct","registerProduct","useCreateProduct","productInput","defaultValue","DELETE_PRODUCT","ProductList","optionsProduct","deleteProduct","useDeleteProduct","ProductPage","useGetProducts","getProducts","GET_ROLES","useGetRoles","RoleModuleItem","CREATE_ROL","RoleForm","optionsCreateRole","registerRole","useCreateRole","roleForm","setRoleForm","modulesSelected","setModulesSelected","listModules","setListModules","sentToAddModules","listModulesNoModulos","RoleList","RolePage","roles","setRoles","getRoles","GET_SERVICES","UPDATE_SERVICE","CREATE_SERVICE","ServiceForm","serviceForm","setServiceForm","optionsUpdateService","updateService","useUpdateService","optionsCreateService","registerService","useCreateService","serviceInput","DELETE_SERVICE","ServiceList","optionsService","deleteService","useDeleteService","ServicePage","useGetServices","getServices","GET_USERS","UPDATE_USER","CREATE_USER","UserForm","confirmPassword","userForm","setUserForm","listRoles","setListRoles","optionsUpdateUser","updateUser","useUpdateUser","optionsCreateUser","registerUser","useCreateUser","userInput","UPDATE_ACTIVATE_USER","UPDATE_DESACTIVATE_USER","UPDATE_PASSWORD_TO_ADMIN","PasswordForm","newPassword","confirmNewPassword","changePasswordToAdmin","useChangePasswordToAdmin","UserList","optionsActivate","activateUser","useActivateUser","optionsDesactivate","desactivateUser","useDesactivateUser","UserPage","users","setUsers","useGetUsers","getUsers","GET_VEHICLES","DELETE_VEHICLE","VehicleForm","vehicle","initialStateCreate","plate","nroGPS","platform","sim","billigStart","vehicleForm","setVehicleForm","updateVehicle","useUpdateVehicle","registerVehicle","useCreateVehicle","setCustomer","setDevice","setBilling","optionCustomer","optionDevice","optionBilling","handleChange","vehicleInput","loadingText","noOptionsText","select","CREATE_RENEW","BILLING_BY_NAME","RenewForm","renew","setRenew","setState","optionsBillings","getBillingByName","useBillingByName","registerRenew","useCreateRenew","today","startOfDay","newDate","add","days","getBilling","renewInput","Divider","float","billigEnd","userSelect","VehicleList","optionsVehicle","deleteVehicle","useDeleteVehicle","createdBy","updatedBy","VehiclesPage","vehicles","setVehicles","useGetVehicles","allVehicles","getVehicles","useLocation","formatedLink","pathname","replace","PrivateRoute","toLogin","rest","render","createElement","exact","PAGES","SwitchContainer","Wrapper","firsCaracter","charAt","toUpperCase","restCaracter","subTitle","toLowerCase","Footer","rel","LINK_USER","setLink","history","useHistory","goToPage","ListItemModules","isArrowActive","setArrowActive","isTextModuleActive","setTextModuleActive","findMenus","React","setMenu","ExpandMore","ChevronRight","Aside","findModules","src","logo","alt","Home","POST_LOGIN","initialUser","initialError","setError","setUser","loginForm","useLogin","handleInputChange","handleSubmit","login","helperText","App","reducers","combineReducers","action","ALERT","persistConfig","storage","whitelist","persistedReducer","persistReducer","store","createStore","composeWithDevTools","applyMiddleware","thunk","persistor","persistStore","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9596f8ee.chunk.js","sourcesContent":["import React from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardHeader from \"@material-ui/core/CardHeader\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Progress from \"../components/progress/progress\";\r\n\r\nfunction not(a: any[], b: any[]) {\r\n  return a.filter((value) => b.indexOf(value) === -1);\r\n}\r\n\r\nfunction intersection(a: any[], b: any[]) {\r\n  return a.filter((value) => b.indexOf(value) !== -1);\r\n}\r\n\r\nfunction union(a: any[], b: any[]) {\r\n  return [...a, ...not(b, a)];\r\n}\r\n\r\nconst TrasnferList = ({\r\n  setListAvailable,\r\n  setListCurrent,\r\n  listAvailable,\r\n  setChecked,\r\n  checked,\r\n  titleAvailable,\r\n  listCurrent,\r\n  titleCurrent,\r\n  loading,\r\n}: any) => {\r\n  const leftChecked = intersection(checked, listAvailable);\r\n  const rightChecked = intersection(checked, listCurrent);\r\n\r\n  const handleToggle = (value: any) => () => {\r\n    const currentIndex = checked.indexOf(value);\r\n    const newChecked = [...checked];\r\n\r\n    if (currentIndex === -1) {\r\n      newChecked.push(value);\r\n    } else {\r\n      newChecked.splice(currentIndex, 1);\r\n    }\r\n\r\n    setChecked(newChecked);\r\n  };\r\n\r\n  const numberOfChecked = (items: any[]) => intersection(checked, items).length;\r\n\r\n  const handleToggleAll = (items: any[]) => () => {\r\n    if (numberOfChecked(items) === items.length) {\r\n      setChecked(not(checked, items));\r\n    } else {\r\n      setChecked(union(checked, items));\r\n    }\r\n  };\r\n\r\n  const handleCheckedRight = () => {\r\n    setListCurrent(listCurrent.concat(leftChecked));\r\n    setListAvailable(not(listAvailable, leftChecked));\r\n    setChecked(not(checked, leftChecked));\r\n  };\r\n\r\n  const handleCheckedLeft = () => {\r\n    setListAvailable(listAvailable.concat(rightChecked));\r\n    setListCurrent(not(listCurrent, rightChecked));\r\n    setChecked(not(checked, rightChecked));\r\n  };\r\n\r\n  const customList = (title: React.ReactNode, items: any[]) => (\r\n    <Card>\r\n      <CardHeader\r\n        //className={classes.cardHeader}\r\n        avatar={\r\n          <Checkbox\r\n            onClick={handleToggleAll(items)}\r\n            checked={\r\n              numberOfChecked(items) === items.length && items.length !== 0\r\n            }\r\n            indeterminate={\r\n              numberOfChecked(items) !== items.length &&\r\n              numberOfChecked(items) !== 0\r\n            }\r\n            disabled={items.length === 0}\r\n            inputProps={{ \"aria-label\": \"all items selected\" }}\r\n          />\r\n        }\r\n        title={title}\r\n        subheader={`${numberOfChecked(items)}/${items.length} selected`}\r\n      />\r\n      <Divider />\r\n      <List\r\n        //className={classes.list}\r\n        dense\r\n        component=\"div\"\r\n        role=\"list\"\r\n      >\r\n        {loading ? (\r\n          <Progress />\r\n        ) : (\r\n          items.map((value: any) => {\r\n            const labelId = `transfer-list-all-item-${value.name}-label`;\r\n\r\n            return (\r\n              <ListItem\r\n                key={value.id}\r\n                role=\"listitem\"\r\n                button\r\n                onClick={handleToggle(value)}\r\n              >\r\n                <ListItemIcon>\r\n                  <Checkbox\r\n                    checked={checked.indexOf(value) !== -1}\r\n                    tabIndex={-1}\r\n                    disableRipple\r\n                    inputProps={{ \"aria-labelledby\": labelId }}\r\n                  />\r\n                </ListItemIcon>\r\n                <ListItemText id={labelId} primary={`${value.name}`} />\r\n              </ListItem>\r\n            );\r\n          })\r\n        )}\r\n        <ListItem />\r\n      </List>\r\n    </Card>\r\n  );\r\n\r\n  return (\r\n    <Grid container spacing={2} justify=\"center\" alignItems=\"center\">\r\n      <Grid item>{customList(titleAvailable, listAvailable)}</Grid>\r\n      <Grid item>\r\n        <Grid container direction=\"column\" alignItems=\"center\">\r\n          <Button\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            onClick={handleCheckedRight}\r\n            disabled={leftChecked.length === 0}\r\n            aria-label=\"move selected right\"\r\n          >\r\n            &gt;\r\n          </Button>\r\n          <Button\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            onClick={handleCheckedLeft}\r\n            disabled={rightChecked.length === 0}\r\n            aria-label=\"move selected left\"\r\n          >\r\n            &lt;\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n      <Grid item>{customList(titleCurrent, listCurrent)}</Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default TrasnferList;\r\n","export const PERMIT_ONE = \"Crear\";\r\nexport const PERMIT_TWO = \"Editar\";\r\nexport const PERMIT_TREE = \"Eliminar\";\r\nexport const PERMIT_FOUR = \"Ver\";\r\nexport const ROLSA = \"SuperAdmin\";\r\nexport const MODULE_FORBIDDEN = \"Administración de modulos\";\r\nexport const MENU_FORBIDDEN = \"Modulos\";\r\nexport const API_RENIEC = process.env.REACT_APP_API_RENIEC;\r\nexport const API_SUNAT = process.env.REACT_APP_API_SUNAT;\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Role } from \"../../interfaces/role.interface\";\r\n\r\ninterface RoleUpdateInput {\r\n  variables: {\r\n    roleInput: Role;\r\n  };\r\n}\r\n\r\nconst UDATE_ROL = gql`\r\n  mutation updateRole($roleInput: RoleUpdateInput!) {\r\n    updateRole(roleInput: $roleInput) {\r\n      id\r\n      name\r\n      description\r\n      modules {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useUpdateRole = () => {\r\n  const [updateRole, { error, loading }] = useMutation(UDATE_ROL, {\r\n    update(cache, { data: { updateRole } }) {\r\n      cache.modify({\r\n        fields: {\r\n          updateRole(existingRoles = []) {\r\n            const newRolesRef = cache.writeFragment({\r\n              data: updateRole,\r\n              fragment: gql`\r\n                fragment NewRole on Role {\r\n                  id\r\n                  name\r\n                  description\r\n                  modules {\r\n                    id\r\n                    name\r\n                  }\r\n                }\r\n              `,\r\n            });\r\n            return [...existingRoles, newRolesRef];\r\n          },\r\n        },\r\n      });\r\n    },\r\n  });\r\n\r\n  return { updateRole, error, loading };\r\n};\r\n","export const findError = (error: any) => {\r\n  for (let index = 0; index < error.graphQLErrors.length; index++) {\r\n    const element =\r\n      error.graphQLErrors[index].extensions.exception.response.message;\r\n    for (let index1 = 0; index1 < element.length; index1++) {\r\n      const element1 = element[index1];\r\n      return element1;\r\n    }\r\n  }\r\n};\r\n","import React, { useState, useEffect, FormEvent, useCallback } from \"react\";\r\nimport { Role } from \"../../interfaces/role.interface\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Module } from \"../../interfaces/module.interface\";\r\nimport { useGetModules } from \"../../hooks/module/useGetModules\";\r\nimport { useUpdateRole } from \"../../hooks/role/useUpdateRole\";\r\nimport TrasnferList from \"../../lib/transfer-list-component\";\r\nimport { MODULE_FORBIDDEN, ROLSA } from \"../../const\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\n\r\ntype FormChange = FormEvent<HTMLFormElement>;\r\n\r\nconst ModuleTransferList = ({\r\n  role,\r\n  handleClose,\r\n}: {\r\n  role: Role;\r\n  handleClose: () => void;\r\n}) => {\r\n  const [listAvailable, setListAvailable] = useState<Module[]>([]);\r\n  const [listCurrent, setListCurrent] = useState<Module[]>([]);\r\n  const [checked, setChecked] = useState<Module[]>([]);\r\n  const dispatch = useDispatch();\r\n  const optionsGetModules = useGetModules();\r\n  const optionsUpdateRole = useUpdateRole();\r\n  const alert = useSelector((state: any) => state.message);\r\n  const { type, text } = alert;\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n\r\n    const newData = listCurrent.map((module) => {\r\n      return {\r\n        name: module.name,\r\n      };\r\n    });\r\n\r\n    try {\r\n      await optionsUpdateRole.updateRole({\r\n        variables: {\r\n          roleInput: {\r\n            id: role.id,\r\n            modules: newData,\r\n          },\r\n        },\r\n      });\r\n      return dispatch(\r\n        setAlert({\r\n          type: \"success\",\r\n          text: \"El rol actualizó sus modulos correctamente.\",\r\n        })\r\n      );\r\n    } catch (e) {\r\n      dispatch(\r\n        setAlert({\r\n          type: \"error\",\r\n          text: findError(e),\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  const loadModuleAvailable = useCallback(() => {\r\n    let res: Module[];\r\n\r\n    res = optionsGetModules.data.getModules.filter(\r\n      (dispo: Module) =>\r\n        !role.modules?.some((actual) => dispo.name === actual.name)\r\n    );\r\n\r\n    const listModulesAvailableNoModulo = res.filter(\r\n      (module) => module.name !== MODULE_FORBIDDEN\r\n    );\r\n\r\n    // if (auth?.role?.name === ROLSA) {\r\n    //   setListAvailable(res);\r\n    // } else {\r\n    //   const resNotSA = res.filter((module) => module.name !== MODULE_FORBIDDEN);\r\n    //   setListAvailable(resNotSA);\r\n    // }\r\n\r\n    setListAvailable(listModulesAvailableNoModulo);\r\n  }, [role, optionsGetModules.data]);\r\n\r\n  useEffect(() => {\r\n    if (role && optionsGetModules.data) {\r\n      const listModulesCurrentNoModulo = role.modules?.filter(\r\n        (module) => module.name !== MODULE_FORBIDDEN\r\n      );\r\n      setListCurrent(listModulesCurrentNoModulo || []);\r\n      loadModuleAvailable();\r\n    }\r\n  }, [role, optionsGetModules.data, loadModuleAvailable]);\r\n\r\n  if (type === \"error\") {\r\n    return <h1>{text}</h1>;\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12}>\r\n          <TrasnferList\r\n            setListAvailable={setListAvailable}\r\n            setListCurrent={setListCurrent}\r\n            setChecked={setChecked}\r\n            checked={checked}\r\n            listAvailable={listAvailable}\r\n            titleAvailable=\"Modulos disponibles\"\r\n            listCurrent={listCurrent}\r\n            titleCurrent=\"Modulos actuales\"\r\n            loading={optionsGetModules.loading}\r\n          />\r\n        </Grid>\r\n        <DialogActions style={{ width: \"100%\" }}>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Cancelar\r\n          </Button>\r\n\r\n          <Button\r\n            type=\"submit\"\r\n            color=\"primary\"\r\n            autoFocus\r\n            variant=\"contained\"\r\n            disabled={optionsUpdateRole.loading ? true : false}\r\n          >\r\n            {module.id ? \"Actualizar\" : \"Registrar\"}\r\n          </Button>\r\n        </DialogActions>\r\n      </Grid>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ModuleTransferList;\r\n","import React from \"react\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nconst Progress = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <CircularProgress disableShrink />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Progress;\r\n","export const getLocal = (val: string) => {\r\n  return localStorage.getItem(val);\r\n};\r\n\r\nexport const setLocal = (key: string, val: string) => {\r\n  return localStorage.setItem(key, val);\r\n};\r\n\r\nexport const deleteLocal = (val: string) => {\r\n  return localStorage.removeItem(val);\r\n};\r\n\r\nexport const clearAllLocal = () => {\r\n  return localStorage.clear();\r\n};\r\n\r\nexport const loadState = () => {\r\n  try {\r\n    const serializedState = localStorage.get(\"state\");\r\n    if (serializedState === null) {\r\n      return undefined;\r\n    }\r\n    return JSON.parse(serializedState);\r\n  } catch (e) {\r\n    return undefined;\r\n  }\r\n};\r\n\r\nexport const saveState = (state: any) => {\r\n  try {\r\n    const serializedState = JSON.stringify(state);\r\n    localStorage.setItem(\"state\", serializedState);\r\n  } catch (e) {\r\n    console.log(`En localstorage ${e}`);\r\n  }\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Token } from \"../../interfaces/auth.interface\";\r\n\r\ninterface AuthRefreshTokenInput {\r\n  variables: {\r\n    authInput: Token;\r\n  };\r\n}\r\n\r\nexport const POST_REFRESH = gql`\r\n  mutation refreshToken($authInput: AuthRefreshTokenInput!) {\r\n    refreshToken(authInput: $authInput) {\r\n      access_token\r\n    }\r\n  }\r\n`;\r\n","// import * as dotenv from \"dotenv\";\r\n// dotenv.config({ path: __dirname + \"/.env\" });\r\nexport const URLC =\r\n  process.env.REACT_APP_URL || \"http://localhost:3000/graphql\";\r\n","/* eslint-disable no-loop-func */\r\nimport {\r\n  ApolloClient,\r\n  createHttpLink,\r\n  InMemoryCache,\r\n  from,\r\n  fromPromise,\r\n} from \"@apollo/client\";\r\nimport { setContext } from \"@apollo/client/link/context\";\r\nimport { getLocal, setLocal } from \"./lib/local-storage\";\r\nimport { onError } from \"@apollo/client/link/error\";\r\nimport { POST_REFRESH } from \"./hooks/login/useRefreshToken\";\r\nimport { URLC } from \"./config/config\";\r\n\r\nlet isRefreshing = false;\r\nlet pendingRequests: any = [];\r\n\r\nconst resolvePendingRequests = () => {\r\n  pendingRequests.map((callback: any) => callback());\r\n  pendingRequests = [];\r\n};\r\n\r\nconst errorLink = onError(\r\n  ({ graphQLErrors, networkError, operation, forward }) => {\r\n    if (graphQLErrors) {\r\n      for (let err of graphQLErrors) {\r\n        switch (err.extensions!.exception.status) {\r\n          case 401:\r\n            let forward$;\r\n            if (!isRefreshing) {\r\n              isRefreshing = true;\r\n              forward$ = fromPromise(\r\n                client\r\n                  .mutate({\r\n                    mutation: POST_REFRESH,\r\n                    variables: {\r\n                      authInput: {\r\n                        email: getLocal(\"username\"),\r\n                        refresh_token: getLocal(\"refreshToken\"),\r\n                      },\r\n                    },\r\n                  })\r\n                  .then(\r\n                    ({\r\n                      data: {\r\n                        refreshToken: { access_token },\r\n                      },\r\n                    }) => {\r\n                      setLocal(\"accessToken\", access_token);\r\n                      return true;\r\n                    }\r\n                  )\r\n                  .then(() => {\r\n                    resolvePendingRequests();\r\n                    return true;\r\n                  })\r\n                  .catch(() => {\r\n                    pendingRequests = [];\r\n                    return false;\r\n                  })\r\n                  .finally(() => {\r\n                    isRefreshing = false;\r\n                  })\r\n              );\r\n            } else {\r\n              forward$ = fromPromise(\r\n                new Promise((resolve: any) => {\r\n                  pendingRequests.push(() => resolve());\r\n                })\r\n              );\r\n            }\r\n\r\n            return forward$.flatMap(() => forward(operation));\r\n          default:\r\n            console.log(\r\n              `[ERROR]: Message: ${err.message}, Location: ${err.locations}, Path: ${err.path}`\r\n            );\r\n        }\r\n      }\r\n    }\r\n\r\n    if (networkError) console.log(`[Network error]: ${networkError}`);\r\n  }\r\n);\r\n\r\nconsole.log(URLC);\r\nconst httpLink = createHttpLink({\r\n  uri: URLC,\r\n});\r\n\r\nconst authLink = setContext((_, { headers }) => {\r\n  // get the authentication token from local storage if it exists\r\n  const token = getLocal(\"accessToken\");\r\n  // return the headers to the context so httpLink can read them\r\n  return {\r\n    headers: {\r\n      ...headers,\r\n      authorization: token ? `Bearer ${token}` : \"\",\r\n    },\r\n  };\r\n});\r\n\r\nconst client = new ApolloClient({\r\n  link: from([errorLink, authLink, httpLink]),\r\n  cache: new InMemoryCache(),\r\n});\r\n\r\nexport default client;\r\n","/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport { clearAllLocal } from \"../../lib/local-storage\";\r\nimport client from \"../../apollo-client\";\r\n\r\nexport const LOGIN_USER = \"@auth/LOGIN_USER\";\r\nexport const LOGOUT_USER = \"@auth/LOGOUT_USER\";\r\nexport const LOADING_USER = \"@auth/LOADING_USER\";\r\nexport const ERROR_USER = \"@auth/ERROR_USER\";\r\n\r\nconst initialValue = {\r\n  name: \"Anonimo\",\r\n  lastName: \"\",\r\n};\r\n\r\nexport const setLoading = (loading: boolean) => {\r\n  return {\r\n    type: LOADING_USER,\r\n    payload: loading,\r\n  };\r\n};\r\n\r\nexport const logout = () => async (dispatch: any) => {\r\n  clearAllLocal();\r\n  client.resetStore();\r\n  window.location.href = \"/\";\r\n  await dispatch({\r\n    type: LOGOUT_USER,\r\n    payload: initialValue,\r\n  });\r\n};\r\n\r\nexport const whoisme = (payload: any) => async (dispatch: any) => {\r\n  try {\r\n    await dispatch(setLoading(true));\r\n    await dispatch({\r\n      type: LOGIN_USER,\r\n      payload: payload.me,\r\n    });\r\n    await dispatch(setLoading(false));\r\n  } catch (e) {\r\n    await dispatch({\r\n      type: ERROR_USER,\r\n      payload: e.message,\r\n    });\r\n  }\r\n};\r\n","import { gql, useLazyQuery } from \"@apollo/client\";\r\nimport { logout } from \"../../store/auth/action\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst ME = gql`\r\n  query me {\r\n    me {\r\n      id\r\n      name\r\n      lastName\r\n      email\r\n      status\r\n      role {\r\n        name\r\n        modules {\r\n          id\r\n          name\r\n          access {\r\n            name\r\n          }\r\n          menus {\r\n            id\r\n            name\r\n            link\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useMe = () => {\r\n  const [me, { data, loading, error }] = useLazyQuery(ME, {\r\n    pollInterval: 500,\r\n  });\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  if (error && error?.graphQLErrors[0].extensions?.exception.status === 401) {\r\n    alert(error.graphQLErrors[0].extensions.exception.response.message);\r\n    dispatch(logout());\r\n  }\r\n\r\n  return { me, data, loading };\r\n};\r\n","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport { useEffect } from \"react\";\r\nimport { useMe } from \"../../hooks/user/useMe\";\r\nimport { connect } from \"react-redux\";\r\nimport { whoisme, setLoading, logout } from \"../../store/auth/action\";\r\nimport { setLocal } from \"../../lib/local-storage\";\r\nimport \"./header.css\";\r\n\r\nconst mapStateToProps = (state: any) => {\r\n  return {\r\n    loading: state.authReducer.loading,\r\n    authUser: state.authReducer.authUser,\r\n  };\r\n};\r\n\r\nconst Header = ({ authUser, loading, whoisme, logout }: any) => {\r\n  const { me, data } = useMe();\r\n\r\n  useEffect(() => {\r\n    me();\r\n    whoisme(data);\r\n    setLocal(\"username\", data?.me?.email);\r\n  }, [me, whoisme, data]);\r\n\r\n  if (data?.me?.status === 2) {\r\n    logout();\r\n  }\r\n\r\n  return (\r\n    <header>\r\n      <a>\r\n        {loading ? (\r\n          `Cargando usuario...`\r\n        ) : (\r\n          <>\r\n            <strong>Bienvenido, </strong>\r\n            {authUser?.name} {authUser?.lastName}\r\n          </>\r\n        )}\r\n      </a>\r\n      &nbsp;&nbsp;\r\n      <button className=\"buttonLogout\" onClick={() => logout()}>\r\n        Cerrar sesion\r\n      </button>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  setLoading,\r\n  whoisme,\r\n  logout,\r\n})(Header);\r\n","import React from \"react\";\r\n\r\nconst NoMatch = () => {\r\n  return <>4040404040404040</>;\r\n};\r\n\r\nexport default NoMatch;\r\n","import React from \"react\";\r\nimport {\r\n  PERMIT_ONE,\r\n  PERMIT_TWO,\r\n  PERMIT_TREE,\r\n  PERMIT_FOUR,\r\n  ROLSA,\r\n} from \"../../const\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\n\r\nexport const loadAccess = (\r\n  value: string,\r\n  auth: User,\r\n  page: any,\r\n  Component: any,\r\n  Notify?: any\r\n) => {\r\n  switch (value) {\r\n    case PERMIT_ONE:\r\n      //find access by modules\r\n      const filterAccessbyModuleCreate = auth?.role?.modules?.map((module) =>\r\n        module.access?.filter(\r\n          (myaccess) => module.name === page && myaccess.name === value\r\n        )\r\n      );\r\n      //find access type create\r\n      return filterAccessbyModuleCreate?.map((access, i) => {\r\n        return access ? access?.length > 0 && <Component key={i} /> : \"\";\r\n      });\r\n\r\n    case PERMIT_TWO:\r\n      //find access by modules\r\n      const filterAccessbyModuleEdit = auth?.role?.modules?.map((module) =>\r\n        module.access?.filter(\r\n          (myaccess) => module.name === page && myaccess.name === value\r\n        )\r\n      );\r\n      //find access type create\r\n      return filterAccessbyModuleEdit?.map((access, i) => {\r\n        return access ? access?.length > 0 && <Component key={i} /> : \"\";\r\n      });\r\n\r\n    case PERMIT_TREE:\r\n      //find access by modules\r\n      const filterAccessbyModuleDelete = auth?.role?.modules?.map((module) =>\r\n        module.access?.filter(\r\n          (myaccess) => module.name === page && myaccess.name === value\r\n        )\r\n      );\r\n      //find access type create\r\n      return filterAccessbyModuleDelete?.map((access, i) => {\r\n        return access ? access?.length > 0 && <Component key={i} /> : \"\";\r\n      });\r\n\r\n    case PERMIT_FOUR:\r\n      //find access by modules\r\n      const filterAccessbyModuleView = auth?.role?.modules?.map((module) =>\r\n        module.access?.filter(\r\n          (myaccess) => module.name === page && myaccess.name === value\r\n        )\r\n      );\r\n      //find access type create\r\n      return filterAccessbyModuleView?.map((access, i) => {\r\n        return access ? access?.length > 0 && <Component key={i} /> : \"\";\r\n      });\r\n\r\n    default:\r\n      break;\r\n  }\r\n};\r\n","import { gql, useQuery } from \"@apollo/client\";\r\n\r\nexport const GET_BILLINGS = gql`\r\n  query getBillings {\r\n    getBillings {\r\n      id\r\n      name\r\n      day\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetBilling = () => {\r\n  const { data, error, loading } = useQuery(GET_BILLINGS);\r\n\r\n  return { data, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Billing } from \"../../interfaces/billing.interface\";\r\nimport { GET_BILLINGS } from \"./useGetBilling\";\r\n\r\ninterface CreateBillingInput {\r\n  variables: {\r\n    billingInput: Billing;\r\n  };\r\n}\r\n\r\nconst CREATE_BILLING = gql`\r\n  mutation registerBilling($billingInput: CreateBillingInput!) {\r\n    registerBilling(billingInput: $billingInput) {\r\n      id\r\n      name\r\n      day\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useCreateBilling = () => {\r\n  const [registerBilling, { error, loading }] = useMutation(CREATE_BILLING, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_BILLINGS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { registerBilling, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Billing } from \"../../interfaces/billing.interface\";\r\nimport { GET_BILLINGS } from \"./useGetBilling\";\r\n\r\ninterface UpdateBillingInput {\r\n  variables: {\r\n    billingInput: Billing;\r\n  };\r\n}\r\n\r\nconst UPDATE_BILLING = gql`\r\n  mutation updateBilling($billingInput: UpdateBillingInput!) {\r\n    updateBilling(billingInput: $billingInput) {\r\n      id\r\n      name\r\n      day\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useUpdateBilling = () => {\r\n  const [updateBilling, { error, loading }] = useMutation(UPDATE_BILLING, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_BILLINGS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { updateBilling, error, loading };\r\n};\r\n","import { createStyles, Theme, makeStyles } from \"@material-ui/core/styles\";\r\nimport { OutlinedInputProps } from \"@material-ui/core/OutlinedInput\";\r\nimport TextField, { TextFieldProps } from \"@material-ui/core/TextField\";\r\n\r\nconst useStylesReddit = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      border: \"1px solid #e2e2e1\",\r\n      overflow: \"hidden\",\r\n      borderRadius: 4,\r\n      backgroundColor: \"#fcfcfb\",\r\n      transition: theme.transitions.create([\"border-color\", \"box-shadow\"]),\r\n      \"&:hover\": {\r\n        backgroundColor: \"#fff\",\r\n      },\r\n      \"&$focused\": {\r\n        backgroundColor: \"#fff\",\r\n        //boxShadow: `${apha(theme.palette.primary.main, 0.25)} 0 0 0 2px`,\r\n        borderColor: theme.palette.primary.main,\r\n      },\r\n    },\r\n    focused: {},\r\n  })\r\n);\r\n\r\nconst RedditTextField = (props: TextFieldProps) => {\r\n  const classes = useStylesReddit();\r\n\r\n  return (\r\n    <TextField\r\n      InputProps={\r\n        { classes, disableUnderline: true } as Partial<OutlinedInputProps>\r\n      }\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport default RedditTextField;\r\n","import { Billing } from \"../../interfaces/billing.interface\";\r\nimport { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useCreateBilling } from \"../../hooks/billing/useCreateBilling\";\r\nimport { FormChange, InputChange } from \"../../lib/types\";\r\nimport { useUpdateBilling } from \"../../hooks/billing/useUpdateBilling\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport RedditTextField from \"../textfield/reddit\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Progress from \"../progress/progress\";\r\n\r\ninterface Option {\r\n  handleClose?: () => void;\r\n  billing?: Billing;\r\n}\r\n\r\nconst BillingForm = ({ handleClose, billing }: Option) => {\r\n  const initialStateCreate: Billing = {\r\n    name: \"\",\r\n    day: 0,\r\n  };\r\n\r\n  const initialStateUpdate: Billing = {\r\n    id: billing?.id || \"\",\r\n    name: billing?.name || \"\",\r\n    day: billing?.day || 0,\r\n  };\r\n\r\n  const [billingForm, setBillingForm] = useState<Billing>(\r\n    initialStateUpdate.id ? initialStateUpdate : initialStateCreate\r\n  );\r\n  const dispatch = useDispatch();\r\n  const optionsUpdate = useUpdateBilling();\r\n  const optionsCreate = useCreateBilling();\r\n\r\n  const handleInput = (e: InputChange) => {\r\n    setBillingForm({\r\n      ...billingForm,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n\r\n    if (billingForm.id) {\r\n      try {\r\n        await optionsUpdate.updateBilling({\r\n          variables: {\r\n            billingInput: {\r\n              ...billingForm,\r\n              day: Number(billingForm.day),\r\n            },\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El plan se actualizó correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      try {\r\n        await optionsCreate.registerBilling({\r\n          variables: {\r\n            billingInput: {\r\n              ...billingForm,\r\n              day: Number(billingForm.day),\r\n            },\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"La plan ha sido registrado correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={onSubmit}>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12}>\r\n            <RedditTextField\r\n              fullWidth\r\n              type=\"text\"\r\n              onChange={handleInput}\r\n              name=\"name\"\r\n              autoComplete=\"off\"\r\n              id=\"idName\"\r\n              label=\"Nombre\"\r\n              variant=\"filled\"\r\n              value={billingForm.name}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <RedditTextField\r\n              fullWidth\r\n              type=\"number\"\r\n              onChange={handleInput}\r\n              name=\"day\"\r\n              autoComplete=\"off\"\r\n              id=\"idDay\"\r\n              label=\"Dias\"\r\n              variant=\"filled\"\r\n              value={billingForm.day}\r\n            />\r\n          </Grid>\r\n          <DialogActions style={{ width: \"100%\" }}>\r\n            <Button onClick={handleClose} color=\"primary\">\r\n              Cancelar\r\n            </Button>\r\n            {billingForm.id ? (\r\n              optionsUpdate.loading ? (\r\n                <Progress />\r\n              ) : (\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  autoFocus\r\n                  variant=\"contained\"\r\n                >\r\n                  Actualizar\r\n                </Button>\r\n              )\r\n            ) : optionsCreate.loading ? (\r\n              <Progress />\r\n            ) : (\r\n              <Button\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                autoFocus\r\n                variant=\"contained\"\r\n              >\r\n                Registrar\r\n              </Button>\r\n            )}\r\n          </DialogActions>\r\n        </Grid>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BillingForm;\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { GET_BILLINGS } from \"./useGetBilling\";\r\n\r\nconst DELETE_BILLING = gql`\r\n  mutation deleteBilling($id: String!) {\r\n    deleteBilling(id: $id)\r\n  }\r\n`;\r\n\r\nexport const useDeleteBilling = () => {\r\n  const [deleteBilling, { error, loading }] = useMutation(DELETE_BILLING, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_BILLINGS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { deleteBilling, error, loading };\r\n};\r\n","import React from \"react\";\r\n//dialog\r\nimport {\r\n  withStyles,\r\n  WithStyles,\r\n  Theme,\r\n  createStyles,\r\n} from \"@material-ui/core/styles\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\n//fullscreen\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport { useSelector } from \"react-redux\";\r\n//icons\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\n\r\ninterface DialogOption {\r\n  open: boolean;\r\n  dialog?: any;\r\n  title: string;\r\n  component?: JSX.Element;\r\n  handleClose: () => void;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      margin: 0,\r\n      padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n      position: \"absolute\",\r\n      right: theme.spacing(1),\r\n      top: theme.spacing(1),\r\n      color: theme.palette.grey[500],\r\n    },\r\n  });\r\n\r\nexport interface DialogTitleProps extends WithStyles<typeof styles> {\r\n  id: string;\r\n  children: React.ReactNode;\r\n  onClose: () => void;\r\n}\r\n\r\nconst DialogTitle = withStyles(styles)((props: DialogTitleProps) => {\r\n  const { children, classes, onClose, ...other } = props;\r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n      <Typography variant=\"h6\">{children}</Typography>\r\n      {onClose ? (\r\n        <IconButton\r\n          aria-label=\"close\"\r\n          className={classes.closeButton}\r\n          onClick={onClose}\r\n        >\r\n          <CloseIcon />\r\n        </IconButton>\r\n      ) : null}\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n\r\nconst DialogForm = ({\r\n  open,\r\n  dialog,\r\n  title,\r\n  component,\r\n  handleClose,\r\n}: DialogOption) => {\r\n  const alert = useSelector((state: any) => state.message);\r\n  const theme = useTheme();\r\n  const fullScreen = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n  /*  https://thoughtbot.com/blog/using-redux-with-react-hooks\r\n    const { count, user } = useSelector(state => ({\r\n      count: state.counter.count,\r\n      user: state.user,\r\n    }));\r\n  */\r\n  return (\r\n    <Dialog\r\n      fullScreen={fullScreen}\r\n      open={open}\r\n      aria-labelledby=\"idModal\"\r\n      disableBackdropClick\r\n      disableEscapeKeyDown\r\n    >\r\n      <DialogTitle id=\"idModal\" onClose={handleClose}>\r\n        {title} {dialog?.name}\r\n      </DialogTitle>\r\n      {alert.type && <Alert severity={alert.type}>{alert.text}</Alert>}\r\n      <DialogContent dividers style={{ overflowY: \"visible\" }}>\r\n        {component}\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default DialogForm;\r\n","import { findError } from \"../../helpers/control-errors\";\r\nimport { useDeleteBilling } from \"../../hooks/billing/useDeleteBilling\";\r\nimport { Billing } from \"../../interfaces/billing.interface\";\r\nimport BillingForm from \"./billing-form\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport DialogForm from \"../dialog/dialog.component\";\r\nimport { useState } from \"react\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport { PERMIT_FOUR, PERMIT_TREE, PERMIT_TWO } from \"../../const\";\r\nimport { loadAccess } from \"../acceso/filter-access.component\";\r\nimport moment from \"moment\";\r\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\r\nimport HighlightOffRoundedIcon from \"@material-ui/icons/HighlightOffRounded\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport { Dialog } from \"../../interfaces/dialog.interface\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst BillingList = ({ billing }: { billing: Billing }) => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n  const optionsBilling = useDeleteBilling();\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Plan\":\r\n        return <BillingForm billing={billing} handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const deleteBilling = async (id: string | undefined) => {\r\n    try {\r\n      await optionsBilling.deleteBilling({\r\n        variables: {\r\n          id,\r\n        },\r\n      });\r\n    } catch (e) {\r\n      setDialog({ name: \"error\", active: true });\r\n      dispatch(\r\n        setAlert({\r\n          type: \"error\",\r\n          text: findError(e),\r\n        })\r\n      );\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={dialog.name}\r\n        handleClose={handleClose}\r\n      />;\r\n    }\r\n  };\r\n\r\n  const showOptionsForDelete = () => (\r\n    <>\r\n      <Tooltip\r\n        title=\"Eliminar Cliente\"\r\n        onClick={() => deleteBilling(billing.id)}\r\n      >\r\n        <IconButton aria-label=\"egress\" size=\"small\">\r\n          <HighlightOffRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showOptionsForEdit = () => (\r\n    <>\r\n      <Tooltip\r\n        title=\"Editar plan de facturación\"\r\n        onClick={() => setDialog({ name: \"Plan\", active: true })}\r\n      >\r\n        <IconButton aria-label=\"billing\" size=\"small\">\r\n          <EditRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showData = () => (\r\n    <>\r\n      <TableRow>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {billing.name}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {billing.day}\r\n        </TableCell>\r\n        <TableCell>{moment(billing.createdAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n        <TableCell>{moment(billing.updatedAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n        <TableCell align=\"right\">\r\n          {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n          {loadAccess(PERMIT_TREE, auth, page, showOptionsForDelete)}\r\n        </TableCell>\r\n      </TableRow>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        dialog={billing}\r\n        title={dialog.name}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      {loadAccess(PERMIT_FOUR, auth, page, showData)}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BillingList;\r\n","import { loadAccess } from \"../components/acceso/filter-access.component\";\r\nimport BillingForm from \"../components/billing/billing-form\";\r\nimport BillingList from \"../components/billing/billing-list\";\r\nimport { findError } from \"../helpers/control-errors\";\r\nimport { Billing } from \"../interfaces/billing.interface\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { User } from \"../interfaces/user.interface\";\r\nimport { PERMIT_ONE } from \"../const\";\r\nimport { setAlert } from \"../store/alert/action\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport DialogForm from \"../components/dialog/dialog.component\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useGetBilling } from \"../hooks/billing/useGetBilling\";\r\nimport { Dialog } from \"../interfaces/dialog.interface\";\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst BillingPage = () => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n  const [billings, setBillings] = useState<Billing[]>([]);\r\n  const { data, loading, error } = useGetBilling();\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Crear\":\r\n        return <BillingForm handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setBillings(data.getBillings);\r\n    }\r\n  }, [data]);\r\n\r\n  if (loading) {\r\n    return <h1>Cargando...</h1>;\r\n  }\r\n\r\n  if (error) {\r\n    return <h1>{findError(error)}</h1>;\r\n  }\r\n\r\n  const showDialogToCreate = () => (\r\n    <>\r\n      <Tooltip title=\"Crear plan de facturación\">\r\n        <IconButton\r\n          aria-label=\"add\"\r\n          size=\"small\"\r\n          onClick={() => setDialog({ name: \"Crear\", active: true })}\r\n        >\r\n          <AddRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={`${dialog.name} Plan de facturación`}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      {loadAccess(PERMIT_ONE, auth, page, showDialogToCreate)}\r\n      <TableContainer\r\n        component={Paper}\r\n        style={{ marginTop: 10, whiteSpace: \"nowrap\" }}\r\n      >\r\n        <Table size=\"small\" aria-label=\"a dense table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Nombre</TableCell>\r\n              <TableCell>Dias</TableCell>\r\n              <TableCell>Fecha creada</TableCell>\r\n              <TableCell>Fecha modificada</TableCell>\r\n              <TableCell align=\"right\">Opciones</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {billings.map((billing) => (\r\n              <BillingList key={billing.id} billing={billing} />\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BillingPage;\r\n","import { gql, useQuery } from \"@apollo/client\";\r\n\r\nexport const GET_CATEGORYS = gql`\r\n  query getCategorys {\r\n    getCategorys {\r\n      id\r\n      name\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetCategorys = () => {\r\n  const { data, error, loading }: any = useQuery(GET_CATEGORYS);\r\n\r\n  return { data, error, loading };\r\n};\r\n","import { gql, useQuery } from \"@apollo/client\";\r\n\r\nexport const GET_BRANDS = gql`\r\n  query getBrands {\r\n    getBrands {\r\n      id\r\n      name\r\n      category {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetBrands = () => {\r\n  const { data, error, loading } = useQuery(GET_BRANDS);\r\n\r\n  return { data, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Brand } from \"../../interfaces/brand.interface\";\r\nimport { GET_BRANDS } from \"./useGetBrands\";\r\n\r\ninterface UpdateBrandInput {\r\n  variables: {\r\n    brandInput: Brand;\r\n  };\r\n}\r\n\r\nconst UPDATE_BRAND = gql`\r\n  mutation updateBrand($brandInput: UpdateBrandInput!) {\r\n    updateBrand(brandInput: $brandInput) {\r\n      id\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useUpdateBrand = () => {\r\n  const [updateBrand, { error, loading }] = useMutation(UPDATE_BRAND, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_BRANDS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { updateBrand, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Brand } from \"../../interfaces/brand.interface\";\r\nimport { GET_BRANDS } from \"./useGetBrands\";\r\n\r\ninterface CreateBrandInput {\r\n  variables: {\r\n    brandInput: Brand;\r\n  };\r\n}\r\n\r\nconst CREATE_BRAND = gql`\r\n  mutation registerBrand($brandInput: CreateBrandInput!) {\r\n    registerBrand(brandInput: $brandInput) {\r\n      id\r\n      name\r\n      category {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n//https://stackoverflow.com/questions/58431224/how-does-apollo-client-graphql-refetchqueries-works\r\nexport const useCreateBrand = () => {\r\n  const [registerBrand, { error, loading }] = useMutation(CREATE_BRAND, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_BRANDS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { registerBrand, error, loading };\r\n};\r\n","import { Brand } from \"../../interfaces/brand.interface\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\nimport { FormChange, InputChange, SelectChange } from \"../../lib/types\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Progress from \"../progress/progress\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport { useGetCategorys } from \"../../hooks/category/useGetCategorys\";\r\nimport { useUpdateBrand } from \"../../hooks/brand/useUpdateBrand\";\r\nimport { useCreateBrand } from \"../../hooks/brand/useCreateBrand\";\r\nimport { Category } from \"../../interfaces/category.interface\";\r\n\r\ninterface Options {\r\n  handleClose: () => void;\r\n  brand?: Brand;\r\n}\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst BrandForm = ({ handleClose, brand }: Options) => {\r\n  const initialValueCreate: Brand = {\r\n    name: \"\",\r\n    category: \"\",\r\n  };\r\n\r\n  const initialValueUpdate: Brand = {\r\n    id: brand?.id || \"\",\r\n    name: brand?.name || \"\",\r\n    category: brand?.category?.name || \"\",\r\n  };\r\n\r\n  const [brandForm, setBrandForm] = useState<Brand>(\r\n    initialValueUpdate.id ? initialValueUpdate : initialValueCreate\r\n  );\r\n\r\n  const [categorys, setCategorys] = useState<Category[]>([]);\r\n  const { data } = useGetCategorys();\r\n  const dispatch = useDispatch();\r\n  const optionsUpdateBrand = useUpdateBrand();\r\n  const optionsCreateBrand = useCreateBrand();\r\n\r\n  const handleInput = (e: InputChange) => {\r\n    setBrandForm({ ...brandForm, [e.target.name]: e.target.value });\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const handleSelect = (e: SelectChange) => {\r\n    setBrandForm({\r\n      ...brandForm,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n\r\n    if (brandForm.id) {\r\n      try {\r\n        await optionsUpdateBrand.updateBrand({\r\n          variables: {\r\n            brandInput: brandForm,\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"La marca se actualizó correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      try {\r\n        await optionsCreateBrand.registerBrand({\r\n          variables: {\r\n            brandInput: brandForm,\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"La marca ha sido registrada correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setCategorys(data.getCategorys);\r\n    }\r\n  }, [data]);\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12}>\r\n          <FormControl variant=\"outlined\" fullWidth>\r\n            <InputLabel id=\"idCategory\">Categoria</InputLabel>\r\n            <Select\r\n              labelId=\"Categoria\"\r\n              id=\"idCategory\"\r\n              value={brandForm.category}\r\n              onChange={handleSelect}\r\n              label=\"Categoria\"\r\n              name=\"category\"\r\n            >\r\n              {categorys.map((category) => (\r\n                <MenuItem key={category.id} value={category.name}>\r\n                  {category.name}\r\n                </MenuItem>\r\n              ))}\r\n            </Select>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"name\"\r\n            autoComplete=\"off\"\r\n            id=\"idName\"\r\n            label=\"Marca\"\r\n            variant=\"outlined\"\r\n            value={brandForm.name}\r\n          />\r\n        </Grid>\r\n\r\n        <DialogActions style={{ width: \"100%\" }}>\r\n          <Button onClick={() => handleClose()} color=\"primary\">\r\n            Cancelar\r\n          </Button>\r\n          {brandForm.id ? (\r\n            optionsUpdateBrand.loading ? (\r\n              <Progress />\r\n            ) : (\r\n              <Button\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                autoFocus\r\n                variant=\"contained\"\r\n              >\r\n                Actualizar\r\n              </Button>\r\n            )\r\n          ) : optionsCreateBrand.loading ? (\r\n            <Progress />\r\n          ) : (\r\n            <Button type=\"submit\" color=\"primary\" autoFocus variant=\"contained\">\r\n              Registrar\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      </Grid>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default BrandForm;\r\n","import { Brand } from \"../../interfaces/brand.interface\";\r\nimport { useState } from \"react\";\r\n\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport DialogForm from \"../dialog/dialog.component\";\r\nimport { PERMIT_FOUR, PERMIT_TWO } from \"../../const\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport { Dialog } from \"../../interfaces/dialog.interface\";\r\nimport moment from \"moment\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { loadAccess } from \"../acceso/filter-access.component\";\r\nimport BrandForm from \"./brand-form\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst BrandList = ({ brand }: { brand: Brand }) => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Marca\":\r\n        return <BrandForm brand={brand} handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const showOptionsForEdit = () => (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        dialog={brand}\r\n        title={dialog.name}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      <TableCell align=\"right\">\r\n        <Tooltip\r\n          title=\"Editar Marca\"\r\n          onClick={() => setDialog({ name: \"Marca\", active: true })}\r\n        >\r\n          <IconButton aria-label=\"role\" size=\"small\">\r\n            <EditRoundedIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      </TableCell>\r\n    </>\r\n  );\r\n\r\n  const showData = () => (\r\n    <>\r\n      <TableRow>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {brand.category!.name}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {brand.name}\r\n        </TableCell>\r\n        <TableCell>{moment(brand.createdAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n        <TableCell>{moment(brand.updatedAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n        {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n      </TableRow>\r\n    </>\r\n  );\r\n\r\n  return <>{loadAccess(PERMIT_FOUR, auth, page, showData)}</>;\r\n};\r\n\r\nexport default BrandList;\r\n","import { useState, useEffect } from \"react\";\r\nimport { findError } from \"../helpers/control-errors\";\r\nimport { loadAccess } from \"../components/acceso/filter-access.component\";\r\nimport { PERMIT_ONE, PERMIT_TWO } from \"../const\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { setAlert } from \"../store/alert/action\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport DialogForm from \"../components/dialog/dialog.component\";\r\nimport { Dialog } from \"../interfaces/dialog.interface\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\r\nimport { User } from \"../interfaces/user.interface\";\r\n\r\nimport BrandList from \"../components/brand/brand-list\";\r\nimport BrandForm from \"../components/brand/brand-form\";\r\nimport { Brand } from \"../interfaces/brand.interface\";\r\nimport { useGetBrands } from \"../hooks/brand/useGetBrands\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst BrandPage = () => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n\r\n  const { data, loading, error } = useGetBrands();\r\n  const [brands, setBrands] = useState<Brand[]>([]);\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Crear\":\r\n        return <BrandForm handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setBrands(data.getBrands);\r\n    }\r\n  }, [data]);\r\n\r\n  if (loading) {\r\n    return <h1>Cargando...</h1>;\r\n  }\r\n\r\n  if (error) {\r\n    return <h1>{findError(error)}</h1>;\r\n  }\r\n\r\n  const showDialogToCreate = () => (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={`${dialog.name} Marca`}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      <Tooltip title=\"Crear Marca\">\r\n        <IconButton\r\n          aria-label=\"add\"\r\n          size=\"small\"\r\n          onClick={() => setDialog({ name: \"Crear\", active: true })}\r\n        >\r\n          <AddRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showOptionsForEdit = () => (\r\n    <TableCell align=\"right\">Opciones</TableCell>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {loadAccess(PERMIT_ONE, auth, page, showDialogToCreate)}\r\n      <TableContainer\r\n        component={Paper}\r\n        style={{ whiteSpace: \"nowrap\", marginTop: 10 }}\r\n      >\r\n        <Table\r\n          //className={classes.table}\r\n          size=\"small\"\r\n          aria-label=\"a dense table\"\r\n        >\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Categoria</TableCell>\r\n              <TableCell>Marca</TableCell>\r\n              <TableCell>Fecha creada</TableCell>\r\n              <TableCell>Fecha modificada</TableCell>\r\n              {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {brands.map((brand) => (\r\n              <BrandList key={brand.id} brand={brand} />\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BrandPage;\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Category } from \"../../interfaces/category.interface\";\r\nimport { GET_CATEGORYS } from \"./useGetCategorys\";\r\n\r\ninterface CreateCategoryInput {\r\n  variables: {\r\n    categoryInput: Category;\r\n  };\r\n}\r\n\r\nconst CREATE_CATEGORY = gql`\r\n  mutation registerCategory($categoryInput: CreateCategoryInput!) {\r\n    registerCategory(categoryInput: $categoryInput) {\r\n      id\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\n//https://stackoverflow.com/questions/58431224/how-does-apollo-client-graphql-refetchqueries-works\r\nexport const useCreateCategory = () => {\r\n  const [registerCategory, { error, loading }] = useMutation(CREATE_CATEGORY, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_CATEGORYS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { registerCategory, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Category } from \"../../interfaces/category.interface\";\r\nimport { GET_CATEGORYS } from \"./useGetCategorys\";\r\n\r\ninterface UpdateCategoryInput {\r\n  variables: {\r\n    categoryInput: Category;\r\n  };\r\n}\r\n\r\nconst UPDATE_CATEGORY = gql`\r\n  mutation updateCategory($categoryInput: UpdateCategoryInput!) {\r\n    updateCategory(categoryInput: $categoryInput) {\r\n      id\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useUpdateCategory = () => {\r\n  const [updateCategory, { error, loading }] = useMutation(\r\n    UPDATE_CATEGORY\r\n    //   , {\r\n    //   refetchQueries: () => [\r\n    //     {\r\n    //       query: GET_CATEGORYS,\r\n    //     },\r\n    //   ],\r\n    // }\r\n  );\r\n\r\n  return { updateCategory, error, loading };\r\n};\r\n","import { useState } from \"react\";\r\n\r\nimport { Category } from \"../../interfaces/category.interface\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Progress from \"../progress/progress\";\r\nimport { FormChange, InputChange } from \"../../lib/types\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\nimport { useCreateCategory } from \"../../hooks/category/useCreateCategory\";\r\nimport { useUpdateCategory } from \"../../hooks/category/useUpdateCategory\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst CategoryForm = ({ handleClose, category }: any) => {\r\n  const initialValueCreate: Category = {\r\n    name: \"\",\r\n  };\r\n\r\n  const initialValueUpdate: Category = {\r\n    id: category?.id || \"\",\r\n    name: category?.name || \"\",\r\n  };\r\n\r\n  const [categoryForm, setCategoryForm] = useState<Category>(\r\n    initialValueUpdate.id ? initialValueUpdate : initialValueCreate\r\n  );\r\n\r\n  const dispatch = useDispatch();\r\n  const optionsUpdateCategory = useUpdateCategory();\r\n  const optionsCreateCategory = useCreateCategory();\r\n\r\n  const handleInput = (e: InputChange) => {\r\n    setCategoryForm({ ...categoryForm, [e.target.name]: e.target.value });\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n\r\n    if (categoryForm.id) {\r\n      try {\r\n        await optionsUpdateCategory.updateCategory({\r\n          variables: {\r\n            categoryInput: categoryForm,\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"La categoria se actualizó correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      try {\r\n        await optionsCreateCategory.registerCategory({\r\n          variables: {\r\n            categoryInput: categoryForm,\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"La categoria ha sido registrado correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"name\"\r\n            autoComplete=\"off\"\r\n            id=\"idName\"\r\n            label=\"Nombre\"\r\n            variant=\"outlined\"\r\n            value={categoryForm.name}\r\n          />\r\n        </Grid>\r\n\r\n        <DialogActions style={{ width: \"100%\" }}>\r\n          <Button onClick={() => handleClose()} color=\"primary\">\r\n            Cancelar\r\n          </Button>\r\n          {categoryForm.id ? (\r\n            optionsUpdateCategory.loading ? (\r\n              <Progress />\r\n            ) : (\r\n              <Button\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                autoFocus\r\n                variant=\"contained\"\r\n              >\r\n                Actualizar\r\n              </Button>\r\n            )\r\n          ) : optionsCreateCategory.loading ? (\r\n            <Progress />\r\n          ) : (\r\n            <Button type=\"submit\" color=\"primary\" autoFocus variant=\"contained\">\r\n              Registrar\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      </Grid>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default CategoryForm;\r\n","import { useState } from \"react\";\r\nimport { Category } from \"../../interfaces/category.interface\";\r\nimport CategoryForm from \"./category-form\";\r\n\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport DialogForm from \"../dialog/dialog.component\";\r\nimport { PERMIT_FOUR, PERMIT_TWO } from \"../../const\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport { Dialog } from \"../../interfaces/dialog.interface\";\r\nimport moment from \"moment\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { loadAccess } from \"../acceso/filter-access.component\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst CategoryList = ({ category }: { category: Category }) => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Categoria\":\r\n        return <CategoryForm category={category} handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const showOptionsForEdit = () => (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        dialog={category}\r\n        title={dialog.name}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      <TableCell align=\"right\">\r\n        <Tooltip\r\n          title=\"Editar categoria\"\r\n          onClick={() => setDialog({ name: \"Categoria\", active: true })}\r\n        >\r\n          <IconButton aria-label=\"role\" size=\"small\">\r\n            <EditRoundedIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      </TableCell>\r\n    </>\r\n  );\r\n\r\n  const showData = () => (\r\n    <>\r\n      <TableRow>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {category.name}\r\n        </TableCell>\r\n        <TableCell>{moment(category.createdAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n        <TableCell>{moment(category.updatedAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n        {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n      </TableRow>\r\n    </>\r\n  );\r\n\r\n  return <>{loadAccess(PERMIT_FOUR, auth, page, showData)}</>;\r\n};\r\n\r\nexport default CategoryList;\r\n","import { useState, useEffect } from \"react\";\r\nimport { findError } from \"../helpers/control-errors\";\r\nimport { loadAccess } from \"../components/acceso/filter-access.component\";\r\nimport { PERMIT_ONE, PERMIT_TWO } from \"../const\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { setAlert } from \"../store/alert/action\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport DialogForm from \"../components/dialog/dialog.component\";\r\nimport { Dialog } from \"../interfaces/dialog.interface\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\r\nimport { User } from \"../interfaces/user.interface\";\r\n\r\nimport { Category } from \"../interfaces/category.interface\";\r\nimport CategoryForm from \"../components/category/category-form\";\r\nimport CategoryList from \"../components/category/category-list\";\r\nimport { useGetCategorys } from \"../hooks/category/useGetCategorys\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst CategooryPage = () => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n\r\n  const { data, loading, error } = useGetCategorys();\r\n  const [categorys, setCategorys] = useState<Category[]>([]);\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Crear\":\r\n        return <CategoryForm handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setCategorys(data.getCategorys);\r\n    }\r\n  }, [data]);\r\n\r\n  if (loading) {\r\n    return <h1>Cargando...</h1>;\r\n  }\r\n\r\n  if (error) {\r\n    return <h1>{findError(error)}</h1>;\r\n  }\r\n\r\n  const showDialogToCreate = () => (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={`${dialog.name} Categoria`}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      <Tooltip title=\"Crear Categoria\">\r\n        <IconButton\r\n          aria-label=\"add\"\r\n          size=\"small\"\r\n          onClick={() => setDialog({ name: \"Crear\", active: true })}\r\n        >\r\n          <AddRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showOptionsForEdit = () => (\r\n    <TableCell align=\"right\">Opciones</TableCell>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {loadAccess(PERMIT_ONE, auth, page, showDialogToCreate)}\r\n      <TableContainer\r\n        component={Paper}\r\n        style={{ whiteSpace: \"nowrap\", marginTop: 10 }}\r\n      >\r\n        <Table\r\n          //className={classes.table}\r\n          size=\"small\"\r\n          aria-label=\"a dense table\"\r\n        >\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Categoria</TableCell>\r\n              <TableCell>Fecha creada</TableCell>\r\n              <TableCell>Fecha modificada</TableCell>\r\n              {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {categorys.map((category) => (\r\n              <CategoryList key={category.id} category={category} />\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CategooryPage;\r\n","export const formatMoney = (value: any) =>\r\n  new Intl.NumberFormat(\"de-DE\", {\r\n    style: \"currency\",\r\n    currency: \"PEN\",\r\n  }).format(value);\r\n","import { gql, useQuery } from \"@apollo/client\";\r\n\r\nexport const GET_EGRESS = gql`\r\n  query getEgress {\r\n    getEgress {\r\n      id\r\n      category {\r\n        name\r\n      }\r\n      user {\r\n        name\r\n      }\r\n      detail\r\n      observation\r\n      units\r\n      amount\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetEgress = () => {\r\n  const { data, error, loading }: any = useQuery(GET_EGRESS);\r\n\r\n  return { data, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { GET_EGRESS } from \"./useGetEgress\";\r\n\r\nconst DELETE_EGRESS = gql`\r\n  mutation deleteEgress($id: String!) {\r\n    deleteEgress(id: $id)\r\n  }\r\n`;\r\n\r\nexport const useDeleteEgress = () => {\r\n  const [deleteEgress, { error, loading }] = useMutation(DELETE_EGRESS, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_EGRESS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { deleteEgress, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Category } from \"../../interfaces/category.interface\";\r\nimport { GET_EGRESS } from \"./useGetEgress\";\r\n\r\ninterface UpdateEgressInput {\r\n  variables: {\r\n    egressInput: Category;\r\n  };\r\n}\r\n\r\nconst UPDATE_EGRESS = gql`\r\n  mutation updateEgress($egressInput: UpdateEgressInput!) {\r\n    updateEgress(egressInput: $egressInput) {\r\n      id\r\n      category {\r\n        id\r\n        name\r\n      }\r\n      detail\r\n      observation\r\n      units\r\n      amount\r\n    }\r\n  }\r\n`;\r\n\r\n//https://stackoverflow.com/questions/58431224/how-does-apollo-client-graphql-refetchqueries-works\r\nexport const useUpdateEgress = () => {\r\n  const [updateEgress, { error, loading }] = useMutation(UPDATE_EGRESS, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_EGRESS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { updateEgress, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Category } from \"../../interfaces/category.interface\";\r\nimport { GET_EGRESS } from \"./useGetEgress\";\r\n\r\ninterface CreateEgressInput {\r\n  variables: {\r\n    egressInput: Category;\r\n  };\r\n}\r\n\r\nconst CREATE_EGRESS = gql`\r\n  mutation registerEgress($egressInput: CreateEgressInput!) {\r\n    registerEgress(egressInput: $egressInput) {\r\n      id\r\n      category {\r\n        id\r\n        name\r\n      }\r\n      detail\r\n      observation\r\n      units\r\n      amount\r\n    }\r\n  }\r\n`;\r\n\r\n//https://stackoverflow.com/questions/58431224/how-does-apollo-client-graphql-refetchqueries-works\r\nexport const useCreateEgress = () => {\r\n  const [registerEgress, { error, loading }] = useMutation(CREATE_EGRESS, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_EGRESS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { registerEgress, error, loading };\r\n};\r\n","import { Egress } from \"../../interfaces/egress.interface\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Progress from \"../progress/progress\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport { useState, useCallback, useEffect } from \"react\";\r\nimport { useGetCategorys } from \"../../hooks/category/useGetCategorys\";\r\nimport { FormChange, InputChange } from \"../../lib/types\";\r\nimport { Category } from \"../../interfaces/category.interface\";\r\nimport { useUpdateEgress } from \"../../hooks/egress/useUpdateEgress\";\r\nimport { useCreateEgress } from \"../../hooks/egress/useCreateEgress\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport { AutoCompleteInput } from \"../../interfaces/autocompleteinput.interface\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\n\r\ninterface Options {\r\n  handleClose: () => void;\r\n  egress?: Egress;\r\n}\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialAutoCompleteInput = {\r\n  category: \"\",\r\n};\r\n\r\nconst EgressForm = ({ handleClose, egress }: Options) => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n\r\n  const initialValueCreate: Egress = {\r\n    detail: \"\",\r\n    amount: 0,\r\n    units: 0,\r\n    category: \"\",\r\n    user: auth.name,\r\n  };\r\n\r\n  const initialValueUpdate: Egress = {\r\n    id: egress?.id || \"\",\r\n    detail: egress?.detail || \"\",\r\n    amount: egress?.amount || 0,\r\n    units: egress?.units || 0,\r\n    category: egress?.category?.name || \"\",\r\n    observation: egress?.observation || \"\",\r\n    //user: auth.name\r\n  };\r\n\r\n  const [egressForm, setEgressForm] = useState<Egress>(\r\n    initialValueUpdate.id ? initialValueUpdate : initialValueCreate\r\n  );\r\n  const [valueInput, setValueInput] = useState<AutoCompleteInput>(\r\n    initialAutoCompleteInput\r\n  );\r\n  const [categorys, setCategorys] = useState<Category[]>([]);\r\n  const { data } = useGetCategorys();\r\n  const optionsUpdateEgress = useUpdateEgress();\r\n  const optionsCreateEgress = useCreateEgress();\r\n  const dispatch = useDispatch();\r\n\r\n  const handleInput = (e: InputChange) => {\r\n    setEgressForm({\r\n      ...egressForm,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const dataCategorys = useCallback(() => {\r\n    setCategorys(data?.getCategorys || []);\r\n  }, [data]);\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n\r\n    if (egressForm.id) {\r\n      try {\r\n        await optionsUpdateEgress.updateEgress({\r\n          variables: {\r\n            egressInput: {\r\n              ...egressForm,\r\n              units: Number(egressForm.units),\r\n              amount: Number(egressForm.amount),\r\n            },\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El egreso se actualizó correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      try {\r\n        await optionsCreateEgress.registerEgress({\r\n          variables: {\r\n            egressInput: {\r\n              ...egressForm,\r\n              units: Number(egressForm.units),\r\n              amount: Number(egressForm.amount),\r\n            },\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El egreso ha sido registrado correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    dataCategorys();\r\n  }, [dataCategorys]);\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12}>\r\n          <Autocomplete\r\n            id=\"idCategory\"\r\n            value={egressForm.category}\r\n            onChange={(event, value) => {\r\n              setEgressForm({\r\n                ...egressForm,\r\n                category: value?.name || \"\",\r\n              });\r\n\r\n              dispatch(setAlert(initialAlert));\r\n            }}\r\n            inputValue={\r\n              valueInput.category ? valueInput.category : egressForm.category\r\n            }\r\n            onInputChange={(e, newValue) => {\r\n              setValueInput({ ...valueInput, category: newValue });\r\n            }}\r\n            options={categorys}\r\n            getOptionLabel={(category) => (category.name ? category.name : \"\")}\r\n            getOptionSelected={(option, value) => option.name === value}\r\n            renderInput={(params) => (\r\n              <TextField\r\n                {...params}\r\n                name=\"category\"\r\n                label=\"Categoria\"\r\n                variant=\"outlined\"\r\n              />\r\n            )}\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={4}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"units\"\r\n            autoComplete=\"off\"\r\n            id=\"idUnits\"\r\n            label=\"Unidades\"\r\n            variant=\"outlined\"\r\n            value={egressForm.units}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"amount\"\r\n            autoComplete=\"off\"\r\n            id=\"idAmount\"\r\n            label=\"Monto\"\r\n            variant=\"outlined\"\r\n            value={egressForm.amount}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">S/</InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <TextField\r\n            fullWidth\r\n            autoComplete=\"off\"\r\n            id=\"idTotal\"\r\n            label=\"Total\"\r\n            variant=\"outlined\"\r\n            value={egressForm.units * egressForm.amount}\r\n            InputProps={{\r\n              readOnly: true,\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">S/</InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"detail\"\r\n            autoComplete=\"off\"\r\n            id=\"idDetail\"\r\n            multiline\r\n            rows={3}\r\n            label=\"Detalle\"\r\n            variant=\"outlined\"\r\n            value={egressForm.detail}\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"observation\"\r\n            autoComplete=\"off\"\r\n            id=\"idObservation\"\r\n            multiline\r\n            rows={5}\r\n            label=\"Observación\"\r\n            variant=\"outlined\"\r\n            value={egressForm.observation}\r\n          />\r\n        </Grid>\r\n\r\n        <DialogActions style={{ width: \"100%\" }}>\r\n          <Button onClick={() => handleClose()} color=\"primary\">\r\n            Cancelar\r\n          </Button>\r\n          {egressForm.id ? (\r\n            optionsUpdateEgress.loading ? (\r\n              <Progress />\r\n            ) : (\r\n              <Button\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                autoFocus\r\n                variant=\"contained\"\r\n              >\r\n                Actualizar\r\n              </Button>\r\n            )\r\n          ) : optionsCreateEgress.loading ? (\r\n            <Progress />\r\n          ) : (\r\n            <Button type=\"submit\" color=\"primary\" autoFocus variant=\"contained\">\r\n              Registrar\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      </Grid>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default EgressForm;\r\n","import { Egress } from \"../../interfaces/egress.interface\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport { formatMoney } from \"../../lib/currency/money\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport HighlightOffRoundedIcon from \"@material-ui/icons/HighlightOffRounded\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { useState } from \"react\";\r\nimport { useDeleteEgress } from \"../../hooks/egress/useDeleteEgress\";\r\nimport { Dialog } from \"../../interfaces/dialog.interface\";\r\nimport DialogForm from \"../dialog/dialog.component\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\nimport EgressForm from \"./EgressForm\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport { loadAccess } from \"../acceso/filter-access.component\";\r\nimport { PERMIT_FOUR, PERMIT_TREE, PERMIT_TWO } from \"../../const\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst EgressList = ({ egres }: { egres: Egress }) => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const { module, page } = useSelector((state: any) => {\r\n    return state.page.user;\r\n  });\r\n  const dispatch = useDispatch();\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const optionsEgress = useDeleteEgress();\r\n\r\n  const deleteEgress = async (id: string | undefined) => {\r\n    try {\r\n      await optionsEgress.deleteEgress({\r\n        variables: {\r\n          id,\r\n        },\r\n      });\r\n    } catch (e) {\r\n      setDialog({ name: \"error\", active: true });\r\n      dispatch(\r\n        setAlert({\r\n          type: \"error\",\r\n          text: findError(e),\r\n        })\r\n      );\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={dialog.name}\r\n        handleClose={handleClose}\r\n      />;\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Egreso\":\r\n        return <EgressForm egress={egres} handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const showOptionsForEdit = () => (\r\n    <>\r\n      <Tooltip\r\n        title=\"Editar egreso\"\r\n        onClick={() => setDialog({ name: \"Egreso\", active: true })}\r\n      >\r\n        <IconButton aria-label=\"egress\" size=\"small\">\r\n          <EditRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showOptionsForDelete = () => (\r\n    <>\r\n      <Tooltip title=\"Eliminar egreso\" onClick={() => deleteEgress(egres.id)}>\r\n        <IconButton aria-label=\"egress\" size=\"small\">\r\n          <HighlightOffRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showData = () => (\r\n    <>\r\n      <TableRow>\r\n        <TableCell\r\n          component=\"th\"\r\n          scope=\"row\"\r\n          style={{\r\n            wordBreak: \"break-all\",\r\n          }}\r\n        >\r\n          {egres.category.name}\r\n        </TableCell>\r\n        <TableCell\r\n          component=\"th\"\r\n          scope=\"row\"\r\n          style={{ wordBreak: \"break-all\" }}\r\n        >\r\n          {egres.detail}\r\n        </TableCell>\r\n        {page === \"RESUMEN-CAJA\" || (\r\n          <>\r\n            <TableCell\r\n              component=\"th\"\r\n              scope=\"row\"\r\n              style={{ wordBreak: \"break-all\" }}\r\n            >\r\n              {egres.observation}\r\n            </TableCell>\r\n\r\n            {/* <TableCell>\r\n              {moment(egres.createdAt).format(\"DD/MM/YYYY\")}\r\n            </TableCell>\r\n            <TableCell>\r\n              {moment(egres.updatedAt).format(\"DD/MM/YYYY\")}\r\n            </TableCell> */}\r\n          </>\r\n        )}\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {egres?.user?.name}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\" align=\"center\">\r\n          {egres.units}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\" align=\"right\">\r\n          {formatMoney(egres.amount)}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\" align=\"right\">\r\n          {formatMoney(egres.units * egres.amount)}\r\n        </TableCell>\r\n        {page === \"RESUMEN-CAJA\" || page === \"CONSULTAR-CAJA\" ? (\r\n          \"\"\r\n        ) : (\r\n          <TableCell component=\"th\" scope=\"row\" align=\"right\">\r\n            <>\r\n              {loadAccess(PERMIT_TWO, auth, module, showOptionsForEdit)}\r\n              {loadAccess(PERMIT_TREE, auth, module, showOptionsForDelete)}\r\n            </>\r\n          </TableCell>\r\n        )}\r\n      </TableRow>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        dialog={egres}\r\n        title={dialog.name}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      {loadAccess(PERMIT_FOUR, auth, module, showData)}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EgressList;\r\n","import { createContext } from \"react\";\r\n\r\ninterface OptionI {\r\n  ingress: number;\r\n}\r\n\r\nconst initialIngress = {\r\n  ingress: 0,\r\n};\r\n\r\ninterface OptionE {\r\n  egress: number;\r\n}\r\n\r\nconst initialEgress = {\r\n  egress: 0,\r\n};\r\n\r\nconst PagoContext = createContext({\r\n  summaryIngress: initialIngress,\r\n  setSummaryIngress: (value: OptionI) => {},\r\n  summaryEgress: initialEgress,\r\n  setSummaryEgress: (value: OptionE) => {},\r\n});\r\n\r\nconst PagoProvider = PagoContext.Provider;\r\nconst PagoConsumer = PagoContext.Consumer;\r\n\r\nexport { PagoProvider, PagoConsumer, PagoContext };\r\n","import Table from \"@material-ui/core/Table\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport { useState, useEffect, useContext, useCallback } from \"react\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { Egress } from \"../interfaces/egress.interface\";\r\nimport EgressList from \"../components/egress/EgressList\";\r\nimport { useGetEgress } from \"../hooks/egress/useGetEgress\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\r\nimport { findError } from \"../helpers/control-errors\";\r\nimport DialogForm from \"../components/dialog/dialog.component\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { Dialog } from \"../interfaces/dialog.interface\";\r\nimport { setAlert } from \"../store/alert/action\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport EgressForm from \"../components/egress/EgressForm\";\r\nimport { loadAccess } from \"../components/acceso/filter-access.component\";\r\nimport { PERMIT_ONE } from \"../const\";\r\nimport { User } from \"../interfaces/user.interface\";\r\nimport { formatMoney } from \"../lib/currency/money\";\r\nimport { PagoContext } from \"../context/caja-context\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\ninterface Option {\r\n  checkMoney?: any;\r\n  resultIngress?: any;\r\n  resultEgress?: any;\r\n}\r\n\r\nconst EgressPage = ({ checkMoney, resultEgress }: Option) => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const { page, module } = useSelector((state: any) => {\r\n    return state.page.user;\r\n  });\r\n  const [egress, setEgress] = useState<Egress[]>([]);\r\n  const { data, loading, error } = useGetEgress();\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n  const { summaryEgress, setSummaryEgress } = useContext(PagoContext);\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const calTotalHoy = (items: Egress[]) => {\r\n    return items\r\n      .map((item) => item.units * item.amount)\r\n      .reduce((sum, i) => sum + i, 0);\r\n  };\r\n\r\n  const totalHoy = calTotalHoy(egress);\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Crear\":\r\n        return <EgressForm handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (checkMoney === undefined) {\r\n      if (data) {\r\n        setEgress(data.getEgress);\r\n      }\r\n    } else {\r\n      setEgress(resultEgress);\r\n    }\r\n    setSummaryEgress({ ...summaryEgress, egress: totalHoy });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [data, setSummaryEgress, totalHoy]);\r\n\r\n  if (loading) {\r\n    return <h1>Cargando...</h1>;\r\n  }\r\n\r\n  if (error) {\r\n    return <h1>{findError(error)}</h1>;\r\n  }\r\n\r\n  const showOptionsToCreate = () => (\r\n    <>\r\n      <Tooltip title=\"Crear Egreso\">\r\n        <IconButton\r\n          aria-label=\"add\"\r\n          size=\"small\"\r\n          onClick={() => setDialog({ name: \"Crear\", active: true })}\r\n        >\r\n          <AddRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={`${dialog.name} Egreso`}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      {page === \"RESUMEN-CAJA\" || page === \"CONSULTAR-CAJA\"\r\n        ? \"\"\r\n        : loadAccess(PERMIT_ONE, auth, module, showOptionsToCreate)}\r\n\r\n      <TableContainer\r\n        component={Paper}\r\n        style={{\r\n          whiteSpace: \"nowrap\",\r\n          marginTop: page === \"CONSULTAR-CAJA\" ? 20 : 0,\r\n        }}\r\n      >\r\n        <Table size=\"small\" aria-label=\"a dense table\">\r\n          <TableHead>\r\n            <TableRow style={{ background: \"#dc3545\" }}>\r\n              <TableCell\r\n                style={{ color: \"#fff\" }}\r\n                align=\"center\"\r\n                colSpan={page === \"RESUMEN-CAJA\" ? 4 : 5}\r\n              >\r\n                {page === \"CONSULTAR-CAJA\" ? `Egreso Total` : `Ingreso de hoy`}\r\n              </TableCell>\r\n              <TableCell\r\n                style={{ color: \"#fff\" }}\r\n                align=\"center\"\r\n                colSpan={page === \"RESUMEN-CAJA\" ? 2 : 3}\r\n              >\r\n                Costo\r\n              </TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>Categoria</TableCell>\r\n              <TableCell>Detalle</TableCell>\r\n              {page === \"RESUMEN-CAJA\" || (\r\n                <>\r\n                  <TableCell>Observación</TableCell>\r\n                  {/* <TableCell>Fecha creada</TableCell>\r\n                  <TableCell>Fecha modificada</TableCell> */}\r\n                </>\r\n              )}\r\n              <TableCell>Usuario</TableCell>\r\n              <TableCell align=\"center\">Unidades</TableCell>\r\n              <TableCell align=\"right\">Monto</TableCell>\r\n              <TableCell align=\"right\">Monto total</TableCell>\r\n              {page === \"RESUMEN-CAJA\" || page === \"CONSULTAR-CAJA\" ? (\r\n                \"\"\r\n              ) : (\r\n                <TableCell align=\"right\">Opciones</TableCell>\r\n              )}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {egress.map((egres) => (\r\n              <EgressList key={egres.id} egres={egres} />\r\n            ))}\r\n\r\n            <TableRow>\r\n              <TableCell\r\n                colSpan={\r\n                  page === \"RESUMEN-CAJA\"\r\n                    ? 4\r\n                    : page === \"CONSULTAR-CAJA\"\r\n                    ? 5\r\n                    : 5\r\n                }\r\n              />\r\n              <TableCell>\r\n                <strong>Total</strong>\r\n              </TableCell>\r\n              <TableCell align=\"right\">\r\n                <strong style={{ color: \"red\" }}>\r\n                  {formatMoney(totalHoy)}\r\n                </strong>\r\n              </TableCell>\r\n              {page === \"RESUMEN-CAJA\" || page === \"CONSULTAR-CAJA\" ? (\r\n                \"\"\r\n              ) : (\r\n                <TableCell colSpan={3} />\r\n              )}\r\n            </TableRow>\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EgressPage;\r\n","import { gql, useQuery } from \"@apollo/client\";\r\n\r\nexport const GET_INGRESS = gql`\r\n  query getIngress {\r\n    getIngress {\r\n      id\r\n      category {\r\n        name\r\n      }\r\n      user {\r\n        name\r\n      }\r\n      detail\r\n      observation\r\n      units\r\n      amount\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetIngress = () => {\r\n  const { data, error, loading }: any = useQuery(GET_INGRESS);\r\n\r\n  return { data, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { GET_INGRESS } from \"./useGetIngress\";\r\n\r\nconst DELETE_INGRESS = gql`\r\n  mutation deleteIngress($id: String!) {\r\n    deleteIngress(id: $id)\r\n  }\r\n`;\r\n\r\nexport const useDeleteIngress = () => {\r\n  const [deleteIngress, { error, loading }] = useMutation(DELETE_INGRESS, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_INGRESS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { deleteIngress, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Category } from \"../../interfaces/category.interface\";\r\nimport { GET_INGRESS } from \"./useGetIngress\";\r\n\r\ninterface UpdateIngressInput {\r\n  variables: {\r\n    ingressInput: Category;\r\n  };\r\n}\r\n\r\nconst UPDATE_INGRESS = gql`\r\n  mutation updateIngress($ingressInput: UpdateIngressInput!) {\r\n    updateIngress(ingressInput: $ingressInput) {\r\n      id\r\n      category {\r\n        id\r\n        name\r\n      }\r\n      detail\r\n      observation\r\n      units\r\n      amount\r\n    }\r\n  }\r\n`;\r\n\r\n//https://stackoverflow.com/questions/58431224/how-does-apollo-client-graphql-refetchqueries-works\r\nexport const useUpdateIngress = () => {\r\n  const [updateIngress, { error, loading }] = useMutation(UPDATE_INGRESS, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_INGRESS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { updateIngress, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Category } from \"../../interfaces/category.interface\";\r\nimport { GET_INGRESS } from \"./useGetIngress\";\r\n\r\ninterface CreateIngressInput {\r\n  variables: {\r\n    ingressInput: Category;\r\n  };\r\n}\r\n\r\nconst CREATE_INGRESS = gql`\r\n  mutation registerIngress($ingressInput: CreateIngressInput!) {\r\n    registerIngress(ingressInput: $ingressInput) {\r\n      id\r\n      category {\r\n        id\r\n        name\r\n      }\r\n      detail\r\n      observation\r\n      units\r\n      amount\r\n    }\r\n  }\r\n`;\r\n\r\n//https://stackoverflow.com/questions/58431224/how-does-apollo-client-graphql-refetchqueries-works\r\nexport const useCreateIngress = () => {\r\n  const [registerIngress, { error, loading }] = useMutation(CREATE_INGRESS, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_INGRESS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { registerIngress, error, loading };\r\n};\r\n","import { Ingress } from \"../../interfaces/ingress.interface\";\r\nimport { FormChange, InputChange } from \"../../lib/types\";\r\nimport { useState, useCallback, useEffect } from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Progress from \"../progress/progress\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport { useUpdateIngress } from \"../../hooks/ingress/useUpdateIngress\";\r\nimport { useCreateIngress } from \"../../hooks/ingress/useCreateIngress\";\r\nimport { useGetCategorys } from \"../../hooks/category/useGetCategorys\";\r\nimport { Category } from \"../../interfaces/category.interface\";\r\nimport { AutoCompleteInput } from \"../../interfaces/autocompleteinput.interface\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\n\r\ninterface Options {\r\n  handleClose: () => void;\r\n  ingres?: Ingress;\r\n}\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialAutoCompleteInput = {\r\n  category: \"\",\r\n};\r\n\r\nconst IngressForm = ({ handleClose, ingres }: Options) => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const initialValueCreate: Ingress = {\r\n    detail: \"\",\r\n    amount: 0,\r\n    units: 0,\r\n    category: \"\",\r\n    user: auth.name,\r\n  };\r\n\r\n  const initialValueUpdate: Ingress = {\r\n    id: ingres?.id || \"\",\r\n    detail: ingres?.detail || \"\",\r\n    amount: ingres?.amount || 0,\r\n    units: ingres?.units || 0,\r\n    category: ingres?.category?.name || \"\",\r\n    observation: ingres?.observation || \"\",\r\n    //user:auth.name\r\n  };\r\n\r\n  const [ingressForm, setIngressForm] = useState<Ingress>(\r\n    initialValueUpdate.id ? initialValueUpdate : initialValueCreate\r\n  );\r\n  const [valueInput, setValueInput] = useState<AutoCompleteInput>(\r\n    initialAutoCompleteInput\r\n  );\r\n  const [categorys, setCategorys] = useState<Category[]>([]);\r\n  const { data } = useGetCategorys();\r\n  const optionsUpdateIngress = useUpdateIngress();\r\n  const optionsCreateIngress = useCreateIngress();\r\n  const dispatch = useDispatch();\r\n\r\n  const handleInput = (e: InputChange) => {\r\n    setIngressForm({\r\n      ...ingressForm,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const dataCategorys = useCallback(() => {\r\n    setCategorys(data?.getCategorys || []);\r\n  }, [data]);\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n\r\n    if (ingressForm.id) {\r\n      try {\r\n        await optionsUpdateIngress.updateIngress({\r\n          variables: {\r\n            ingressInput: {\r\n              ...ingressForm,\r\n              units: Number(ingressForm.units),\r\n              amount: Number(ingressForm.amount),\r\n            },\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El ingreso se actualizó correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      try {\r\n        await optionsCreateIngress.registerIngress({\r\n          variables: {\r\n            ingressInput: {\r\n              ...ingressForm,\r\n              units: Number(ingressForm.units),\r\n              amount: Number(ingressForm.amount),\r\n            },\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El ingreso ha sido registrado correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    dataCategorys();\r\n  }, [dataCategorys]);\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12}>\r\n          <Autocomplete\r\n            id=\"idCategory\"\r\n            value={ingressForm.category}\r\n            onChange={(event, value) => {\r\n              setIngressForm({\r\n                ...ingressForm,\r\n                category: value?.name || \"\",\r\n              });\r\n\r\n              dispatch(setAlert(initialAlert));\r\n            }}\r\n            inputValue={\r\n              valueInput.category ? valueInput.category : ingressForm.category\r\n            }\r\n            onInputChange={(e, newValue) => {\r\n              setValueInput({ ...valueInput, category: newValue });\r\n            }}\r\n            options={categorys}\r\n            getOptionLabel={(category) => (category.name ? category.name : \"\")}\r\n            getOptionSelected={(option, value) =>\r\n              option.name !== value.name ? false : true\r\n            }\r\n            renderInput={(params) => (\r\n              <TextField\r\n                {...params}\r\n                name=\"category\"\r\n                label=\"Categoria\"\r\n                variant=\"outlined\"\r\n              />\r\n            )}\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={4}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"units\"\r\n            autoComplete=\"off\"\r\n            id=\"idUnits\"\r\n            label=\"Unidades\"\r\n            variant=\"outlined\"\r\n            value={ingressForm.units}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"amount\"\r\n            autoComplete=\"off\"\r\n            id=\"idAmount\"\r\n            label=\"Monto\"\r\n            variant=\"outlined\"\r\n            value={ingressForm.amount}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">S/</InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <TextField\r\n            fullWidth\r\n            autoComplete=\"off\"\r\n            id=\"idTotal\"\r\n            label=\"Total\"\r\n            variant=\"outlined\"\r\n            value={ingressForm.units * ingressForm.amount}\r\n            InputProps={{\r\n              readOnly: true,\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">S/</InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"detail\"\r\n            autoComplete=\"off\"\r\n            id=\"idDetail\"\r\n            multiline\r\n            rows={3}\r\n            label=\"Detalle\"\r\n            variant=\"outlined\"\r\n            value={ingressForm.detail}\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"observation\"\r\n            autoComplete=\"off\"\r\n            id=\"idObservation\"\r\n            multiline\r\n            rows={5}\r\n            label=\"Observación\"\r\n            variant=\"outlined\"\r\n            value={ingressForm.observation}\r\n          />\r\n        </Grid>\r\n\r\n        <DialogActions style={{ width: \"100%\" }}>\r\n          <Button onClick={() => handleClose()} color=\"primary\">\r\n            Cancelar\r\n          </Button>\r\n          {ingressForm.id ? (\r\n            optionsUpdateIngress.loading ? (\r\n              <Progress />\r\n            ) : (\r\n              <Button\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                autoFocus\r\n                variant=\"contained\"\r\n              >\r\n                Actualizar\r\n              </Button>\r\n            )\r\n          ) : optionsCreateIngress.loading ? (\r\n            <Progress />\r\n          ) : (\r\n            <Button type=\"submit\" color=\"primary\" autoFocus variant=\"contained\">\r\n              Registrar\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      </Grid>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default IngressForm;\r\n","import moment from \"moment\";\r\nimport { Ingress } from \"../../interfaces/ingress.interface\";\r\nimport { formatMoney } from \"../../lib/currency/money\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport HighlightOffRoundedIcon from \"@material-ui/icons/HighlightOffRounded\";\r\nimport { Dialog } from \"../../interfaces/dialog.interface\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { useState } from \"react\";\r\nimport { useDeleteIngress } from \"../../hooks/ingress/useDeleteIngress\";\r\nimport DialogForm from \"../dialog/dialog.component\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\nimport IngressForm from \"./IngressForm\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { loadAccess } from \"../acceso/filter-access.component\";\r\nimport { PERMIT_FOUR, PERMIT_TREE, PERMIT_TWO } from \"../../const\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  row: {\r\n    width: 700,\r\n    backgroundColor: \"grey\",\r\n  },\r\n  cell_long: {\r\n    fontSize: \"10px\",\r\n    width: 150,\r\n    minWidth: 1,\r\n    backgroundColor: \"#ee82ee\",\r\n  },\r\n  cell_default: {\r\n    fontSize: \"10px\",\r\n    width: 200,\r\n    minWidth: 1,\r\n    backgroundColor: \"#ee82ee\",\r\n  },\r\n  cell_short: {\r\n    fontSize: \"10px\",\r\n    width: 80,\r\n    backgroundColor: \"yellow\",\r\n  },\r\n}));\r\n\r\nconst IngressList = ({ ingres }: { ingres: Ingress }) => {\r\n  const classes = useStyles();\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const { module, page } = useSelector((state: any) => {\r\n    return state.page.user;\r\n  });\r\n  const dispatch = useDispatch();\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const optionsIngress = useDeleteIngress();\r\n\r\n  const deleteIngress = async (id: string | undefined) => {\r\n    try {\r\n      await optionsIngress.deleteIngress({\r\n        variables: {\r\n          id,\r\n        },\r\n      });\r\n    } catch (e) {\r\n      setDialog({ name: \"error\", active: true });\r\n      dispatch(\r\n        setAlert({\r\n          type: \"error\",\r\n          text: findError(e),\r\n        })\r\n      );\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={dialog.name}\r\n        handleClose={handleClose}\r\n      />;\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Ingreso\":\r\n        return <IngressForm ingres={ingres} handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const showOptionsForEdit = () => (\r\n    <>\r\n      <Tooltip\r\n        title=\"Editar ingreso\"\r\n        onClick={() => setDialog({ name: \"Ingreso\", active: true })}\r\n      >\r\n        <IconButton aria-label=\"egress\" size=\"small\">\r\n          <EditRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showOptionsForDelete = () => (\r\n    <>\r\n      <Tooltip\r\n        title=\"Eliminar ingreso\"\r\n        onClick={() => deleteIngress(ingres.id)}\r\n      >\r\n        <IconButton aria-label=\"egress\" size=\"small\">\r\n          <HighlightOffRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showData = () => (\r\n    <>\r\n      <TableRow>\r\n        <TableCell\r\n          component=\"th\"\r\n          scope=\"row\"\r\n          style={{\r\n            wordBreak: \"break-all\",\r\n          }}\r\n        >\r\n          {ingres.category.name}\r\n        </TableCell>\r\n        <TableCell\r\n          component=\"th\"\r\n          scope=\"row\"\r\n          style={{ wordBreak: \"break-all\" }}\r\n        >\r\n          {ingres.detail}\r\n        </TableCell>\r\n        {page === \"RESUMEN-CAJA\" || (\r\n          <>\r\n            <TableCell\r\n              component=\"th\"\r\n              scope=\"row\"\r\n              style={{ wordBreak: \"break-all\" }}\r\n            >\r\n              {ingres.observation}\r\n            </TableCell>\r\n\r\n            {/* <TableCell>\r\n              {moment(ingres.createdAt).format(\"DD/MM/YYYY\")}\r\n            </TableCell>\r\n            <TableCell>\r\n              {moment(ingres.updatedAt).format(\"DD/MM/YYYY\")}\r\n            </TableCell> */}\r\n          </>\r\n        )}\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {ingres?.user?.name}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\" align=\"center\">\r\n          {ingres.units}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\" align=\"right\">\r\n          {formatMoney(ingres.amount)}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\" align=\"right\">\r\n          {formatMoney(ingres.units * ingres.amount)}\r\n        </TableCell>\r\n\r\n        {page === \"RESUMEN-CAJA\" || page === \"CONSULTAR-CAJA\" ? (\r\n          \"\"\r\n        ) : (\r\n          <TableCell component=\"th\" scope=\"row\" align=\"right\">\r\n            <>\r\n              {loadAccess(PERMIT_TWO, auth, module, showOptionsForEdit)}\r\n              {loadAccess(PERMIT_TREE, auth, module, showOptionsForDelete)}\r\n            </>\r\n          </TableCell>\r\n        )}\r\n      </TableRow>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        dialog={ingres}\r\n        title={dialog.name}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      {loadAccess(PERMIT_FOUR, auth, module, showData)}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default IngressList;\r\n","import Table from \"@material-ui/core/Table\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport { useState, useEffect, useContext, useCallback } from \"react\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nimport { Ingress } from \"../interfaces/ingress.interface\";\r\nimport IngressList from \"../components/ingress/IngresList\";\r\nimport { findError } from \"../helpers/control-errors\";\r\nimport { useGetIngress } from \"../hooks/ingress/useGetIngress\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\r\nimport DialogForm from \"../components/dialog/dialog.component\";\r\nimport IngressForm from \"../components/ingress/IngressForm\";\r\nimport { Dialog } from \"../interfaces/dialog.interface\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setAlert } from \"../store/alert/action\";\r\nimport { User } from \"../interfaces/user.interface\";\r\nimport { loadAccess } from \"../components/acceso/filter-access.component\";\r\nimport { PERMIT_ONE } from \"../const\";\r\nimport { formatMoney } from \"../lib/currency/money\";\r\nimport { PagoContext } from \"../context/caja-context\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\ninterface Option {\r\n  checkMoney?: any;\r\n  resultIngress?: any;\r\n  resultEgress?: any;\r\n}\r\n\r\nconst IngressPage = ({ checkMoney, resultIngress }: Option) => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const { module, page } = useSelector((state: any) => {\r\n    return state.page.user;\r\n  });\r\n  const [ingress, setIngress] = useState<Ingress[]>([]);\r\n  const { data, loading, error } = useGetIngress();\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n  const { summaryIngress, setSummaryIngress } = useContext(PagoContext);\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Crear\":\r\n        return <IngressForm handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const calTotalHoy = (items: Ingress[]) => {\r\n    return items\r\n      .map((item) => item.units * item.amount)\r\n      .reduce((sum, i) => sum + i, 0);\r\n  };\r\n\r\n  const totalHoy = calTotalHoy(ingress);\r\n\r\n  useEffect(() => {\r\n    if (checkMoney === undefined) {\r\n      if (data) {\r\n        setIngress(data.getIngress);\r\n      }\r\n    } else {\r\n      setIngress(resultIngress);\r\n    }\r\n\r\n    setSummaryIngress({ ...summaryIngress, ingress: totalHoy });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [data, setSummaryIngress, totalHoy]);\r\n\r\n  if (loading) {\r\n    return <h1>Cargando...</h1>;\r\n  }\r\n\r\n  if (error) {\r\n    return <h1>{findError(error)}</h1>;\r\n  }\r\n\r\n  const showOptionsToCreate = () => (\r\n    <>\r\n      <Tooltip title=\"Crear Ingreso\">\r\n        <IconButton\r\n          aria-label=\"add\"\r\n          size=\"small\"\r\n          onClick={() => setDialog({ name: \"Crear\", active: true })}\r\n        >\r\n          <AddRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={`${dialog.name} Ingreso`}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n\r\n      {page === \"RESUMEN-CAJA\" || page === \"CONSULTAR-CAJA\"\r\n        ? \"\"\r\n        : loadAccess(PERMIT_ONE, auth, module, showOptionsToCreate)}\r\n\r\n      <TableContainer\r\n        component={Paper}\r\n        style={{\r\n          whiteSpace: \"nowrap\",\r\n          marginTop: page === \"CONSULTAR-CAJA\" ? 20 : 0,\r\n        }}\r\n      >\r\n        <Table size=\"small\" aria-label=\"a dense table\">\r\n          <TableHead>\r\n            <TableRow style={{ background: \"#28a745\" }}>\r\n              <TableCell\r\n                style={{ color: \"#fff\" }}\r\n                align=\"center\"\r\n                colSpan={page === \"RESUMEN-CAJA\" ? 4 : 5}\r\n              >\r\n                {page === \"CONSULTAR-CAJA\" ? `Ingreso Total` : `Ingreso de hoy`}\r\n              </TableCell>\r\n              <TableCell\r\n                style={{ color: \"#fff\" }}\r\n                align=\"center\"\r\n                colSpan={page === \"RESUMEN-CAJA\" ? 2 : 4}\r\n              >\r\n                Costo\r\n              </TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>Categoria</TableCell>\r\n              <TableCell>Detalle</TableCell>\r\n              {page === \"RESUMEN-CAJA\" || (\r\n                <>\r\n                  <TableCell>Observación</TableCell>\r\n                  {/* <TableCell>Fecha creada</TableCell>\r\n                  <TableCell>Fecha modificada</TableCell> */}\r\n                </>\r\n              )}\r\n              <TableCell>Usuario</TableCell>\r\n              <TableCell align=\"center\">Unidades</TableCell>\r\n              <TableCell align=\"right\">Monto</TableCell>\r\n              <TableCell align=\"right\">Monto total</TableCell>\r\n              {page === \"RESUMEN-CAJA\" || page === \"CONSULTAR-CAJA\" ? (\r\n                \"\"\r\n              ) : (\r\n                <TableCell align=\"right\">Opciones</TableCell>\r\n              )}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {ingress.map((ingres) => (\r\n              <IngressList key={ingres.id} ingres={ingres} />\r\n            ))}\r\n            <TableRow>\r\n              <TableCell\r\n                colSpan={\r\n                  page === \"RESUMEN-CAJA\"\r\n                    ? 4\r\n                    : page === \"CONSULTAR-CAJA\"\r\n                    ? 5\r\n                    : 5\r\n                }\r\n              />\r\n              <TableCell>\r\n                <strong>Total</strong>\r\n              </TableCell>\r\n              <TableCell align=\"right\">\r\n                <strong style={{ color: \"green\" }}>\r\n                  {formatMoney(totalHoy)}\r\n                </strong>\r\n              </TableCell>\r\n              {page === \"RESUMEN-CAJA\" || page === \"CONSULTAR-CAJA\" ? (\r\n                \"\"\r\n              ) : (\r\n                <TableCell colSpan={3} />\r\n              )}\r\n            </TableRow>\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default IngressPage;\r\n","import EgressPage from \"./egress.page\";\r\nimport IngressPage from \"./ingress.page\";\r\nimport \"./css/summary-box.css\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport { PagoProvider } from \"../context/caja-context\";\r\nimport { useState } from \"react\";\r\nimport { formatMoney } from \"../lib/currency/money\";\r\n\r\ninterface Option {\r\n  checkMoney?: any;\r\n  resultIngress?: any;\r\n  resultEgress?: any;\r\n}\r\n\r\nconst SummaryBoxPage = ({\r\n  checkMoney,\r\n  resultIngress,\r\n  resultEgress,\r\n}: Option) => {\r\n  const [summaryIngress, setSummaryIngress] = useState({\r\n    ingress: 0,\r\n  });\r\n\r\n  const [summaryEgress, setSummaryEgress] = useState({\r\n    egress: 0,\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <PagoProvider\r\n        value={{\r\n          summaryIngress,\r\n          setSummaryIngress,\r\n          summaryEgress,\r\n          setSummaryEgress,\r\n        }}\r\n      >\r\n        <div className=\"content-tables-i-e\">\r\n          <div className=\"card-table\" style={{ marginRight: \"4%\" }}>\r\n            <IngressPage\r\n              checkMoney={checkMoney}\r\n              resultIngress={resultIngress}\r\n              resultEgress={resultEgress}\r\n            />\r\n          </div>\r\n          <div className=\"card-table\">\r\n            <EgressPage\r\n              checkMoney={checkMoney}\r\n              resultIngress={resultIngress}\r\n              resultEgress={resultEgress}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div style={{ marginTop: 20 }}>\r\n          <TableContainer component={Paper}>\r\n            <Table size=\"small\" aria-label=\"a dense table\">\r\n              <TableBody>\r\n                <TableRow>\r\n                  {/* <TableCell colSpan={page === \"RESUMEN-CAJA\" ? 3 : 6} /> */}\r\n                  <TableCell>\r\n                    <strong>Resumen total</strong>\r\n                  </TableCell>\r\n\r\n                  <TableCell align=\"right\">\r\n                    <strong\r\n                      style={\r\n                        summaryIngress.ingress - summaryEgress.egress < 0\r\n                          ? { color: \"red\" }\r\n                          : { color: \"green\" }\r\n                      }\r\n                    >\r\n                      {summaryIngress.ingress - summaryEgress.egress < 0\r\n                        ? formatMoney(\r\n                            summaryIngress.ingress - summaryEgress.egress\r\n                          )\r\n                        : `+${formatMoney(\r\n                            summaryIngress.ingress - summaryEgress.egress\r\n                          )}`}\r\n                    </strong>\r\n                  </TableCell>\r\n                </TableRow>\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n        </div>\r\n      </PagoProvider>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SummaryBoxPage;\r\n","import { gql, useQuery, useLazyQuery } from \"@apollo/client\";\r\n\r\nconst GET_DATE = gql`\r\n  query getEgressByDates($start: String!, $end: String!) {\r\n    getEgressByDates(start: $start, end: $end) {\r\n      id\r\n      detail\r\n      observation\r\n      units\r\n      amount\r\n      createdAt\r\n      updatedAt\r\n      category {\r\n        name\r\n      }\r\n      user {\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetEgressByDate = () => {\r\n  const [getEgressByDates, { error, loading, data }] = useLazyQuery(GET_DATE);\r\n\r\n  return { getEgressByDates, data, error, loading };\r\n};\r\n","import { gql, useQuery, useLazyQuery } from \"@apollo/client\";\r\n\r\nconst GET_DATE = gql`\r\n  query getIngressByDates($start: String!, $end: String!) {\r\n    getIngressByDates(start: $start, end: $end) {\r\n      id\r\n      detail\r\n      observation\r\n      units\r\n      amount\r\n      createdAt\r\n      updatedAt\r\n      category {\r\n        name\r\n      }\r\n      user {\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetIngressByDate = () => {\r\n  const [getIngressByDates, { error, loading, data }] = useLazyQuery(GET_DATE);\r\n\r\n  return { getIngressByDates, data, error, loading };\r\n};\r\n","import Grid from \"@material-ui/core/Grid\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport RedditTextField from \"../components/textfield/reddit\";\r\nimport moment from \"moment\";\r\nimport { InputChange } from \"../lib/types\";\r\nimport { CheckMoney } from \"../interfaces/check-money.interface\";\r\nimport { useState, useEffect } from \"react\";\r\nimport SummaryBoxPage from \"./summary-box.page\";\r\nimport { loadAccess } from \"../components/acceso/filter-access.component\";\r\nimport { PERMIT_FOUR } from \"../const\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { User } from \"../interfaces/user.interface\";\r\nimport { useGetEgressByDate } from \"../hooks/summary-box/useGetEgerssByDates\";\r\nimport { useGetIngressByDate } from \"../hooks/summary-box/useGetIngressByDates\";\r\nimport { Ingress } from \"../interfaces/ingress.interface\";\r\nimport { Egress } from \"../interfaces/egress.interface\";\r\n\r\nconst CheckMoneyPage = () => {\r\n  const now = moment().utc().local().format(\"YYYY-MM-DD\");\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const { module, page } = useSelector((state: any) => {\r\n    return state.page.user;\r\n  });\r\n\r\n  const optionsIngress = useGetIngressByDate();\r\n  const optionsEgress = useGetEgressByDate();\r\n\r\n  const initialState: CheckMoney = {\r\n    dateStart: now,\r\n    dateEnd: now,\r\n  };\r\n\r\n  const [checkMoney, setCheckMoney] = useState<CheckMoney>(initialState);\r\n  const [resultIngress, setResultIngress] = useState<Ingress[]>([]);\r\n  const [resultEgress, setResultEgress] = useState<Egress[]>([]);\r\n\r\n  const handleInput = (e: InputChange) => {\r\n    setCheckMoney({\r\n      ...checkMoney,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const getIngress = async (start: string | Date, end: string | Date) => {\r\n    try {\r\n      await optionsIngress.getIngressByDates({\r\n        variables: {\r\n          start: start,\r\n          end: end,\r\n        },\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const getEgress = async (start: string | Date, end: string | Date) => {\r\n    try {\r\n      await optionsEgress.getEgressByDates({\r\n        variables: {\r\n          start: start,\r\n          end: end,\r\n        },\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (optionsIngress.data) {\r\n      setResultIngress(optionsIngress?.data?.getIngressByDates || []);\r\n    }\r\n    if (optionsEgress.data) {\r\n      setResultEgress(optionsEgress?.data?.getEgressByDates || []);\r\n    }\r\n  }, [optionsIngress.data, optionsEgress.data]);\r\n\r\n  const showData = () => (\r\n    <>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={3}>\r\n          <RedditTextField\r\n            fullWidth\r\n            type=\"date\"\r\n            onChange={handleInput}\r\n            name=\"dateStart\"\r\n            autoComplete=\"off\"\r\n            id=\"idStart\"\r\n            label=\"Desde\"\r\n            variant=\"filled\"\r\n            value={checkMoney.dateStart}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={3}>\r\n          <RedditTextField\r\n            fullWidth\r\n            type=\"date\"\r\n            onChange={handleInput}\r\n            name=\"dateEnd\"\r\n            autoComplete=\"off\"\r\n            id=\"idEnd\"\r\n            label=\"Hasta\"\r\n            variant=\"filled\"\r\n            value={checkMoney.dateEnd}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={3} style={{ display: \"flex\", alignItems: \"center\" }}>\r\n          <Button\r\n            onClick={() =>\r\n              getIngress(checkMoney.dateStart, checkMoney.dateEnd) &&\r\n              getEgress(checkMoney.dateStart, checkMoney.dateEnd)\r\n            }\r\n            variant=\"contained\"\r\n            size=\"large\"\r\n            color=\"primary\"\r\n          >\r\n            Consultar\r\n          </Button>\r\n        </Grid>\r\n        {/* {optionsIngress!.data &&\r\n          alert(optionsIngress!.data.getIngressByDates[0].detail)} */}\r\n      </Grid>\r\n      <SummaryBoxPage\r\n        checkMoney={checkMoney}\r\n        resultIngress={resultIngress}\r\n        resultEgress={resultEgress}\r\n      />\r\n    </>\r\n  );\r\n\r\n  return <>{loadAccess(PERMIT_FOUR, auth, module, showData)}</>;\r\n};\r\n\r\nexport default CheckMoneyPage;\r\n","import { gql, useQuery, useLazyQuery } from \"@apollo/client\";\r\n\r\nconst GET_BRANDS_BY_CATEGORY = gql`\r\n  query getBrandsByCategory($category: String!) {\r\n    getBrandsByCategory(category: $category) {\r\n      id\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetBrandsByCategory = (category: string) => {\r\n  const { error, loading, data } = useQuery(GET_BRANDS_BY_CATEGORY, {\r\n    variables: { category },\r\n  });\r\n\r\n  return { data, error, loading };\r\n};\r\n","import { gql, useQuery } from \"@apollo/client\";\r\n\r\nconst GET_MODELS_BY_BRAND = gql`\r\n  query getModelsByBrand($brand: String!) {\r\n    getModelsByBrand(brand: $brand) {\r\n      id\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetModelsByBrand = (brand: string) => {\r\n  const { error, loading, data } = useQuery(GET_MODELS_BY_BRAND, {\r\n    variables: { brand },\r\n  });\r\n\r\n  return { data, error, loading };\r\n};\r\n","import { gql, useQuery } from \"@apollo/client\";\r\n\r\nconst GET_PRODUCTS_BY_CMM = gql`\r\n  query getProductsByCategoryBrandModel(\r\n    $category: String!\r\n    $brand: String!\r\n    $model: String!\r\n  ) {\r\n    getProductsByCategoryBrandModel(\r\n      category: $category\r\n      brand: $brand\r\n      model: $model\r\n    ) {\r\n      id\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetProductsCMM = (\r\n  category: string,\r\n  brand: string,\r\n  model: string\r\n) => {\r\n  const { error, loading, data } = useQuery(GET_PRODUCTS_BY_CMM, {\r\n    variables: {\r\n      category: category,\r\n      brand: brand,\r\n      model: model,\r\n    },\r\n  });\r\n\r\n  return { data, error, loading };\r\n};\r\n","import { gql, useQuery, useLazyQuery } from \"@apollo/client\";\r\n\r\nconst GET_PRODUCTS_BY_NAME = gql`\r\n  query getProductByName($product: String!) {\r\n    getProductByName(product: $product) {\r\n      id\r\n      name\r\n      description\r\n      price\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetProductByName = () => {\r\n  const [getProductByName, { error, loading, data }] =\r\n    useLazyQuery(GET_PRODUCTS_BY_NAME);\r\n\r\n  return { getProductByName, data, error, loading };\r\n};\r\n","import { gql, useQuery, useLazyQuery } from \"@apollo/client\";\r\n\r\nconst GET_SERVICES_BY_CATEGORY = gql`\r\n  query getServicesByCategory($category: String!) {\r\n    getServicesByCategory(category: $category) {\r\n      id\r\n      name\r\n      description\r\n      price\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetServicesByCategory = (category: string) => {\r\n  const { error, loading, data } = useQuery(GET_SERVICES_BY_CATEGORY, {\r\n    variables: { category },\r\n  });\r\n\r\n  return { data, error, loading };\r\n};\r\n","import { gql, useQuery, useLazyQuery } from \"@apollo/client\";\r\n\r\nconst GET_SERVICE_BY_NAME = gql`\r\n  query getServiceByName($service: String!) {\r\n    getServiceByName(service: $service) {\r\n      id\r\n      name\r\n      description\r\n      price\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetServiceByName = () => {\r\n  const [getServiceByName, { error, loading, data }] =\r\n    useLazyQuery(GET_SERVICE_BY_NAME);\r\n\r\n  return { getServiceByName, data, error, loading };\r\n};\r\n","/* eslint-disable no-use-before-define */\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport RedditTextField from \"../components/textfield/reddit\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { loadAccess } from \"../components/acceso/filter-access.component\";\r\nimport { PERMIT_FOUR } from \"../const\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { User } from \"../interfaces/user.interface\";\r\nimport { CheckProduct } from \"../interfaces/check-product.interface\";\r\nimport { InputChange } from \"../lib/types\";\r\nimport { useState, useCallback, useEffect } from \"react\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport { AutoCompleteInput } from \"../interfaces/autocompleteinput.interface\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { Model } from \"../interfaces/model.interface\";\r\nimport { useGetCategorys } from \"../hooks/category/useGetCategorys\";\r\nimport { useGetBrandsByCategory } from \"../hooks/brand/useBrandsByCategory\";\r\nimport { useGetModelsByBrand } from \"../hooks/model/useGetModelsByBrand\";\r\nimport { Category } from \"../interfaces/category.interface\";\r\nimport { Brand } from \"../interfaces/brand.interface\";\r\nimport { useGetProductsCMM } from \"../hooks/product/useGetProductByCMM\";\r\nimport { Product } from \"../interfaces/product.interface\";\r\nimport { useGetProductByName } from \"../hooks/product/useProductByName\";\r\nimport Progress from \"../components/progress/progress\";\r\nimport { formatMoney } from \"../lib/currency/money\";\r\nimport Radio from \"@material-ui/core/Radio\";\r\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport { Service } from \"../interfaces/service.interface\";\r\nimport { useGetServicesByCategory } from \"../hooks/service/useGetServicesByCategory\";\r\nimport { useGetServiceByName } from \"../hooks/service/useServiceByName\";\r\n\r\nconst initialAutoCompleteInput = {\r\n  category: \"\",\r\n  brand: \"\",\r\n  model: \"\",\r\n  product: \"\",\r\n  service: \"\",\r\n};\r\n\r\nconst initialState: CheckProduct = {\r\n  category: \"\",\r\n  brand: \"\",\r\n  model: \"\",\r\n  product: \"\",\r\n  service: \"\",\r\n};\r\n\r\nconst intialValue = {\r\n  product: true,\r\n  service: false,\r\n};\r\n\r\nconst CheckProducts = () => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const { module, page } = useSelector((state: any) => {\r\n    return state.page.user;\r\n  });\r\n\r\n  const [checkProduct, setCheckProduct] = useState<CheckProduct>(initialState);\r\n  const [valueInput, setValueInput] = useState<AutoCompleteInput>(\r\n    initialAutoCompleteInput\r\n  );\r\n  const [categorys, setCategorys] = useState<Category[]>([]);\r\n  const [brands, setBrands] = useState<Brand[]>([]);\r\n  const [models, setModels] = useState<Model[]>([]);\r\n  const [products, setProducts] = useState<Product[]>([]);\r\n  const [services, setServices] = useState<Service[]>([]);\r\n  const [isActiveRadio, setActiveRadio] = useState(intialValue);\r\n  const { data } = useGetCategorys();\r\n  const optionsGetBrandsByCategory = useGetBrandsByCategory(\r\n    checkProduct.category || \"\"\r\n  );\r\n  const optionsGetServiceByCategory = useGetServicesByCategory(\r\n    checkProduct.category || \"\"\r\n  );\r\n  const optionsGetModelsByBrand = useGetModelsByBrand(checkProduct.brand || \"\");\r\n  const optionsGetProductsCMM = useGetProductsCMM(\r\n    checkProduct.category || \"\",\r\n    checkProduct.brand || \"\",\r\n    checkProduct.model || \"\"\r\n  );\r\n\r\n  const optionGetProduct = useGetProductByName();\r\n  const optionGetService = useGetServiceByName();\r\n\r\n  const dataCategorys = useCallback(() => {\r\n    setCategorys(data?.getCategorys || []);\r\n  }, [data]);\r\n\r\n  const changeBrandByCategory = useCallback(() => {\r\n    setBrands(optionsGetBrandsByCategory?.data?.getBrandsByCategory || []);\r\n  }, [optionsGetBrandsByCategory]);\r\n\r\n  const changeServiceByCategory = useCallback(() => {\r\n    setServices(optionsGetServiceByCategory?.data?.getServicesByCategory || []);\r\n  }, [optionsGetServiceByCategory]);\r\n\r\n  const changeModelByBrand = useCallback(() => {\r\n    setModels(optionsGetModelsByBrand?.data?.getModelsByBrand || []);\r\n  }, [optionsGetModelsByBrand]);\r\n\r\n  const changeProductCMM = useCallback(() => {\r\n    setProducts(\r\n      optionsGetProductsCMM?.data?.getProductsByCategoryBrandModel || []\r\n    );\r\n  }, [optionsGetProductsCMM]);\r\n\r\n  const getProduct = async (product: string | undefined) => {\r\n    try {\r\n      await optionGetProduct.getProductByName({\r\n        variables: {\r\n          product: product,\r\n        },\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const getService = async (service: string | undefined) => {\r\n    try {\r\n      await optionGetService.getServiceByName({\r\n        variables: {\r\n          service: service,\r\n        },\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const handleChangeRadio = (e: any) => {\r\n    if (e.target.name === \"product\") {\r\n      setActiveRadio({\r\n        product: isActiveRadio.service,\r\n        service: !isActiveRadio.service,\r\n      });\r\n    } else {\r\n      setActiveRadio({\r\n        product: !isActiveRadio.product,\r\n        service: isActiveRadio.product,\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    dataCategorys();\r\n    changeBrandByCategory();\r\n    changeModelByBrand();\r\n    changeProductCMM();\r\n    changeServiceByCategory();\r\n  }, [\r\n    dataCategorys,\r\n    changeBrandByCategory,\r\n    changeModelByBrand,\r\n    changeProductCMM,\r\n    changeServiceByCategory,\r\n  ]);\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        style={{\r\n          background: \"#fff\",\r\n          borderRadius: 6,\r\n          border: \"1px solid #e2e2e1\",\r\n        }}\r\n      >\r\n        <div style={{ margin: \"20px 20px 0px 20px\" }}>\r\n          <RadioGroup row aria-label=\"position\" onChange={handleChangeRadio}>\r\n            <FormControlLabel\r\n              value=\"product\"\r\n              checked={isActiveRadio.product}\r\n              control={<Radio color=\"primary\" name=\"product\" />}\r\n              label=\"Producto\"\r\n            />\r\n            <FormControlLabel\r\n              value=\"service\"\r\n              checked={isActiveRadio.service}\r\n              control={<Radio color=\"primary\" name=\"service\" />}\r\n              label=\"Servicio\"\r\n            />\r\n          </RadioGroup>\r\n        </div>\r\n\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            padding: 20,\r\n          }}\r\n        >\r\n          <div style={{ width: \"50%\" }}>\r\n            <Grid\r\n              container\r\n              spacing={3}\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n              }}\r\n            >\r\n              <Grid item xs={12}>\r\n                <Autocomplete\r\n                  id=\"idCategory\"\r\n                  onChange={(event, value) => {\r\n                    setCheckProduct({\r\n                      ...checkProduct,\r\n                      category: value?.name || \"\",\r\n                      brand: \"\",\r\n                      model: \"\",\r\n                      product: \"\",\r\n                    });\r\n                    setValueInput({\r\n                      ...valueInput,\r\n                      brand: \"\",\r\n                      model: \"\",\r\n                    });\r\n                  }}\r\n                  onInputChange={(e, newValue) => {\r\n                    setValueInput({ ...valueInput, category: newValue });\r\n                  }}\r\n                  options={categorys}\r\n                  getOptionLabel={(category) => category.name}\r\n                  getOptionSelected={(option, value) =>\r\n                    option.name === value.name\r\n                  }\r\n                  renderInput={(params) => (\r\n                    <TextField\r\n                      {...params}\r\n                      name=\"category\"\r\n                      label=\"Categoria\"\r\n                      variant=\"outlined\"\r\n                    />\r\n                  )}\r\n                />\r\n              </Grid>\r\n\r\n              {isActiveRadio.product ? (\r\n                <>\r\n                  <Grid item xs={12}>\r\n                    <Autocomplete\r\n                      id=\"idBrand\"\r\n                      onChange={(event, value) => {\r\n                        setCheckProduct({\r\n                          ...checkProduct,\r\n                          brand: value?.name || \"\",\r\n                          model: \"\",\r\n                          product: \"\",\r\n                        });\r\n                        setValueInput({\r\n                          ...valueInput,\r\n                          model: \"\",\r\n                          product: \"\",\r\n                        });\r\n                      }}\r\n                      onInputChange={(e, newValue) => {\r\n                        setValueInput({ ...valueInput, brand: newValue });\r\n                      }}\r\n                      options={brands}\r\n                      getOptionLabel={(brand) => brand.name}\r\n                      getOptionSelected={(option, value) =>\r\n                        option.name === value.name\r\n                      }\r\n                      renderInput={(params) => (\r\n                        <TextField\r\n                          {...params}\r\n                          name=\"brand\"\r\n                          label=\"Marca\"\r\n                          variant=\"outlined\"\r\n                        />\r\n                      )}\r\n                    />\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12}>\r\n                    <Autocomplete\r\n                      id=\"idModel\"\r\n                      onChange={(event, value) => {\r\n                        setCheckProduct({\r\n                          ...checkProduct,\r\n                          model: value?.name || \"\",\r\n                          product: \"\",\r\n                        });\r\n                        setValueInput({\r\n                          ...valueInput,\r\n                          product: \"\",\r\n                        });\r\n                      }}\r\n                      onInputChange={(e, newValue) => {\r\n                        setValueInput({ ...valueInput, model: newValue });\r\n                      }}\r\n                      options={models}\r\n                      getOptionLabel={(model) => model.name}\r\n                      getOptionSelected={(option, value) =>\r\n                        option.name === value.name\r\n                      }\r\n                      renderInput={(params) => (\r\n                        <TextField\r\n                          {...params}\r\n                          name=\"model\"\r\n                          label=\"Modelo\"\r\n                          variant=\"outlined\"\r\n                        />\r\n                      )}\r\n                    />\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12}>\r\n                    <Autocomplete\r\n                      id=\"idProduct\"\r\n                      onChange={(event, value) => {\r\n                        setCheckProduct({\r\n                          ...checkProduct,\r\n                          product: value?.name || \"\",\r\n                        });\r\n                      }}\r\n                      onInputChange={(e, newValue) => {\r\n                        setValueInput({ ...valueInput, product: newValue });\r\n                      }}\r\n                      options={products}\r\n                      getOptionLabel={(product) => product.name}\r\n                      getOptionSelected={(option, value) =>\r\n                        option.name === value.name\r\n                      }\r\n                      renderInput={(params) => (\r\n                        <TextField\r\n                          {...params}\r\n                          name=\"product\"\r\n                          label=\"Productos\"\r\n                          variant=\"outlined\"\r\n                        />\r\n                      )}\r\n                    />\r\n                  </Grid>\r\n                </>\r\n              ) : (\r\n                <Grid item xs={12}>\r\n                  <Autocomplete\r\n                    id=\"idService\"\r\n                    onChange={(event, value) => {\r\n                      setCheckProduct({\r\n                        ...checkProduct,\r\n                        service: value?.name || \"\",\r\n                      });\r\n                    }}\r\n                    onInputChange={(e, newValue) => {\r\n                      setValueInput({ ...valueInput, service: newValue });\r\n                    }}\r\n                    options={services}\r\n                    getOptionLabel={(service) => service.name}\r\n                    getOptionSelected={(option, value) =>\r\n                      option.name === value.name\r\n                    }\r\n                    renderInput={(params) => (\r\n                      <TextField\r\n                        {...params}\r\n                        name=\"service\"\r\n                        label=\"Servicios\"\r\n                        variant=\"outlined\"\r\n                      />\r\n                    )}\r\n                  />\r\n                </Grid>\r\n              )}\r\n              {isActiveRadio.product ? (\r\n                <Grid item xs={12}>\r\n                  {optionGetProduct.loading ? (\r\n                    <Progress />\r\n                  ) : (\r\n                    <Button\r\n                      fullWidth\r\n                      type=\"button\"\r\n                      onClick={() => getProduct(valueInput.product)}\r\n                      color=\"primary\"\r\n                      variant=\"contained\"\r\n                    >\r\n                      Consultar\r\n                    </Button>\r\n                  )}\r\n                </Grid>\r\n              ) : (\r\n                <Grid item xs={12}>\r\n                  {optionGetService.loading ? (\r\n                    <Progress />\r\n                  ) : (\r\n                    <Button\r\n                      fullWidth\r\n                      type=\"button\"\r\n                      onClick={() => getService(valueInput.service)}\r\n                      color=\"primary\"\r\n                      variant=\"contained\"\r\n                    >\r\n                      Consultar\r\n                    </Button>\r\n                  )}\r\n                </Grid>\r\n              )}\r\n            </Grid>\r\n          </div>\r\n          <div\r\n            style={{\r\n              width: \"50%\",\r\n              padding: \"0px 0px 0px 20px\",\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                height: \"80%\",\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n              }}\r\n            >\r\n              <div\r\n                style={{\r\n                  height: \"10%\",\r\n                  display: \"flex\",\r\n                  justifyContent: \"center\",\r\n                  background: optionGetProduct!.data\r\n                    ? \"yellow\"\r\n                    : optionGetService!.data\r\n                    ? \"yellow\"\r\n                    : \"#fff\",\r\n                }}\r\n              >\r\n                <strong>\r\n                  {isActiveRadio.product\r\n                    ? optionGetProduct!.data &&\r\n                      `Descripción del producto ${\r\n                        optionGetProduct!.data.getProductByName.name\r\n                      }`\r\n                    : optionGetService!.data &&\r\n                      `Descripción del servicio ${\r\n                        optionGetService!.data.getServiceByName.name\r\n                      }`}\r\n                </strong>\r\n              </div>\r\n              <div\r\n                style={{\r\n                  height: \"90%\",\r\n                  display: \"flex\",\r\n                  justifyContent: \"center\",\r\n                  wordBreak: \"break-all\",\r\n                  fontSize: \"15px\",\r\n                  alignItems: \"center\",\r\n                }}\r\n              >\r\n                {isActiveRadio.product\r\n                  ? optionGetProduct!.data &&\r\n                    optionGetProduct!.data.getProductByName.description\r\n                  : optionGetService!.data &&\r\n                    optionGetService!.data.getServiceByName.description}\r\n              </div>\r\n            </div>\r\n            <div\r\n              style={{\r\n                height: \"20%\",\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n              }}\r\n            >\r\n              <label style={{ fontSize: 75 }}>\r\n                {isActiveRadio.product\r\n                  ? optionGetProduct!.data &&\r\n                    formatMoney(optionGetProduct!.data.getProductByName.price)\r\n                  : optionGetService!.data &&\r\n                    formatMoney(optionGetService!.data.getServiceByName.price)}\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CheckProducts;\r\n","import { gql, useQuery } from \"@apollo/client\";\r\n\r\nexport const GET_CUSTOMERS = gql`\r\n  query getCustomer {\r\n    getCustomer {\r\n      id\r\n      name\r\n      lastName\r\n      document\r\n      numDocument\r\n      cellphone_1\r\n      cellphone_2\r\n      direction\r\n      username\r\n      password\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetCustomers = () => {\r\n  const { data, error, loading } = useQuery(GET_CUSTOMERS);\r\n\r\n  return { data, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Customer } from \"../../interfaces/customer.interface\";\r\nimport { GET_CUSTOMERS } from \"./useGetCustomer\";\r\n\r\ninterface UpdateCustomerInput {\r\n  variables: {\r\n    customerInput: Customer;\r\n  };\r\n}\r\n\r\nconst UPDATE_CUSTOMER = gql`\r\n  mutation updateCustomer($customerInput: UpdateCustomerInput!) {\r\n    updateCustomer(customerInput: $customerInput) {\r\n      id\r\n      name\r\n      lastName\r\n      document\r\n      numDocument\r\n      cellphone_1\r\n      cellphone_2\r\n      direction\r\n      username\r\n      password\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useUpdateCustomer = () => {\r\n  const [updateCustomer, { error, loading }] = useMutation(UPDATE_CUSTOMER, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_CUSTOMERS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { updateCustomer, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Customer } from \"../../interfaces/customer.interface\";\r\nimport { GET_CUSTOMERS } from \"./useGetCustomer\";\r\n\r\ninterface CreateCustomerInput {\r\n  variables: {\r\n    customerInput: Customer;\r\n  };\r\n}\r\n\r\nconst CREATE_CUSTOMER = gql`\r\n  mutation registerCustomer($customerInput: CreateCustomerInput!) {\r\n    registerCustomer(customerInput: $customerInput) {\r\n      id\r\n      name\r\n      lastName\r\n      document\r\n      numDocument\r\n      cellphone_1\r\n      cellphone_2\r\n      direction\r\n      username\r\n      password\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useCreateCustomer = () => {\r\n  const [registerCustomer, { error, loading }] = useMutation(CREATE_CUSTOMER, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_CUSTOMERS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { registerCustomer, error, loading };\r\n};\r\n","import axios from \"axios\";\r\nimport { API_RENIEC } from \"../const\";\r\nimport { Person } from \"../interfaces/person.interface\";\r\n\r\nexport const getPerson = async (document: string) => {\r\n  return await axios.get<Person>(`${API_RENIEC}${document}`);\r\n};\r\n","import axios from \"axios\";\r\nimport { API_SUNAT } from \"../const\";\r\nimport { Company } from \"../interfaces/company.interface\";\r\n\r\nexport const getCompany = async (document: string) => {\r\n  return await axios.get<Company>(`${API_SUNAT}${document}`);\r\n};\r\n","import { makeStyles, createStyles, Theme } from \"@material-ui/core/styles\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    backdrop: {\r\n      zIndex: theme.zIndex.drawer + 1,\r\n      color: \"#fff\",\r\n    },\r\n  })\r\n);\r\n\r\ninterface Options {\r\n  handleClose?: () => void;\r\n  state: boolean;\r\n}\r\n\r\nconst BackDrop = ({ state, handleClose }: Options) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <Backdrop className={classes.backdrop} open={state} onClick={handleClose}>\r\n      <CircularProgress color=\"inherit\" />\r\n    </Backdrop>\r\n  );\r\n};\r\n\r\nexport default BackDrop;\r\n","import { Customer } from \"../../interfaces/customer.interface\";\r\nimport {\r\n  FormChange,\r\n  InputChange,\r\n  OnKeyUp,\r\n  SelectChange,\r\n} from \"../../lib/types\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { useState } from \"react\";\r\nimport RedditTextField from \"../textfield/reddit\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Progress from \"../progress/progress\";\r\nimport { useUpdateCustomer } from \"../../hooks/customer/useUpdateCustomer\";\r\nimport { useCreateCustomer } from \"../../hooks/customer/useCreateCustomer\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\nimport { Person } from \"../../interfaces/person.interface\";\r\nimport { Company } from \"../../interfaces/company.interface\";\r\nimport { getPerson } from \"../../services/api-reniec\";\r\nimport { getCompany } from \"../../services/api-sunat\";\r\nimport BackDrop from \"../backdrop/backdrop\";\r\n\r\ninterface Option {\r\n  handleClose?: () => void;\r\n  customer?: Customer;\r\n}\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst CustomerForm = ({ handleClose, customer }: Option) => {\r\n  const initialStateCreate: Customer = {\r\n    name: \"\",\r\n    lastName: \"\",\r\n    document: \"DNI\",\r\n    numDocument: \"\",\r\n    cellphone_1: \"\",\r\n    username: \"\",\r\n    password: \"\",\r\n  };\r\n\r\n  const initialStateUpdate: Customer = {\r\n    id: customer?.id || \"\",\r\n    name: customer?.name || \"\",\r\n    lastName: customer?.lastName || \"\",\r\n    document: customer?.document || \"\",\r\n    numDocument: customer?.numDocument || \"\",\r\n    cellphone_1: customer?.cellphone_1 || \"\",\r\n    cellphone_2: customer?.cellphone_2 || undefined,\r\n    direction: customer?.direction || undefined,\r\n    username: customer?.username || \"\",\r\n    password: customer?.password || \"\",\r\n  };\r\n\r\n  const [customerForm, setCustomerForm] = useState<Customer>(\r\n    initialStateUpdate.id ? initialStateUpdate : initialStateCreate\r\n  );\r\n  const [isActive, setActive] = useState<boolean>(false);\r\n  const dispatch = useDispatch();\r\n  const optionsUpdate = useUpdateCustomer();\r\n  const optionsCreate = useCreateCustomer();\r\n\r\n  const handleInput = (e: InputChange) => {\r\n    if (e.target.name === \"direction\" || e.target.name === \"cellphone_2\") {\r\n      setCustomerForm({\r\n        ...customerForm,\r\n        [e.target.name]: e.target.value === \"\" ? undefined : e.target.value,\r\n      });\r\n    } else {\r\n      setCustomerForm({\r\n        ...customerForm,\r\n        [e.target.name]: e.target.value,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSelect = (e: SelectChange) => {\r\n    setCustomerForm({\r\n      ...customerForm,\r\n      [e.target.name]: e.target.value,\r\n      name: \"\",\r\n      lastName: \"\",\r\n      numDocument: \"\",\r\n      direction:\r\n        customerForm.document === \"RUC\" ? undefined : customerForm.direction,\r\n    });\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n\r\n    if (customerForm.id) {\r\n      try {\r\n        await optionsUpdate.updateCustomer({\r\n          variables: {\r\n            customerInput: customerForm,\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"La cliente se actualizó correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      try {\r\n        await optionsCreate.registerCustomer({\r\n          variables: {\r\n            customerInput: customerForm,\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"La cliente ha sido registrado correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  const findRucbyType = (e: any) => {\r\n    const str = e.target.value.substr(0, 2);\r\n    if (str === \"10\") {\r\n      dispatch(setAlert(initialAlert));\r\n      return \"PERSONA NATURAL\";\r\n    }\r\n    if (str === \"20\") {\r\n      dispatch(setAlert(initialAlert));\r\n      return \"PERSONA JURIDICA\";\r\n    }\r\n  };\r\n\r\n  const valiadateRUC = (e: any): boolean => {\r\n    let result = false;\r\n    const str = e.target.value.substr(0, 2);\r\n    if (str === \"10\" || str === \"20\") {\r\n      result = false;\r\n    } else {\r\n      dispatch(\r\n        setAlert({\r\n          type: \"error\",\r\n          text: \"Solo existe dos tipos de RUC. Persona natural(10) y Persona Juridica(20).\",\r\n        })\r\n      );\r\n      setActive(false);\r\n    }\r\n    return result;\r\n  };\r\n\r\n  const handleKeyUp = async (e: OnKeyUp) => {\r\n    if (customerForm.document === \"DNI\") {\r\n      if (e.target.value.length > 7 && e.target.value.length < 9) {\r\n        setActive(true);\r\n        try {\r\n          const dataPerson: any = await getPerson(e.target.value);\r\n          const person: Person = dataPerson.data.result;\r\n\r\n          if (!person!.Nombre && !person!.Paterno && !person!.Materno) {\r\n            dispatch(\r\n              setAlert({\r\n                type: \"error\",\r\n                text: \"No se ha encontrado a la persona. Verifique el nro de documento.\",\r\n              })\r\n            );\r\n            setActive(false);\r\n            return;\r\n          } else {\r\n            dispatch(setAlert(initialAlert));\r\n          }\r\n\r\n          setCustomerForm({\r\n            ...customerForm,\r\n            name: person!.Nombre || \"\",\r\n            lastName: person!.Paterno + \" \" + person!.Materno || \"\",\r\n          });\r\n\r\n          setActive(false);\r\n        } catch (e) {\r\n          alert(e);\r\n          setActive(false);\r\n        }\r\n      }\r\n    } else if (customerForm.document === \"RUC\") {\r\n      if (e.target.value.length > 10 && e.target.value.length < 12) {\r\n        setActive(true);\r\n\r\n        if (valiadateRUC(e)) {\r\n          return;\r\n        }\r\n        try {\r\n          const dataCompany: any = await getCompany(e.target.value);\r\n          const company: Company = dataCompany.data.result;\r\n\r\n          if (!company!.RazonSocial) {\r\n            dispatch(\r\n              setAlert({\r\n                type: \"error\",\r\n                text: \"No se ha encontrado Razon social. Verifique el nro de documento\",\r\n              })\r\n            );\r\n            setActive(false);\r\n            return;\r\n          } else {\r\n            dispatch(setAlert(initialAlert));\r\n          }\r\n\r\n          setCustomerForm({\r\n            ...customerForm,\r\n            name: company!.RazonSocial || \"\",\r\n            lastName: findRucbyType(e),\r\n            direction:\r\n              company!.Direccion === \"-\"\r\n                ? \"SIN DIRECCION\"\r\n                : company!.Direccion || \"\",\r\n          });\r\n\r\n          setActive(false);\r\n        } catch (e) {\r\n          alert(e);\r\n          setActive(false);\r\n        }\r\n      }\r\n    } else {\r\n      dispatch(\r\n        setAlert({\r\n          type: \"error\",\r\n          text: \"Seleccione un documento válido.\",\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {isActive && <BackDrop state={isActive} />}\r\n      <form onSubmit={onSubmit}>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12}>\r\n            <FormControl variant=\"outlined\" fullWidth>\r\n              <InputLabel id=\"idDocument\">Documento</InputLabel>\r\n              <Select\r\n                labelId=\"Document\"\r\n                id=\"idDocument\"\r\n                value={customerForm.document}\r\n                onChange={handleSelect}\r\n                label=\"Documento\"\r\n                name=\"document\"\r\n              >\r\n                <MenuItem value=\"DNI\">DNI</MenuItem>\r\n                <MenuItem value=\"RUC\">RUC</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <RedditTextField\r\n              fullWidth\r\n              onKeyUp={handleKeyUp}\r\n              type=\"text\"\r\n              onChange={handleInput}\r\n              name=\"numDocument\"\r\n              autoComplete=\"off\"\r\n              id=\"idNumDocument\"\r\n              label=\"Nro de documento\"\r\n              variant=\"filled\"\r\n              value={customerForm.numDocument}\r\n            />\r\n          </Grid>\r\n          {customerForm.document === \"RUC\" ? (\r\n            <>\r\n              <Grid item xs={12}>\r\n                <RedditTextField\r\n                  fullWidth\r\n                  type=\"text\"\r\n                  onChange={handleInput}\r\n                  name=\"name\"\r\n                  autoComplete=\"off\"\r\n                  id=\"idName\"\r\n                  label={\r\n                    customerForm.document === \"RUC\" ? \"Razon social\" : \"Nombres\"\r\n                  }\r\n                  variant=\"filled\"\r\n                  value={customerForm.name}\r\n                />\r\n              </Grid>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Grid item xs={6}>\r\n                <RedditTextField\r\n                  fullWidth\r\n                  type=\"text\"\r\n                  onChange={handleInput}\r\n                  name=\"name\"\r\n                  autoComplete=\"off\"\r\n                  id=\"idName\"\r\n                  label=\"Nombres\"\r\n                  variant=\"filled\"\r\n                  value={customerForm.name}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n                <RedditTextField\r\n                  fullWidth\r\n                  type=\"text\"\r\n                  onChange={handleInput}\r\n                  name=\"lastName\"\r\n                  autoComplete=\"off\"\r\n                  id=\"idLastName\"\r\n                  label=\"Apellidos\"\r\n                  variant=\"filled\"\r\n                  value={customerForm.lastName}\r\n                />\r\n              </Grid>\r\n            </>\r\n          )}\r\n\r\n          <Grid item xs={6}>\r\n            <RedditTextField\r\n              fullWidth\r\n              type=\"text\"\r\n              onChange={handleInput}\r\n              name=\"cellphone_1\"\r\n              autoComplete=\"off\"\r\n              id=\"idCellphone1\"\r\n              label=\"Celular\"\r\n              variant=\"filled\"\r\n              value={customerForm.cellphone_1}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={6}>\r\n            <RedditTextField\r\n              fullWidth\r\n              type=\"text\"\r\n              onChange={handleInput}\r\n              name=\"cellphone_2\"\r\n              autoComplete=\"off\"\r\n              id=\"idCellphonen2\"\r\n              label=\"Celular (opcional)\"\r\n              variant=\"filled\"\r\n              value={customerForm.cellphone_2}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <RedditTextField\r\n              fullWidth\r\n              type=\"text\"\r\n              onChange={handleInput}\r\n              name=\"direction\"\r\n              autoComplete=\"off\"\r\n              id=\"idDirection\"\r\n              label=\"Direccion (opcional)\"\r\n              variant=\"filled\"\r\n              value={customerForm.direction || \"\"}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={6}>\r\n            <RedditTextField\r\n              fullWidth\r\n              type=\"text\"\r\n              onChange={handleInput}\r\n              name=\"username\"\r\n              autoComplete=\"off\"\r\n              id=\"idUserame\"\r\n              label=\"Usuario\"\r\n              variant=\"filled\"\r\n              value={customerForm.username}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={6}>\r\n            <RedditTextField\r\n              fullWidth\r\n              type=\"text\"\r\n              onChange={handleInput}\r\n              name=\"password\"\r\n              autoComplete=\"off\"\r\n              id=\"idPassword\"\r\n              label=\"Contraseña\"\r\n              variant=\"filled\"\r\n              value={customerForm.password}\r\n            />\r\n          </Grid>\r\n          <DialogActions style={{ width: \"100%\" }}>\r\n            <Button onClick={handleClose} color=\"primary\">\r\n              Cancelar\r\n            </Button>\r\n            {customerForm.id ? (\r\n              optionsUpdate.loading ? (\r\n                <Progress />\r\n              ) : (\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  autoFocus\r\n                  variant=\"contained\"\r\n                >\r\n                  Actualizar\r\n                </Button>\r\n              )\r\n            ) : optionsCreate.loading ? (\r\n              <Progress />\r\n            ) : (\r\n              <Button\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                autoFocus\r\n                variant=\"contained\"\r\n              >\r\n                Registrar\r\n              </Button>\r\n            )}\r\n          </DialogActions>\r\n        </Grid>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CustomerForm;\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { GET_CUSTOMERS } from \"./useGetCustomer\";\r\n\r\nconst DELETE_CUSTOMER = gql`\r\n  mutation deleteCustomer($id: String!) {\r\n    deleteCustomer(id: $id)\r\n  }\r\n`;\r\n\r\nexport const useDeleteCustomer = () => {\r\n  const [deleteCustomer, { error, loading }] = useMutation(DELETE_CUSTOMER, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_CUSTOMERS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { deleteCustomer, error, loading };\r\n};\r\n","import { Customer } from \"../../interfaces/customer.interface\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport DialogForm from \"../dialog/dialog.component\";\r\nimport { useState } from \"react\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport { Dialog } from \"../../interfaces/dialog.interface\";\r\nimport CustomerForm from \"./customer-form\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport HighlightOffRoundedIcon from \"@material-ui/icons/HighlightOffRounded\";\r\nimport { PERMIT_FOUR, PERMIT_TREE, PERMIT_TWO } from \"../../const\";\r\nimport { loadAccess } from \"../acceso/filter-access.component\";\r\nimport moment from \"moment\";\r\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\r\nimport { useDeleteCustomer } from \"../../hooks/customer/useDeleteCustomer\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst CustomerList = ({ customer }: { customer: Customer }) => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n  const optionsCustomer = useDeleteCustomer();\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Cliente\":\r\n        return <CustomerForm customer={customer} handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const deleteCustomer = async (id: string | undefined) => {\r\n    try {\r\n      await optionsCustomer.deleteCustomer({\r\n        variables: {\r\n          id,\r\n        },\r\n      });\r\n    } catch (e) {\r\n      setDialog({ name: \"error\", active: true });\r\n      dispatch(\r\n        setAlert({\r\n          type: \"error\",\r\n          text: findError(e),\r\n        })\r\n      );\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={dialog.name}\r\n        handleClose={handleClose}\r\n      />;\r\n    }\r\n  };\r\n\r\n  const showOptionsForDelete = () => (\r\n    <>\r\n      <Tooltip\r\n        title=\"Eliminar Cliente\"\r\n        onClick={() => deleteCustomer(customer.id)}\r\n      >\r\n        <IconButton aria-label=\"customer\" size=\"small\">\r\n          <HighlightOffRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showOptionsForEdit = () => (\r\n    <>\r\n      <Tooltip\r\n        title=\"Editar Cliente\"\r\n        onClick={() => setDialog({ name: \"Cliente\", active: true })}\r\n      >\r\n        <IconButton aria-label=\"customer\" size=\"small\">\r\n          <EditRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showData = () => (\r\n    <>\r\n      <TableRow>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {`${customer.name} ${\r\n            customer.document === \"RUC\" ? \"\" : customer.lastName\r\n          }`}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {customer.document}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {customer.numDocument}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {customer.cellphone_2\r\n            ? `${customer.cellphone_1}, ${customer.cellphone_2}`\r\n            : `${customer.cellphone_1}`}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {customer.direction}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\" align=\"center\">\r\n          {customer.username}/{customer.password}\r\n        </TableCell>\r\n        <TableCell>{moment(customer.createdAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n        <TableCell>{moment(customer.updatedAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n        <TableCell align=\"right\">\r\n          {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n          {loadAccess(PERMIT_TREE, auth, page, showOptionsForDelete)}\r\n        </TableCell>\r\n      </TableRow>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        dialog={customer}\r\n        title={dialog.name}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      {loadAccess(PERMIT_FOUR, auth, page, showData)}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CustomerList;\r\n","import FirstPageIcon from \"@material-ui/icons/FirstPage\";\r\nimport KeyboardArrowLeft from \"@material-ui/icons/KeyboardArrowLeft\";\r\nimport KeyboardArrowRight from \"@material-ui/icons/KeyboardArrowRight\";\r\nimport LastPageIcon from \"@material-ui/icons/LastPage\";\r\nimport {\r\n  makeStyles,\r\n  useTheme,\r\n  Theme,\r\n  createStyles,\r\n} from \"@material-ui/core/styles\";\r\nimport { MouseEvent } from \"react\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\n\r\nconst useStyles1 = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      flexShrink: 0,\r\n      marginLeft: theme.spacing(2.5),\r\n    },\r\n  })\r\n);\r\n\r\ninterface TablePaginationActionsProps {\r\n  count: number;\r\n  page: number;\r\n  rowsPerPage: number;\r\n  onPageChange: (event: MouseEvent<HTMLButtonElement>, newPage: number) => void;\r\n}\r\n\r\nexport function TablePaginationActions(props: TablePaginationActionsProps) {\r\n  const classes = useStyles1();\r\n  const theme = useTheme();\r\n  const { count, page, rowsPerPage, onPageChange } = props;\r\n\r\n  const handleFirstPageButtonClick = (event: MouseEvent<HTMLButtonElement>) => {\r\n    onPageChange(event, 0);\r\n  };\r\n\r\n  const handleBackButtonClick = (event: MouseEvent<HTMLButtonElement>) => {\r\n    onPageChange(event, page - 1);\r\n  };\r\n\r\n  const handleNextButtonClick = (event: MouseEvent<HTMLButtonElement>) => {\r\n    onPageChange(event, page + 1);\r\n  };\r\n\r\n  const handleLastPageButtonClick = (event: MouseEvent<HTMLButtonElement>) => {\r\n    onPageChange(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <IconButton\r\n        onClick={handleFirstPageButtonClick}\r\n        disabled={page === 0}\r\n        aria-label=\"first page\"\r\n      >\r\n        {theme.direction === \"rtl\" ? <LastPageIcon /> : <FirstPageIcon />}\r\n      </IconButton>\r\n      <IconButton\r\n        onClick={handleBackButtonClick}\r\n        disabled={page === 0}\r\n        aria-label=\"previous page\"\r\n      >\r\n        {theme.direction === \"rtl\" ? (\r\n          <KeyboardArrowRight />\r\n        ) : (\r\n          <KeyboardArrowLeft />\r\n        )}\r\n      </IconButton>\r\n      <IconButton\r\n        onClick={handleNextButtonClick}\r\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n        aria-label=\"next page\"\r\n      >\r\n        {theme.direction === \"rtl\" ? (\r\n          <KeyboardArrowLeft />\r\n        ) : (\r\n          <KeyboardArrowRight />\r\n        )}\r\n      </IconButton>\r\n      <IconButton\r\n        onClick={handleLastPageButtonClick}\r\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n        aria-label=\"last page\"\r\n      >\r\n        {theme.direction === \"rtl\" ? <FirstPageIcon /> : <LastPageIcon />}\r\n      </IconButton>\r\n    </div>\r\n  );\r\n}\r\n","import Table from \"@material-ui/core/Table\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport DialogForm from \"../components/dialog/dialog.component\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport CustomerForm from \"../components/customer/customer-form\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\r\nimport { Dialog } from \"../interfaces/dialog.interface\";\r\nimport { useState, useEffect, ChangeEvent, MouseEvent } from \"react\";\r\nimport { User } from \"../interfaces/user.interface\";\r\nimport { PERMIT_ONE } from \"../const\";\r\nimport { setAlert } from \"../store/alert/action\";\r\nimport { Customer } from \"../interfaces/customer.interface\";\r\nimport CustomerList from \"../components/customer/customer-list\";\r\nimport { loadAccess } from \"../components/acceso/filter-access.component\";\r\nimport { findError } from \"../helpers/control-errors\";\r\nimport { useGetCustomers } from \"../hooks/customer/useGetCustomer\";\r\nimport { TablePaginationActions } from \"../components/table/table-pagination\";\r\nimport TablePagination from \"@material-ui/core/TablePagination\";\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst CustomerPage = () => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n  const [customers, setCustomers] = useState<Customer[]>([]);\r\n  const { data, loading, error } = useGetCustomers();\r\n  //TABLE OPTIONS\r\n  const [rowsPerPage, setRowsPerPage] = useState(5);\r\n  const [pagex, setPage] = useState(0);\r\n\r\n  const emptyRows =\r\n    rowsPerPage - Math.min(rowsPerPage, customers.length - pagex * rowsPerPage);\r\n\r\n  const handleChangePage = (\r\n    event: MouseEvent<HTMLButtonElement> | null,\r\n    newPage: number\r\n  ) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (\r\n    event: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\r\n  ) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n  //TABLE FIN\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Crear\":\r\n        return <CustomerForm handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      const allCustomers = data.getCustomer\r\n        .map((customer: any) => {\r\n          return {\r\n            ...customer,\r\n            createdAt: customer.createdAt\r\n              ? new Date(customer.createdAt)\r\n              : new Date(),\r\n            updatedAt: customer.updatedAt\r\n              ? new Date(customer.updatedAt)\r\n              : new Date(),\r\n          };\r\n        })\r\n        .sort(\r\n          (a: any, b: any) => b.createdAt.getTime() - a.createdAt.getTime()\r\n        );\r\n      setCustomers(allCustomers);\r\n    }\r\n  }, [data]);\r\n\r\n  if (loading) {\r\n    return <h1>Cargando...</h1>;\r\n  }\r\n\r\n  if (error) {\r\n    return <h1>{findError(error)}</h1>;\r\n  }\r\n\r\n  const showDialogToCreate = () => (\r\n    <>\r\n      <Tooltip title=\"Crear Cliente\">\r\n        <IconButton\r\n          aria-label=\"add\"\r\n          size=\"small\"\r\n          onClick={() => setDialog({ name: \"Crear\", active: true })}\r\n        >\r\n          <AddRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={`${dialog.name} Cliente`}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      {loadAccess(PERMIT_ONE, auth, page, showDialogToCreate)}\r\n      <TableContainer\r\n        component={Paper}\r\n        style={{ whiteSpace: \"nowrap\", marginTop: 10 }}\r\n      >\r\n        <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Nombres</TableCell>\r\n              <TableCell>Documento</TableCell>\r\n              <TableCell>Nro. Documento</TableCell>\r\n              <TableCell>Contacto</TableCell>\r\n              <TableCell>Dirección</TableCell>\r\n              <TableCell>Credenciales</TableCell>\r\n              <TableCell>Fecha creada</TableCell>\r\n              <TableCell>Fecha modificada</TableCell>\r\n              <TableCell>Opciones</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {(rowsPerPage > 0\r\n              ? customers.slice(\r\n                  pagex * rowsPerPage,\r\n                  pagex * rowsPerPage + rowsPerPage\r\n                )\r\n              : customers\r\n            ).map((customer) => (\r\n              <CustomerList key={customer.id} customer={customer} />\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n      <div>\r\n        <TablePagination\r\n          rowsPerPageOptions={[\r\n            5,\r\n            10,\r\n            25,\r\n            { label: \"Todos los registros\", value: -1 },\r\n          ]}\r\n          //colSpan={3}\r\n          style={{ borderBottom: \"none\" }}\r\n          count={customers.length}\r\n          rowsPerPage={rowsPerPage}\r\n          page={pagex}\r\n          SelectProps={{\r\n            inputProps: { \"aria-label\": \"filas por página\" },\r\n            native: true,\r\n          }}\r\n          labelRowsPerPage=\"filas por página\"\r\n          labelDisplayedRows={({ from, to, count }) =>\r\n            `${from}-${to} de ${count}`\r\n          }\r\n          onPageChange={handleChangePage}\r\n          onRowsPerPageChange={handleChangeRowsPerPage}\r\n          ActionsComponent={TablePaginationActions}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CustomerPage;\r\n","import { gql, useQuery } from \"@apollo/client\";\r\n\r\nexport const GET_DEVICES = gql`\r\n  query getDevices {\r\n    getDevices {\r\n      id\r\n      name\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetDevices = () => {\r\n  const { data, error, loading } = useQuery(GET_DEVICES);\r\n\r\n  return { data, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Device } from \"../../interfaces/device.interface\";\r\nimport { GET_DEVICES } from \"./useGetDevice\";\r\n\r\ninterface UpdateDeviceInput {\r\n  variables: {\r\n    deviceInput: Device;\r\n  };\r\n}\r\n\r\nconst UPDATE_DEVICE = gql`\r\n  mutation updateDevice($deviceInput: UpdateDeviceInput!) {\r\n    updateDevice(deviceInput: $deviceInput) {\r\n      id\r\n      name\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useUpdateDevice = () => {\r\n  const [updateDevice, { error, loading }] = useMutation(UPDATE_DEVICE, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_DEVICES,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { updateDevice, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Device } from \"../../interfaces/device.interface\";\r\nimport { GET_DEVICES } from \"./useGetDevice\";\r\n\r\ninterface CreateDeviceInput {\r\n  variables: {\r\n    deviceInput: Device;\r\n  };\r\n}\r\n\r\nconst CREATE_DEVICE = gql`\r\n  mutation registerDevice($deviceInput: CreateDeviceInput!) {\r\n    registerDevice(deviceInput: $deviceInput) {\r\n      id\r\n      name\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useCreateDevice = () => {\r\n  const [registerDevice, { error, loading }] = useMutation(CREATE_DEVICE, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_DEVICES,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { registerDevice, error, loading };\r\n};\r\n","import { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { FormChange, InputChange } from \"../../lib/types\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport RedditTextField from \"../textfield/reddit\";\r\nimport { Device } from \"../../interfaces/device.interface\";\r\nimport { useUpdateDevice } from \"../../hooks/device/useUpdateDevice\";\r\nimport { useCreateDevice } from \"../../hooks/device/useCreateDevice\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Progress from \"../progress/progress\";\r\n\r\ninterface Option {\r\n  handleClose?: () => void;\r\n  device?: Device;\r\n}\r\n\r\nconst DeviceForm = ({ handleClose, device }: Option) => {\r\n  const initialStateCreate: Device = {\r\n    name: \"\",\r\n  };\r\n\r\n  const initialStateUpdate: Device = {\r\n    id: device?.id || \"\",\r\n    name: device?.name || \"\",\r\n  };\r\n\r\n  const [deviceForm, setDeviceForm] = useState<Device>(\r\n    initialStateUpdate.id ? initialStateUpdate : initialStateCreate\r\n  );\r\n  const dispatch = useDispatch();\r\n  const optionsUpdate = useUpdateDevice();\r\n  const optionsCreate = useCreateDevice();\r\n\r\n  const handleInput = (e: InputChange) => {\r\n    setDeviceForm({\r\n      ...deviceForm,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n\r\n    if (deviceForm.id) {\r\n      try {\r\n        await optionsUpdate.updateDevice({\r\n          variables: {\r\n            deviceInput: deviceForm,\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El dispositivo se actualizó correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      try {\r\n        await optionsCreate.registerDevice({\r\n          variables: {\r\n            deviceInput: deviceForm,\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"La dispositivo ha sido registrado correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={onSubmit}>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12}>\r\n            <RedditTextField\r\n              fullWidth\r\n              type=\"text\"\r\n              onChange={handleInput}\r\n              name=\"name\"\r\n              autoComplete=\"off\"\r\n              id=\"idName\"\r\n              label=\"Nombre\"\r\n              variant=\"filled\"\r\n              value={deviceForm.name}\r\n            />\r\n          </Grid>\r\n          <DialogActions style={{ width: \"100%\" }}>\r\n            <Button onClick={handleClose} color=\"primary\">\r\n              Cancelar\r\n            </Button>\r\n            {deviceForm.id ? (\r\n              optionsUpdate.loading ? (\r\n                <Progress />\r\n              ) : (\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  autoFocus\r\n                  variant=\"contained\"\r\n                >\r\n                  Actualizar\r\n                </Button>\r\n              )\r\n            ) : optionsCreate.loading ? (\r\n              <Progress />\r\n            ) : (\r\n              <Button\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                autoFocus\r\n                variant=\"contained\"\r\n              >\r\n                Registrar\r\n              </Button>\r\n            )}\r\n          </DialogActions>\r\n        </Grid>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DeviceForm;\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { GET_DEVICES } from \"./useGetDevice\";\r\n\r\nconst DELETE_DEVICE = gql`\r\n  mutation deleteDevice($id: String!) {\r\n    deleteDevice(id: $id)\r\n  }\r\n`;\r\n\r\nexport const useDeleteDevice = () => {\r\n  const [deleteDevice, { error, loading }] = useMutation(DELETE_DEVICE, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_DEVICES,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { deleteDevice, error, loading };\r\n};\r\n","import { Device } from \"../../interfaces/device.interface\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport DialogForm from \"../dialog/dialog.component\";\r\nimport { useState } from \"react\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport { Dialog } from \"../../interfaces/dialog.interface\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport HighlightOffRoundedIcon from \"@material-ui/icons/HighlightOffRounded\";\r\nimport { PERMIT_FOUR, PERMIT_TREE, PERMIT_TWO } from \"../../const\";\r\nimport { loadAccess } from \"../acceso/filter-access.component\";\r\nimport moment from \"moment\";\r\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\nimport DeviceForm from \"./device-form\";\r\nimport { useDeleteDevice } from \"../../hooks/device/useDeleteDevice\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst DeviceList = ({ device }: { device: Device }) => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n  const optionsCustomer = useDeleteDevice();\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Device\":\r\n        return <DeviceForm device={device} handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const deleteDevice = async (id: string | undefined) => {\r\n    try {\r\n      await optionsCustomer.deleteDevice({\r\n        variables: {\r\n          id,\r\n        },\r\n      });\r\n    } catch (e) {\r\n      setDialog({ name: \"error\", active: true });\r\n      dispatch(\r\n        setAlert({\r\n          type: \"error\",\r\n          text: findError(e),\r\n        })\r\n      );\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={dialog.name}\r\n        handleClose={handleClose}\r\n      />;\r\n    }\r\n  };\r\n\r\n  const showOptionsForDelete = () => (\r\n    <>\r\n      <Tooltip\r\n        title=\"Eliminar dispositivo\"\r\n        onClick={() => deleteDevice(device.id)}\r\n      >\r\n        <IconButton aria-label=\"device\" size=\"small\">\r\n          <HighlightOffRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showOptionsForEdit = () => (\r\n    <>\r\n      <Tooltip\r\n        title=\"Editar dispositivo\"\r\n        onClick={() => setDialog({ name: \"Device\", active: true })}\r\n      >\r\n        <IconButton aria-label=\"device\" size=\"small\">\r\n          <EditRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showData = () => (\r\n    <>\r\n      <TableRow>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {device.name}\r\n        </TableCell>\r\n\r\n        <TableCell>{moment(device.createdAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n        <TableCell>{moment(device.updatedAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n        <TableCell align=\"right\">\r\n          {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n          {loadAccess(PERMIT_TREE, auth, page, showOptionsForDelete)}\r\n        </TableCell>\r\n      </TableRow>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        dialog={device}\r\n        title={dialog.name}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      {loadAccess(PERMIT_FOUR, auth, page, showData)}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DeviceList;\r\n","import { loadAccess } from \"../components/acceso/filter-access.component\";\r\nimport { findError } from \"../helpers/control-errors\";\r\nimport { Billing } from \"../interfaces/billing.interface\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { User } from \"../interfaces/user.interface\";\r\nimport { PERMIT_ONE } from \"../const\";\r\nimport { setAlert } from \"../store/alert/action\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport DialogForm from \"../components/dialog/dialog.component\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Dialog } from \"../interfaces/dialog.interface\";\r\nimport DeviceList from \"../components/device/device-list\";\r\nimport { useGetDevices } from \"../hooks/device/useGetDevice\";\r\nimport DeviceForm from \"../components/device/device-form\";\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst DevicePage = () => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n  const [devices, setDevices] = useState<Billing[]>([]);\r\n  const { data, loading, error } = useGetDevices();\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Crear\":\r\n        return <DeviceForm handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setDevices(data.getDevices);\r\n    }\r\n  }, [data]);\r\n\r\n  if (loading) {\r\n    return <h1>Cargando...</h1>;\r\n  }\r\n\r\n  if (error) {\r\n    return <h1>{findError(error)}</h1>;\r\n  }\r\n\r\n  const showDialogToCreate = () => (\r\n    <>\r\n      <Tooltip title=\"Crear dispositivo\">\r\n        <IconButton\r\n          aria-label=\"add\"\r\n          size=\"small\"\r\n          onClick={() => setDialog({ name: \"Crear\", active: true })}\r\n        >\r\n          <AddRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={`${dialog.name} Dispositivo`}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      {loadAccess(PERMIT_ONE, auth, page, showDialogToCreate)}\r\n      <TableContainer\r\n        component={Paper}\r\n        style={{ marginTop: 10, whiteSpace: \"nowrap\" }}\r\n      >\r\n        <Table size=\"small\" aria-label=\"a dense table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Nombre</TableCell>\r\n              <TableCell>Fecha creada</TableCell>\r\n              <TableCell>Fecha modificada</TableCell>\r\n              <TableCell align=\"right\">Opciones</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {devices.map((device) => (\r\n              <DeviceList key={device.id} device={device} />\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DevicePage;\r\n","import { gql, useQuery } from \"@apollo/client\";\r\n\r\nexport const GET_MODELS = gql`\r\n  query getModels {\r\n    getModels {\r\n      id\r\n      name\r\n      brand {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetModels = () => {\r\n  const { data, error, loading } = useQuery(GET_MODELS);\r\n\r\n  return { data, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Model } from \"../../interfaces/model.interface\";\r\nimport { GET_MODELS } from \"./useGetModels\";\r\n\r\ninterface UpdateModelInput {\r\n  variables: {\r\n    modelInput: Model;\r\n  };\r\n}\r\n\r\nconst UPDATE_MODEL = gql`\r\n  mutation updateModel($modelInput: UpdateModelInput!) {\r\n    updateModel(modelInput: $modelInput) {\r\n      id\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useUpdateModel = () => {\r\n  const [updateModel, { error, loading }] = useMutation(UPDATE_MODEL, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_MODELS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { updateModel, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Model } from \"../../interfaces/model.interface\";\r\nimport { GET_MODELS } from \"./useGetModels\";\r\n\r\ninterface CreateModelInput {\r\n  variables: {\r\n    modelInput: Model;\r\n  };\r\n}\r\n\r\nconst CREATE_MODEL = gql`\r\n  mutation registerModel($modelInput: CreateModelInput!) {\r\n    registerModel(modelInput: $modelInput) {\r\n      id\r\n      name\r\n      brand {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n//https://stackoverflow.com/questions/58431224/how-does-apollo-client-graphql-refetchqueries-works\r\nexport const useCreateModel = () => {\r\n  const [registerModel, { error, loading }] = useMutation(CREATE_MODEL, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_MODELS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { registerModel, error, loading };\r\n};\r\n","import { useState, useEffect } from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { Model } from \"../../interfaces/model.interface\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\nimport { FormChange, InputChange, SelectChange } from \"../../lib/types\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Progress from \"../progress/progress\";\r\nimport { useUpdateModel } from \"../../hooks/model/useUpdateModel\";\r\nimport { useCreateModel } from \"../../hooks/model/useCreateModel\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport { Brand } from \"../../interfaces/brand.interface\";\r\nimport { useGetBrands } from \"../../hooks/brand/useGetBrands\";\r\n\r\ninterface Options {\r\n  handleClose: () => void;\r\n  model?: Model;\r\n}\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst ModelForm = ({ handleClose, model }: Options) => {\r\n  const initialValueCreate: Model = {\r\n    name: \"\",\r\n    brand: \"\",\r\n  };\r\n\r\n  const initialValueUpdate: Model = {\r\n    id: model?.id || \"\",\r\n    name: model?.name || \"\",\r\n    brand: model?.brand?.name || \"\",\r\n  };\r\n\r\n  const [modelForm, setModelForm] = useState<Model>(\r\n    initialValueUpdate.id ? initialValueUpdate : initialValueCreate\r\n  );\r\n\r\n  const [brands, setBrands] = useState<Brand[]>([]);\r\n  const { data } = useGetBrands();\r\n  const dispatch = useDispatch();\r\n  const optionsUpdateModel = useUpdateModel();\r\n  const optionsCreateModel = useCreateModel();\r\n\r\n  const handleInput = (e: InputChange) => {\r\n    setModelForm({ ...modelForm, [e.target.name]: e.target.value });\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const handleSelect = (e: SelectChange) => {\r\n    setModelForm({\r\n      ...modelForm,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n\r\n    if (modelForm.id) {\r\n      try {\r\n        await optionsUpdateModel.updateModel({\r\n          variables: {\r\n            modelInput: modelForm,\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El modelo se actualizó correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      try {\r\n        await optionsCreateModel.registerModel({\r\n          variables: {\r\n            modelInput: modelForm,\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El modelo ha sido registrado correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setBrands(data.getBrands);\r\n    }\r\n  }, [data]);\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12}>\r\n          <FormControl variant=\"outlined\" fullWidth>\r\n            <InputLabel id=\"idMarca\">Marca</InputLabel>\r\n            <Select\r\n              labelId=\"Marca\"\r\n              id=\"idMarca\"\r\n              value={modelForm.brand}\r\n              onChange={handleSelect}\r\n              label=\"Marca\"\r\n              name=\"brand\"\r\n            >\r\n              {brands.map((brand) => (\r\n                <MenuItem key={brand.id} value={brand.name}>\r\n                  {brand.name}\r\n                </MenuItem>\r\n              ))}\r\n            </Select>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"name\"\r\n            autoComplete=\"off\"\r\n            id=\"idName\"\r\n            label=\"Modelo\"\r\n            variant=\"outlined\"\r\n            value={modelForm.name}\r\n          />\r\n        </Grid>\r\n\r\n        <DialogActions style={{ width: \"100%\" }}>\r\n          <Button onClick={() => handleClose()} color=\"primary\">\r\n            Cancelar\r\n          </Button>\r\n          {modelForm.id ? (\r\n            optionsUpdateModel.loading ? (\r\n              <Progress />\r\n            ) : (\r\n              <Button\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                autoFocus\r\n                variant=\"contained\"\r\n              >\r\n                Actualizar\r\n              </Button>\r\n            )\r\n          ) : optionsCreateModel.loading ? (\r\n            <Progress />\r\n          ) : (\r\n            <Button type=\"submit\" color=\"primary\" autoFocus variant=\"contained\">\r\n              Registrar\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      </Grid>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ModelForm;\r\n","import { Model } from \"../../interfaces/model.interface\";\r\n\r\nimport { useState } from \"react\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport DialogForm from \"../dialog/dialog.component\";\r\nimport { PERMIT_FOUR, PERMIT_TWO } from \"../../const\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport { Dialog } from \"../../interfaces/dialog.interface\";\r\nimport moment from \"moment\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { loadAccess } from \"../acceso/filter-access.component\";\r\nimport ModelForm from \"./model-form\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst ModelList = ({ model }: { model: Model }) => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Modelo\":\r\n        return <ModelForm model={model} handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const showOptionsForEdit = () => (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        dialog={model}\r\n        title={dialog.name}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      <TableCell align=\"right\">\r\n        <Tooltip\r\n          title=\"Editar Modelo\"\r\n          onClick={() => setDialog({ name: \"Modelo\", active: true })}\r\n        >\r\n          <IconButton aria-label=\"role\" size=\"small\">\r\n            <EditRoundedIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      </TableCell>\r\n    </>\r\n  );\r\n\r\n  const showData = () => (\r\n    <>\r\n      <TableRow>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {model.brand?.name}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {model.name}\r\n        </TableCell>\r\n        <TableCell>{moment(model.createdAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n        <TableCell>{moment(model.updatedAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n        {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n      </TableRow>\r\n    </>\r\n  );\r\n\r\n  return <>{loadAccess(PERMIT_FOUR, auth, page, showData)}</>;\r\n};\r\n\r\nexport default ModelList;\r\n","import { useState, useEffect } from \"react\";\r\nimport { findError } from \"../helpers/control-errors\";\r\nimport { loadAccess } from \"../components/acceso/filter-access.component\";\r\nimport { PERMIT_ONE, PERMIT_TWO } from \"../const\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { setAlert } from \"../store/alert/action\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport DialogForm from \"../components/dialog/dialog.component\";\r\nimport { Dialog } from \"../interfaces/dialog.interface\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\r\nimport { User } from \"../interfaces/user.interface\";\r\n\r\nimport ModelList from \"../components/model/model-list\";\r\nimport { Model } from \"../interfaces/model.interface\";\r\nimport ModelForm from \"../components/model/model-form\";\r\nimport { useGetModels } from \"../hooks/model/useGetModels\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst ModelPage = () => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n\r\n  const { data, loading, error } = useGetModels();\r\n  const [models, setModels] = useState<Model[]>([]);\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Crear\":\r\n        return <ModelForm handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setModels(data.getModels);\r\n    }\r\n  }, [data]);\r\n\r\n  if (loading) {\r\n    return <h1>Cargando...</h1>;\r\n  }\r\n\r\n  if (error) {\r\n    return <h1>{findError(error)}</h1>;\r\n  }\r\n\r\n  const showDialogToCreate = () => (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={`${dialog.name} Modelo`}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      <Tooltip title=\"Crear Modelo\">\r\n        <IconButton\r\n          aria-label=\"add\"\r\n          size=\"small\"\r\n          onClick={() => setDialog({ name: \"Crear\", active: true })}\r\n        >\r\n          <AddRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showOptionsForEdit = () => (\r\n    <TableCell align=\"right\">Opciones</TableCell>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {loadAccess(PERMIT_ONE, auth, page, showDialogToCreate)}\r\n      <TableContainer\r\n        component={Paper}\r\n        style={{ whiteSpace: \"nowrap\", marginTop: 10 }}\r\n      >\r\n        <Table\r\n          //className={classes.table}\r\n          size=\"small\"\r\n          aria-label=\"a dense table\"\r\n        >\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Marca</TableCell>\r\n              <TableCell>Modelo</TableCell>\r\n              <TableCell>Fecha creada</TableCell>\r\n              <TableCell>Fecha modificada</TableCell>\r\n              {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {models.map((model) => (\r\n              <ModelList key={model.id} model={model} />\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ModelPage;\r\n","import React from \"react\";\r\nimport { Menu } from \"../../interfaces/menu.interface\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport { MENU_FORBIDDEN } from \"../../const\";\r\n\r\n/**\r\n * @param columns:any\r\n * @returns {columns: Array(1)}\r\n **/\r\n\r\n/**\r\n * @param {columns}:any\r\n * @returns [{…}]\r\n **/\r\n\r\nconst ItemModuleMenu = ({ menu }: { menu: Menu }) => {\r\n  return (\r\n    <>\r\n      {menu.name === MENU_FORBIDDEN ? (\r\n        <Chip\r\n          style={{ margin: \"3px\" }}\r\n          size=\"small\"\r\n          label={menu.name}\r\n          color=\"primary\"\r\n        />\r\n      ) : (\r\n        <Chip\r\n          style={{ margin: \"3px\" }}\r\n          size=\"small\"\r\n          label={menu.name}\r\n          onDelete={() => alert(\"keiner\")}\r\n          color=\"primary\"\r\n        />\r\n      )}\r\n      &nbsp;\r\n    </>\r\n  );\r\n};\r\nexport default ItemModuleMenu;\r\n","import React from \"react\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport { Access } from \"../../interfaces/access.interface\";\r\n/**\r\n * @param columns:any\r\n * @returns {columns: Array(1)}\r\n **/\r\n\r\n/**\r\n * @param {columns}:any\r\n * @returns [{…}]\r\n **/\r\n\r\nconst ItemModuleAccess = ({ access }: { access: Access }) => {\r\n  return (\r\n    <>\r\n      <Chip\r\n        style={{ margin: \"3px\" }}\r\n        size=\"small\"\r\n        label={access.name}\r\n        onDelete={() => alert(\"keiner\")}\r\n        color=\"primary\"\r\n      />\r\n    </>\r\n  );\r\n};\r\nexport default ItemModuleAccess;\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Module } from \"../../interfaces/module.interface\";\r\nimport { GET_MODULES } from \"./useGetModules\";\r\n\r\ninterface UpdateModuleInput {\r\n  variables: {\r\n    moduleInput: Module;\r\n  };\r\n}\r\n\r\nconst UDATE_MODULE = gql`\r\n  mutation updateModule($moduleInput: UpdateModuleInput!) {\r\n    updateModule(moduleInput: $moduleInput) {\r\n      id\r\n      name\r\n      description\r\n      menus {\r\n        id\r\n        name\r\n      }\r\n      access {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useUpdateModule = () => {\r\n  const [updateModule, { error, loading }] = useMutation(UDATE_MODULE, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_MODULES,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { updateModule, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Module } from \"../../interfaces/module.interface\";\r\nimport { GET_MODULES } from \"./useGetModules\";\r\n\r\ninterface CreateModuleInput {\r\n  variables: {\r\n    moduleInput: Module;\r\n  };\r\n}\r\n\r\nconst CREATE_MODULE = gql`\r\n  mutation registerModule($moduleInput: CreateModuleInput!) {\r\n    registerModule(moduleInput: $moduleInput) {\r\n      id\r\n      name\r\n      description\r\n      createdAt\r\n      updatedAt\r\n      menus {\r\n        id\r\n        name\r\n      }\r\n      access {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n//https://stackoverflow.com/questions/58431224/how-does-apollo-client-graphql-refetchqueries-works\r\nexport const useCreateModule = () => {\r\n  const [registerModule, { error, loading }] = useMutation(CREATE_MODULE, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_MODULES,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { registerModule, error, loading };\r\n};\r\n","import { gql, useQuery } from \"@apollo/client\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\n\r\nconst GET_ACCESS = gql`\r\n  query getAccess {\r\n    getAccess {\r\n      id\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetAllAccess = () => {\r\n  const { data, error, loading }: any = useQuery(GET_ACCESS);\r\n  const dispatch = useDispatch();\r\n\r\n  if (error) {\r\n    dispatch(\r\n      setAlert({\r\n        type: \"error\",\r\n        text: error.message,\r\n      })\r\n    );\r\n  }\r\n  return { data, error, loading };\r\n};\r\n","import { gql, useQuery } from \"@apollo/client\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\n\r\nexport const GET_MENUS = gql`\r\n  query getMenus {\r\n    getMenus {\r\n      id\r\n      name\r\n      link\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetMenus = () => {\r\n  const { data, error, loading }: any = useQuery(GET_MENUS);\r\n  const dispatch = useDispatch();\r\n\r\n  if (error) {\r\n    dispatch(\r\n      setAlert({\r\n        type: \"error\",\r\n        text: error.message,\r\n      })\r\n    );\r\n  }\r\n  return { data, error, loading };\r\n};\r\n","import React, { useState, ChangeEvent, FormEvent, useEffect } from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { Module } from \"../../interfaces/module.interface\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { useUpdateModule } from \"../../hooks/module/useUpdateModule\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { Menu } from \"../../interfaces/menu.interface\";\r\nimport { Access } from \"../../interfaces/access.interface\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Progress from \"../progress/progress\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport {\r\n  createStyles,\r\n  makeStyles,\r\n  useTheme,\r\n  Theme,\r\n} from \"@material-ui/core/styles\";\r\nimport { useCreateModule } from \"../../hooks/module/useCreateModule\";\r\nimport { useGetAllAccess } from \"../../hooks/access/useGetAllAceess\";\r\nimport { useGetMenus } from \"../../hooks/menu/useGetMenus\";\r\nimport { MENU_FORBIDDEN, MODULE_FORBIDDEN } from \"../../const\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\n\r\ntype InputChange = ChangeEvent<HTMLInputElement | HTMLTextAreaElement>;\r\ntype FormChange = FormEvent<HTMLFormElement>;\r\ntype SelectChange = ChangeEvent<{ value: unknown } | any | HTMLSelectElement>;\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    formControl: {\r\n      margin: theme.spacing(1),\r\n      minWidth: 120,\r\n      maxWidth: 300,\r\n    },\r\n    chips: {\r\n      display: \"flex\",\r\n      flexWrap: \"wrap\",\r\n    },\r\n    chip: {\r\n      margin: 2,\r\n    },\r\n    noLabel: {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n  })\r\n);\r\n\r\nconst ITEM_HEIGHT = 48;\r\nconst ITEM_PADDING_TOP = 8;\r\nconst MenuProps = {\r\n  PaperProps: {\r\n    style: {\r\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n      width: 250,\r\n    },\r\n  },\r\n};\r\n\r\nconst ModuleForm = ({\r\n  module,\r\n  handleClose,\r\n}: {\r\n  module?: Module;\r\n  handleClose: () => void;\r\n}) => {\r\n  const initialValueUpdate: Module = {\r\n    id: module?.id || \"\",\r\n    name: module?.name || \"\",\r\n    description: module?.description || \"\",\r\n  };\r\n\r\n  const initialValueCreate: Module = {\r\n    name: \"\",\r\n    description: \"\",\r\n  };\r\n\r\n  const optionsUpdateModule = useUpdateModule();\r\n  const optionsCreateModule = useCreateModule();\r\n  const optionsGetAccess = useGetAllAccess();\r\n  const optionsGetMenus = useGetMenus();\r\n  const [menuSelected, setMenuSelected] = useState<Menu[]>([]);\r\n  const [accessSelected, setAccessSelected] = useState<Access[]>([]);\r\n  const [listMenus, setListMenus] = useState<Menu[]>([]);\r\n  const [listAccess, setListAccess] = useState<Access[]>([]);\r\n  const [moduleForm, setModuleForm] = useState<Module>(\r\n    initialValueUpdate.id ? initialValueUpdate : initialValueCreate\r\n  );\r\n  const dispatch = useDispatch();\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  const handleInput = (e: InputChange) => {\r\n    setModuleForm({ ...moduleForm, [e.target.name]: e.target.value });\r\n    dispatch(\r\n      setAlert({\r\n        type: \"\",\r\n        text: \"\",\r\n      })\r\n    );\r\n  };\r\n\r\n  const handleSelectMenus = (e: SelectChange) => {\r\n    setMenuSelected(e.target.value);\r\n    dispatch(\r\n      setAlert({\r\n        type: \"\",\r\n        text: \"\",\r\n      })\r\n    );\r\n  };\r\n\r\n  const handleSelectAccess = (e: SelectChange) => {\r\n    setAccessSelected(e.target.value);\r\n    dispatch(\r\n      setAlert({\r\n        type: \"\",\r\n        text: \"\",\r\n      })\r\n    );\r\n  };\r\n\r\n  const sentToAddMenus = menuSelected.map((value) => {\r\n    return { name: value };\r\n  });\r\n\r\n  const sentToAddAccess = accessSelected.map((value) => {\r\n    return { name: value };\r\n  });\r\n\r\n  function getStyles(name: any, personName: Module[], theme: Theme) {\r\n    return {\r\n      fontWeight:\r\n        personName.indexOf(name) === -1\r\n          ? theme.typography.fontWeightRegular\r\n          : theme.typography.fontWeightMedium,\r\n    };\r\n  }\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n    if (moduleForm.id) {\r\n      try {\r\n        await optionsUpdateModule.updateModule({\r\n          variables: {\r\n            moduleInput: moduleForm,\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El modulo se actualizó correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      try {\r\n        await optionsCreateModule.registerModule({\r\n          variables: {\r\n            moduleInput: {\r\n              ...moduleForm,\r\n              access: sentToAddAccess,\r\n              menus: sentToAddMenus,\r\n            },\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El modulo se registró correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (optionsGetMenus.data && optionsGetAccess.data) {\r\n      const listMenusNoModulos = optionsGetMenus.data.getMenus.filter(\r\n        (menu: any) => menu.name !== MENU_FORBIDDEN\r\n      );\r\n      setListMenus(listMenusNoModulos);\r\n      setListAccess(optionsGetAccess.data.getAccess);\r\n    }\r\n  }, [optionsGetMenus.data, optionsGetAccess.data, moduleForm.name]);\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={onSubmit}>\r\n        <Grid container spacing={3}>\r\n          {moduleForm.id && moduleForm.name === MODULE_FORBIDDEN ? (\r\n            \"\"\r\n          ) : (\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                fullWidth\r\n                onChange={handleInput}\r\n                name=\"name\"\r\n                id=\"idName\"\r\n                label=\"Modulo\"\r\n                variant=\"outlined\"\r\n                value={moduleForm.name}\r\n              />\r\n            </Grid>\r\n          )}\r\n\r\n          <Grid item xs={12}>\r\n            <TextField\r\n              fullWidth\r\n              onChange={handleInput}\r\n              name=\"description\"\r\n              id=\"idDescription\"\r\n              label=\"Descripción\"\r\n              multiline\r\n              value={moduleForm.description}\r\n              variant=\"outlined\"\r\n            />\r\n          </Grid>\r\n          {!initialValueUpdate.id && (\r\n            <>\r\n              <Grid item xs={12}>\r\n                <FormControl variant=\"outlined\" fullWidth>\r\n                  <InputLabel id=\"menus-mutiple-chip-label\">Menus</InputLabel>\r\n                  <Select\r\n                    labelId=\"menus-mutiple-chip-label\"\r\n                    id=\"menus-mutiple-chip\"\r\n                    multiple\r\n                    value={menuSelected}\r\n                    onChange={handleSelectMenus}\r\n                    input={<Input id=\"select-multiple-chip\" />}\r\n                    renderValue={(selected) => (\r\n                      <div className={classes.chips}>\r\n                        {(selected as any[]).map((menu) => {\r\n                          return (\r\n                            <Chip\r\n                              key={menu}\r\n                              label={menu}\r\n                              className={menu.chip}\r\n                            />\r\n                          );\r\n                        })}\r\n                      </div>\r\n                    )}\r\n                    MenuProps={MenuProps}\r\n                  >\r\n                    {listMenus.map((menu) => (\r\n                      <MenuItem\r\n                        key={menu.id}\r\n                        value={menu.name}\r\n                        style={getStyles(\r\n                          menu.name,\r\n                          moduleForm.menus || [],\r\n                          theme\r\n                        )}\r\n                      >\r\n                        {menu.name}\r\n                      </MenuItem>\r\n                    ))}\r\n                  </Select>\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <FormControl variant=\"outlined\" fullWidth>\r\n                  <InputLabel id=\"access-mutiple-chip-label\">\r\n                    Accesos\r\n                  </InputLabel>\r\n                  <Select\r\n                    labelId=\"access-mutiple-chip-label\"\r\n                    id=\"access-mutiple-chip\"\r\n                    multiple\r\n                    value={accessSelected}\r\n                    onChange={handleSelectAccess}\r\n                    input={<Input id=\"select-multiple-chip\" />}\r\n                    renderValue={(selected) => (\r\n                      <div className={classes.chips}>\r\n                        {(selected as any[]).map((access) => {\r\n                          return (\r\n                            <Chip\r\n                              key={access}\r\n                              label={access}\r\n                              className={access.chip}\r\n                            />\r\n                          );\r\n                        })}\r\n                      </div>\r\n                    )}\r\n                    MenuProps={MenuProps}\r\n                  >\r\n                    {listAccess.map((access) => (\r\n                      <MenuItem\r\n                        key={access.id}\r\n                        value={access.name}\r\n                        style={getStyles(\r\n                          access.name,\r\n                          moduleForm.access || [],\r\n                          theme\r\n                        )}\r\n                      >\r\n                        {access.name}\r\n                      </MenuItem>\r\n                    ))}\r\n                  </Select>\r\n                </FormControl>\r\n              </Grid>\r\n            </>\r\n          )}\r\n\r\n          <DialogActions style={{ width: \"100%\" }}>\r\n            <Button onClick={() => handleClose()} color=\"primary\">\r\n              Cancelar\r\n            </Button>\r\n            {moduleForm.id ? (\r\n              optionsUpdateModule.loading ? (\r\n                <Progress />\r\n              ) : (\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  autoFocus\r\n                  variant=\"contained\"\r\n                >\r\n                  Actualizar\r\n                </Button>\r\n              )\r\n            ) : optionsCreateModule.loading ? (\r\n              <Progress />\r\n            ) : (\r\n              <Button\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                autoFocus\r\n                variant=\"contained\"\r\n              >\r\n                Registrar\r\n              </Button>\r\n            )}\r\n          </DialogActions>\r\n        </Grid>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ModuleForm;\r\n","import React, { useState, FormEvent, useCallback, useEffect } from \"react\";\r\nimport { Access } from \"../../interfaces/access.interface\";\r\nimport { Module } from \"../../interfaces/module.interface\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { useUpdateModule } from \"../../hooks/module/useUpdateModule\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport { useGetAllAccess } from \"../../hooks/access/useGetAllAceess\";\r\nimport TrasnferList from \"../../lib/transfer-list-component\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\n\r\ntype FormChange = FormEvent<HTMLFormElement>;\r\n\r\nconst AccesoForm = ({\r\n  module,\r\n  handleClose,\r\n}: {\r\n  module: Module;\r\n  handleClose: () => void;\r\n}) => {\r\n  const [listAvailable, setListAvailable] = useState<Access[]>([]);\r\n  const [listCurrent, setListCurrent] = useState<Access[]>([]);\r\n  const [checked, setChecked] = useState<Access[]>([]);\r\n  const dispatch = useDispatch();\r\n  const optionsUpdateModule = useUpdateModule();\r\n  const optionsGetAllAccess = useGetAllAccess();\r\n  const alert = useSelector((state: any) => state.message);\r\n  const { type, text } = alert;\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n\r\n    const newData = listCurrent.map((access) => {\r\n      return {\r\n        name: access.name,\r\n      };\r\n    });\r\n\r\n    try {\r\n      await optionsUpdateModule.updateModule({\r\n        variables: {\r\n          moduleInput: {\r\n            id: module.id,\r\n            access: newData,\r\n          },\r\n        },\r\n      });\r\n      return dispatch(\r\n        setAlert({\r\n          type: \"success\",\r\n          text: \"El modulo actualizó sus accesos correctamente.\",\r\n        })\r\n      );\r\n    } catch (e) {\r\n      dispatch(\r\n        setAlert({\r\n          type: \"error\",\r\n          text: findError(e),\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  const loadAccessAvailable = useCallback(() => {\r\n    const res = optionsGetAllAccess.data.getAccess.filter(\r\n      (dispo: Access) =>\r\n        !module.access?.some((actual) => dispo.name === actual.name)\r\n    );\r\n\r\n    setListAvailable(res);\r\n  }, [module, optionsGetAllAccess.data]);\r\n\r\n  useEffect(() => {\r\n    if (module && optionsGetAllAccess.data) {\r\n      setListCurrent(module.access || []);\r\n      loadAccessAvailable();\r\n    }\r\n  }, [module, optionsGetAllAccess.data, loadAccessAvailable]);\r\n\r\n  if (type === \"error\") {\r\n    return <h1>{text}</h1>;\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12}>\r\n          <TrasnferList\r\n            setListAvailable={setListAvailable}\r\n            setListCurrent={setListCurrent}\r\n            setChecked={setChecked}\r\n            checked={checked}\r\n            listAvailable={listAvailable}\r\n            titleAvailable=\"Accesos disponibles\"\r\n            listCurrent={listCurrent}\r\n            titleCurrent=\"Accesos actuales\"\r\n            loading={optionsGetAllAccess.loading}\r\n          />\r\n        </Grid>\r\n        <DialogActions style={{ width: \"100%\" }}>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Cancelar\r\n          </Button>\r\n\r\n          <Button\r\n            type=\"submit\"\r\n            color=\"primary\"\r\n            autoFocus\r\n            variant=\"contained\"\r\n            disabled={optionsUpdateModule.loading ? true : false}\r\n          >\r\n            {module.id ? \"Actualizar\" : \"Registrar\"}\r\n          </Button>\r\n        </DialogActions>\r\n      </Grid>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default AccesoForm;\r\n","import React, { useState, useEffect, FormEvent, useCallback } from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { Module } from \"../../interfaces/module.interface\";\r\nimport { Menu } from \"../../interfaces/menu.interface\";\r\nimport { useGetMenus } from \"../../hooks/menu/useGetMenus\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport { useUpdateModule } from \"../../hooks/module/useUpdateModule\";\r\nimport { useSelector } from \"react-redux\";\r\nimport TrasnferList from \"../../lib/transfer-list-component\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\nimport { MENU_FORBIDDEN } from \"../../const\";\r\n\r\ntype FormChange = FormEvent<HTMLFormElement>;\r\n\r\nconst MenuForm = ({\r\n  module,\r\n  handleClose,\r\n}: {\r\n  module: Module;\r\n  handleClose: () => void;\r\n}) => {\r\n  const [listAvailable, setListAvailable] = useState<Menu[]>([]);\r\n  const [listCurrent, setListCurrent] = useState<Menu[]>([]);\r\n  const [checked, setChecked] = useState<Menu[]>([]);\r\n  const dispatch = useDispatch();\r\n  const optionsGetMenus = useGetMenus();\r\n  const optionsUpdateModule = useUpdateModule();\r\n  const alert = useSelector((state: any) => state.message);\r\n  const { type, text } = alert;\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n\r\n    const newData = listCurrent.map((menu) => {\r\n      return {\r\n        name: menu.name,\r\n      };\r\n    });\r\n\r\n    try {\r\n      await optionsUpdateModule.updateModule({\r\n        variables: {\r\n          moduleInput: {\r\n            id: module.id,\r\n            menus: newData,\r\n          },\r\n        },\r\n      });\r\n      return dispatch(\r\n        setAlert({\r\n          type: \"success\",\r\n          text: \"El modulo actualizó sus menu correctamente.\",\r\n        })\r\n      );\r\n    } catch (e) {\r\n      dispatch(\r\n        setAlert({\r\n          type: \"error\",\r\n          text: findError(e),\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  const loadMenusAvailable = useCallback(() => {\r\n    const res = optionsGetMenus.data.getMenus.filter(\r\n      (dispo: Menu) =>\r\n        !module.menus?.some((actual) => dispo.name === actual.name)\r\n    );\r\n\r\n    const listMenusAvailableNoModulos = res.filter(\r\n      (menu: any) => menu.name !== MENU_FORBIDDEN\r\n    );\r\n\r\n    setListAvailable(listMenusAvailableNoModulos);\r\n  }, [module, optionsGetMenus.data]);\r\n\r\n  useEffect(() => {\r\n    if (module && optionsGetMenus.data) {\r\n      const listMenusCurrentNoModulos = module.menus?.filter(\r\n        (module) => module.name !== MENU_FORBIDDEN\r\n      );\r\n      setListCurrent(listMenusCurrentNoModulos || []);\r\n\r\n      loadMenusAvailable();\r\n    }\r\n  }, [module, optionsGetMenus.data, loadMenusAvailable]);\r\n\r\n  if (type === \"error\") {\r\n    return <h1>{text}</h1>;\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12}>\r\n          <TrasnferList\r\n            setListAvailable={setListAvailable}\r\n            setListCurrent={setListCurrent}\r\n            setChecked={setChecked}\r\n            checked={checked}\r\n            listAvailable={listAvailable}\r\n            titleAvailable=\"Menus disponibles\"\r\n            listCurrent={listCurrent}\r\n            titleCurrent=\"Menus actuales\"\r\n            loading={optionsGetMenus.loading}\r\n          />\r\n        </Grid>\r\n        <DialogActions style={{ width: \"100%\" }}>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Cancelar\r\n          </Button>\r\n\r\n          <Button\r\n            type=\"submit\"\r\n            color=\"primary\"\r\n            autoFocus\r\n            variant=\"contained\"\r\n            disabled={optionsUpdateModule.loading ? true : false}\r\n          >\r\n            {module.id ? \"Actualizar\" : \"Registrar\"}\r\n          </Button>\r\n        </DialogActions>\r\n      </Grid>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default MenuForm;\r\n","import React, { useState } from \"react\";\r\nimport { Module } from \"../../interfaces/module.interface\";\r\nimport ItemModuleMenu from \"./item-module-menu\";\r\nimport ItemModuleAccess from \"./item-module-access\";\r\n//tables\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\n//button\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\n//icon\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuRoundedIcon from \"@material-ui/icons/MenuRounded\";\r\nimport VerifiedUserRoundedIcon from \"@material-ui/icons/VerifiedUserRounded\";\r\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\r\n//dates\r\nimport moment from \"moment\";\r\nimport DialogForm from \"../dialog/dialog.component\";\r\nimport ModuleForm from \"../module/module-form.component\";\r\nimport AccesoForm from \"../acceso/access-form.component\";\r\nimport MenuForm from \"../menu/menu-form.component\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { MODULE_FORBIDDEN } from \"../../const\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\n\r\ninterface Dialog {\r\n  name: string;\r\n  active: boolean;\r\n}\r\n\r\nconst initialValueButton = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst ItemModule = ({ module }: { module: Module }) => {\r\n  const [dialog, setDialog] = useState<Dialog>(initialValueButton);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleClose = () => {\r\n    setDialog({ ...dialog, active: false });\r\n    dispatch(\r\n      setAlert({\r\n        type: \"\",\r\n        text: \"\",\r\n      })\r\n    );\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Modulo\":\r\n        return <ModuleForm module={module} handleClose={handleClose} />;\r\n\r\n      case \"Acceso\":\r\n        return <AccesoForm module={module} handleClose={handleClose} />;\r\n\r\n      case \"Menu\":\r\n        return <MenuForm module={module} handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  //[\"error\",\"info\",\"success\",\"warning\"]\r\n  return (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        dialog={module}\r\n        title={dialog.name}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      <TableRow>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {module.name}\r\n        </TableCell>\r\n        <TableCell>{module.description}</TableCell>\r\n        <TableCell>{moment(module.createdAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n        <TableCell>{moment(module.updatedAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n        <TableCell align=\"center\">\r\n          {module.menus &&\r\n            module.menus.map((menu) => (\r\n              <ItemModuleMenu key={menu.id} menu={menu} />\r\n            ))}\r\n        </TableCell>\r\n        <TableCell align=\"center\">\r\n          {module.name === MODULE_FORBIDDEN ? (\r\n            <Chip\r\n              style={{ margin: \"3px\" }}\r\n              size=\"small\"\r\n              label=\"Todos los permisos\"\r\n              color=\"primary\"\r\n            />\r\n          ) : (\r\n            module.access &&\r\n            module.access.map((access) => (\r\n              <ItemModuleAccess key={access.id} access={access} />\r\n            ))\r\n          )}\r\n        </TableCell>\r\n\r\n        {module.name === MODULE_FORBIDDEN ? (\r\n          <TableCell align=\"center\">\r\n            <Tooltip\r\n              title=\"Asignar menu\"\r\n              onClick={() => setDialog({ name: \"Menu\", active: true })}\r\n            >\r\n              <IconButton aria-label=\"menu\" size=\"small\">\r\n                <MenuRoundedIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n          </TableCell>\r\n        ) : (\r\n          <>\r\n            <TableCell align=\"right\">\r\n              <Tooltip\r\n                title=\"Asignar menu\"\r\n                onClick={() => setDialog({ name: \"Menu\", active: true })}\r\n              >\r\n                <IconButton aria-label=\"menu\" size=\"small\">\r\n                  <MenuRoundedIcon />\r\n                </IconButton>\r\n              </Tooltip>\r\n              <Tooltip\r\n                title=\"Asignar acceso\"\r\n                onClick={() => setDialog({ name: \"Acceso\", active: true })}\r\n              >\r\n                <IconButton aria-label=\"acceso\" size=\"small\">\r\n                  <VerifiedUserRoundedIcon />\r\n                </IconButton>\r\n              </Tooltip>\r\n              <Tooltip\r\n                title=\"Editar modulo\"\r\n                onClick={() => setDialog({ name: \"Modulo\", active: true })}\r\n              >\r\n                <IconButton aria-label=\"acceso\" size=\"small\">\r\n                  <EditRoundedIcon />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </TableCell>\r\n          </>\r\n        )}\r\n      </TableRow>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ItemModule;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useGetModules } from \"../hooks/module/useGetModules\";\r\nimport { Module } from \"../interfaces/module.interface\";\r\n//css library materialui\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n//tables\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n//end tables\r\nimport ItemModule from \"../components/table/item-module.component\";\r\nimport DialogForm from \"../components/dialog/dialog.component\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport ModuleForm from \"../components/module/module-form.component\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../store/alert/action\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { User } from \"../interfaces/user.interface\";\r\nimport { ROLSA } from \"../const\";\r\nimport { findError } from \"../helpers/control-errors\";\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n});\r\n\r\ninterface Dialog {\r\n  name: string;\r\n  active: boolean;\r\n}\r\n\r\nconst initialValueButton = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst ModulePage = () => {\r\n  const [modules, setModules] = useState<Module[]>([]);\r\n  const { data, loading, error } = useGetModules();\r\n  const [dialog, setDialog] = useState<Dialog>(initialValueButton);\r\n  const dispatch = useDispatch();\r\n  const classes = useStyles();\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n\r\n  const handleClose = () => {\r\n    setDialog({ ...dialog, active: false });\r\n    dispatch(\r\n      setAlert({\r\n        type: \"\",\r\n        text: \"\",\r\n      })\r\n    );\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Crear\":\r\n        return <ModuleForm handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setModules(data.getModules);\r\n    }\r\n  }, [data]);\r\n\r\n  if (loading) {\r\n    return <h1>Cargando...</h1>;\r\n  }\r\n\r\n  if (error) {\r\n    return <h1>{findError(error)}</h1>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {auth?.role?.name === ROLSA ? (\r\n        <>\r\n          <DialogForm\r\n            open={dialog.active}\r\n            title={`${dialog.name} Modulo`}\r\n            component={component(dialog.name)}\r\n            handleClose={handleClose}\r\n          />\r\n\r\n          <Tooltip title=\"Crear Rol\">\r\n            <IconButton\r\n              aria-label=\"add\"\r\n              size=\"small\"\r\n              onClick={() => setDialog({ name: \"Crear\", active: true })}\r\n            >\r\n              <AddRoundedIcon />\r\n            </IconButton>\r\n          </Tooltip>\r\n          <TableContainer style={{ whiteSpace: \"nowrap\" }} component={Paper}>\r\n            <Table\r\n              className={classes.table}\r\n              size=\"small\"\r\n              aria-label=\"a dense table\"\r\n            >\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Modulo</TableCell>\r\n                  <TableCell>Descripción</TableCell>\r\n                  <TableCell>Fecha creada</TableCell>\r\n                  <TableCell>Fecha modificada</TableCell>\r\n                  <TableCell align=\"center\">Menus</TableCell>\r\n                  <TableCell align=\"center\">Permisos</TableCell>\r\n                  <TableCell align=\"right\">Opciones</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {modules.map((module) => (\r\n                  <ItemModule key={module.id} module={module} />\r\n                ))}\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <h1>No tiene permiso para acceder a este recurso.</h1>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ModulePage;\r\n","import { gql, useQuery } from \"@apollo/client\";\r\n\r\nexport const GET_PRODUCTS = gql`\r\n  query getProducts {\r\n    getProducts {\r\n      id\r\n      name\r\n      description\r\n      price\r\n      cant\r\n      createdAt\r\n      updatedAt\r\n      category {\r\n        id\r\n        name\r\n      }\r\n      brand {\r\n        id\r\n        name\r\n      }\r\n      model {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetProducts = () => {\r\n  const { data, error, loading } = useQuery(GET_PRODUCTS);\r\n\r\n  return { data, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Product } from \"../../interfaces/product.interface\";\r\nimport { GET_PRODUCTS } from \"./useGetProducts\";\r\n\r\ninterface UpdateProductInput {\r\n  variables: {\r\n    productInput: Product;\r\n  };\r\n}\r\n\r\nconst UPDATE_PRODUCT = gql`\r\n  mutation updateService($productInput: UpdateProductInput!) {\r\n    updateProduct(productInput: $productInput) {\r\n      id\r\n      name\r\n      description\r\n      price\r\n      category {\r\n        id\r\n        name\r\n      }\r\n      brand {\r\n        id\r\n        name\r\n      }\r\n      model {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useUpdateProduct = () => {\r\n  const [updateProduct, { error, loading }] = useMutation(UPDATE_PRODUCT, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_PRODUCTS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { updateProduct, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Product } from \"../../interfaces/product.interface\";\r\nimport { GET_PRODUCTS } from \"./useGetProducts\";\r\n\r\ninterface CreateProductInput {\r\n  variables: {\r\n    productInput: Product;\r\n  };\r\n}\r\n\r\nconst CREATE_PRODUCT = gql`\r\n  mutation registerProduct($productInput: CreateProductInput!) {\r\n    registerProduct(productInput: $productInput) {\r\n      id\r\n      name\r\n      description\r\n      price\r\n      category {\r\n        id\r\n        name\r\n      }\r\n      brand {\r\n        id\r\n        name\r\n      }\r\n      model {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useCreateProduct = () => {\r\n  const [registerProduct, { error, loading }] = useMutation(CREATE_PRODUCT, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_PRODUCTS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { registerProduct, error, loading };\r\n};\r\n","import { Product } from \"../../interfaces/product.interface\";\r\nimport { useState, useEffect, useCallback } from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Progress from \"../progress/progress\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { FormChange, InputChange } from \"../../lib/types\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useGetCategorys } from \"../../hooks/category/useGetCategorys\";\r\nimport { useUpdateProduct } from \"../../hooks/product/useUpdateProduct\";\r\nimport { useCreateProduct } from \"../../hooks/product/useCreateProduct\";\r\nimport { Category } from \"../../interfaces/category.interface\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport { Brand } from \"../../interfaces/brand.interface\";\r\nimport { useGetBrandsByCategory } from \"../../hooks/brand/useBrandsByCategory\";\r\nimport { useGetModelsByBrand } from \"../../hooks/model/useGetModelsByBrand\";\r\nimport { Model } from \"../../interfaces/model.interface\";\r\nimport { AutoCompleteInput } from \"../../interfaces/autocompleteinput.interface\";\r\n\r\ninterface Options {\r\n  handleClose: () => void;\r\n  product?: Product;\r\n}\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialAutoCompleteInput = {\r\n  category: \"\",\r\n  brand: \"\",\r\n  model: \"\",\r\n};\r\n\r\nconst ProductForm = ({ handleClose, product }: Options) => {\r\n  const initialValueCreate: Product = {\r\n    name: \"\",\r\n    price: 0,\r\n    category: \"\",\r\n    brand: \"\",\r\n    model: \"\",\r\n    cant: 0,\r\n  };\r\n\r\n  const initialValueUpdate: Product = {\r\n    id: product?.id || \"\",\r\n    name: product?.name || \"\",\r\n    description: product?.description || \"\",\r\n    price: product?.price || 0,\r\n    cant: product?.cant || 0,\r\n    category: product?.category?.name || \"\",\r\n    brand: product?.brand?.name || \"\",\r\n    model: product?.model?.name || \"\",\r\n  };\r\n\r\n  const [productForm, setProductForm] = useState<Product>(\r\n    initialValueUpdate.id ? initialValueUpdate : initialValueCreate\r\n  );\r\n  const [valueInput, setValueInput] = useState<AutoCompleteInput>(\r\n    initialAutoCompleteInput\r\n  );\r\n  const [brands, setBrands] = useState<Brand[]>([]);\r\n  const [models, setModels] = useState<Model[]>([]);\r\n  const { data } = useGetCategorys();\r\n  const [categorys, setCategorys] = useState<Category[]>([]);\r\n  const dispatch = useDispatch();\r\n  const optionsUpdateProduct = useUpdateProduct();\r\n  const optionsCreateProduct = useCreateProduct();\r\n  const optionsGetBrandsByCategory = useGetBrandsByCategory(\r\n    productForm.category || \"\"\r\n  );\r\n\r\n  const optionsGetModelsByBrand = useGetModelsByBrand(productForm.brand || \"\");\r\n\r\n  const handleInput = (e: InputChange) => {\r\n    setProductForm({\r\n      ...productForm,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  //https://stackoverflow.com/questions/62588055/how-to-get-the-name-of-material-ui-autocomplete-component\r\n\r\n  const dataCategorys = useCallback(() => {\r\n    setCategorys(data.getCategorys);\r\n  }, [data]);\r\n\r\n  const changeBrandByCategory = useCallback(() => {\r\n    setBrands(optionsGetBrandsByCategory?.data?.getBrandsByCategory || []);\r\n  }, [optionsGetBrandsByCategory]);\r\n\r\n  const changeModelByBrand = useCallback(() => {\r\n    setModels(optionsGetModelsByBrand?.data?.getModelsByBrand || []);\r\n  }, [optionsGetModelsByBrand]);\r\n\r\n  const handleKeyUpCategory = (e: any) => {\r\n    if (\r\n      e.target.value.length < productForm.category.length ||\r\n      e.target.value.length === 0\r\n    ) {\r\n      setProductForm({\r\n        ...productForm,\r\n        category: \"\",\r\n        brand: \"\",\r\n        model: \"\",\r\n      });\r\n      setValueInput({\r\n        ...valueInput,\r\n        category: \"\",\r\n        brand: \"\",\r\n        model: \"\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleKeyUpBrand = (e: any) => {\r\n    if (\r\n      e.target.value.length < productForm.brand.length ||\r\n      e.target.value.length === 0\r\n    ) {\r\n      setProductForm({ ...productForm, brand: \"\", model: \"\" });\r\n      setValueInput({\r\n        ...valueInput,\r\n        brand: \"\",\r\n        model: \"\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleKeyUpModel = (e: any) => {\r\n    if (\r\n      e.target.value.length < productForm.model.length ||\r\n      e.target.value.length === 0\r\n    ) {\r\n      setProductForm({ ...productForm, model: \"\" });\r\n      setValueInput({\r\n        ...valueInput,\r\n        model: \"\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n\r\n    if (productForm.id) {\r\n      try {\r\n        await optionsUpdateProduct.updateProduct({\r\n          variables: {\r\n            productInput: {\r\n              ...productForm,\r\n              price: Number(productForm.price),\r\n              cant: Number(productForm.cant),\r\n            },\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El producto se actualizó correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      try {\r\n        await optionsCreateProduct.registerProduct({\r\n          variables: {\r\n            productInput: {\r\n              ...productForm,\r\n              price: Number(productForm.price),\r\n              cant: Number(productForm.cant),\r\n            },\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El producto ha sido registrada correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      dataCategorys();\r\n      changeBrandByCategory();\r\n      changeModelByBrand();\r\n    }\r\n  }, [data, dataCategorys, changeBrandByCategory, changeModelByBrand]);\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12}>\r\n          <Autocomplete\r\n            id=\"idCategory\"\r\n            onChange={(event, value) => {\r\n              setProductForm({\r\n                ...productForm,\r\n                category: value?.name || \"\",\r\n                brand: \"\",\r\n                model: \"\",\r\n              });\r\n              setValueInput({\r\n                ...valueInput,\r\n                brand: \"\",\r\n                model: \"\",\r\n              });\r\n              dispatch(setAlert(initialAlert));\r\n            }}\r\n            onKeyUp={handleKeyUpCategory}\r\n            inputValue={\r\n              valueInput.category ? valueInput.category : productForm.category\r\n            }\r\n            onInputChange={(e, newValue) => {\r\n              setValueInput({ ...valueInput, category: newValue });\r\n            }}\r\n            options={categorys}\r\n            getOptionLabel={(category) => (category.name ? category.name : \"\")}\r\n            getOptionSelected={(option, value) =>\r\n              option.name !== value.name ? false : true\r\n            }\r\n            renderInput={(params) => (\r\n              <TextField\r\n                {...params}\r\n                name=\"category\"\r\n                label=\"Categoria\"\r\n                variant=\"outlined\"\r\n              />\r\n            )}\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={6}>\r\n          <Autocomplete\r\n            id=\"idBrand\"\r\n            onChange={(event, value) => {\r\n              setProductForm({\r\n                ...productForm,\r\n                brand: value?.name || \"\",\r\n                model: \"\",\r\n              });\r\n              setValueInput({\r\n                ...valueInput,\r\n                model: \"\",\r\n              });\r\n              dispatch(setAlert(initialAlert));\r\n            }}\r\n            onKeyUp={handleKeyUpBrand}\r\n            inputValue={valueInput.brand ? valueInput.brand : productForm.brand}\r\n            onInputChange={(e, newValue) => {\r\n              setValueInput({ ...valueInput, brand: newValue });\r\n            }}\r\n            options={brands}\r\n            getOptionLabel={(brand) => (brand.name ? brand.name : \"\")}\r\n            getOptionSelected={(option, value) =>\r\n              option.name !== value.name ? false : true\r\n            }\r\n            renderInput={(params) => (\r\n              <TextField\r\n                {...params}\r\n                name=\"brand\"\r\n                label=\"Marca\"\r\n                variant=\"outlined\"\r\n              />\r\n            )}\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={6}>\r\n          <Autocomplete\r\n            id=\"idModel\"\r\n            onChange={(event, value) => {\r\n              setProductForm({ ...productForm, model: value?.name || \"\" });\r\n              dispatch(setAlert(initialAlert));\r\n            }}\r\n            onKeyUp={handleKeyUpModel}\r\n            inputValue={valueInput.model ? valueInput.model : productForm.model}\r\n            onInputChange={(e, newValue) => {\r\n              setValueInput({ ...valueInput, model: newValue });\r\n            }}\r\n            options={models}\r\n            getOptionLabel={(model) => (model.name ? model.name : \"\")}\r\n            getOptionSelected={(option, value) =>\r\n              option.name !== value.name ? false : true\r\n            }\r\n            renderInput={(params) => (\r\n              <TextField\r\n                name=\"model\"\r\n                {...params}\r\n                label=\"Modelo\"\r\n                variant=\"outlined\"\r\n              />\r\n            )}\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"name\"\r\n            autoComplete=\"off\"\r\n            id=\"idName\"\r\n            label=\"Producto\"\r\n            variant=\"outlined\"\r\n            value={productForm.name}\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            name=\"description\"\r\n            onChange={handleInput}\r\n            id=\"idDescription\"\r\n            label=\"Descripción\"\r\n            multiline\r\n            rows={6}\r\n            defaultValue={productForm.description}\r\n            variant=\"outlined\"\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"price\"\r\n            autoComplete=\"off\"\r\n            id=\"idPrice\"\r\n            label=\"Precio\"\r\n            variant=\"outlined\"\r\n            value={productForm.price}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">S/</InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"cant\"\r\n            autoComplete=\"off\"\r\n            id=\"idCant\"\r\n            label=\"Cantidad\"\r\n            variant=\"outlined\"\r\n            value={productForm.cant}\r\n          />\r\n        </Grid>\r\n\r\n        <DialogActions style={{ width: \"100%\" }}>\r\n          <Button onClick={() => handleClose()} color=\"primary\">\r\n            Cancelar\r\n          </Button>\r\n          {productForm.id ? (\r\n            optionsUpdateProduct.loading ? (\r\n              <Progress />\r\n            ) : (\r\n              <Button\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                autoFocus\r\n                variant=\"contained\"\r\n              >\r\n                Actualizar\r\n              </Button>\r\n            )\r\n          ) : optionsCreateProduct.loading ? (\r\n            <Progress />\r\n          ) : (\r\n            <Button type=\"submit\" color=\"primary\" autoFocus variant=\"contained\">\r\n              Registrar\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      </Grid>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ProductForm;\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { GET_PRODUCTS } from \"./useGetProducts\";\r\n\r\nconst DELETE_PRODUCT = gql`\r\n  mutation deleteProduct($id: String!) {\r\n    deleteProduct(id: $id)\r\n  }\r\n`;\r\n\r\nexport const useDeleteProduct = () => {\r\n  const [deleteProduct, { error, loading }] = useMutation(DELETE_PRODUCT, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_PRODUCTS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { deleteProduct, error, loading };\r\n};\r\n","import { Product } from \"../../interfaces/product.interface\";\r\nimport ProductForm from \"./product-form\";\r\nimport { useState } from \"react\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport DialogForm from \"../dialog/dialog.component\";\r\nimport { PERMIT_FOUR, PERMIT_TREE, PERMIT_TWO } from \"../../const\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\r\nimport { Dialog } from \"../../interfaces/dialog.interface\";\r\nimport moment from \"moment\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { loadAccess } from \"../acceso/filter-access.component\";\r\nimport { formatMoney } from \"../../lib/currency/money\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport HighlightOffRoundedIcon from \"@material-ui/icons/HighlightOffRounded\";\r\nimport { useDeleteProduct } from \"../../hooks/product/useDeleteProduct\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst ProductList = ({ product }: { product: Product }) => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n  const optionsProduct = useDeleteProduct();\r\n\r\n  const deleteProduct = async (id: string | undefined) => {\r\n    try {\r\n      await optionsProduct.deleteProduct({\r\n        variables: {\r\n          id,\r\n        },\r\n      });\r\n    } catch (e) {\r\n      setDialog({ name: \"error\", active: true });\r\n      dispatch(\r\n        setAlert({\r\n          type: \"error\",\r\n          text: findError(e),\r\n        })\r\n      );\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={dialog.name}\r\n        handleClose={handleClose}\r\n      />;\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Producto\":\r\n        return <ProductForm product={product} handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const showOptionsForEdit = () => (\r\n    <>\r\n      <Tooltip\r\n        title=\"Editar Producto\"\r\n        onClick={() => setDialog({ name: \"Producto\", active: true })}\r\n      >\r\n        <IconButton aria-label=\"product\" size=\"small\">\r\n          <EditRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showOptionsForDelete = () => (\r\n    <>\r\n      <Tooltip\r\n        title=\"Eliminar Producto\"\r\n        onClick={() => deleteProduct(product.id)}\r\n      >\r\n        <IconButton aria-label=\"egress\" size=\"small\">\r\n          <HighlightOffRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showData = () => (\r\n    <>\r\n      <TableRow>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {product.category!.name}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {product.brand!.name}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {product.model!.name}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {product.name}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {formatMoney(product.price)}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\" align=\"center\">\r\n          {product.cant}\r\n        </TableCell>\r\n        <TableCell>{moment(product.createdAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n        <TableCell>{moment(product.updatedAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n        <TableCell align=\"right\">\r\n          {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n          {loadAccess(PERMIT_TREE, auth, page, showOptionsForDelete)}\r\n        </TableCell>\r\n      </TableRow>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        dialog={product}\r\n        title={dialog.name}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      {loadAccess(PERMIT_FOUR, auth, page, showData)}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductList;\r\n","import { useState, useEffect } from \"react\";\r\nimport { findError } from \"../helpers/control-errors\";\r\nimport { loadAccess } from \"../components/acceso/filter-access.component\";\r\nimport { PERMIT_ONE } from \"../const\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { setAlert } from \"../store/alert/action\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport DialogForm from \"../components/dialog/dialog.component\";\r\nimport { Dialog } from \"../interfaces/dialog.interface\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\r\nimport { User } from \"../interfaces/user.interface\";\r\n\r\nimport { Product } from \"../interfaces/product.interface\";\r\nimport ProductList from \"../components/product/product-list\";\r\nimport ProductForm from \"../components/product/product-form\";\r\nimport { useGetProducts } from \"../hooks/product/useGetProducts\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst ProductPage = () => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n\r\n  const { data, loading, error } = useGetProducts();\r\n  const [products, setProducts] = useState<Product[]>([]);\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Crear\":\r\n        return <ProductForm handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setProducts(data.getProducts);\r\n    }\r\n  }, [data]);\r\n\r\n  if (loading) {\r\n    return <h1>Cargando...</h1>;\r\n  }\r\n\r\n  if (error) {\r\n    return <h1>{findError(error)}</h1>;\r\n  }\r\n\r\n  const showDialogToCreate = () => (\r\n    <>\r\n      <Tooltip title=\"Crear Producto\">\r\n        <IconButton\r\n          aria-label=\"add\"\r\n          size=\"small\"\r\n          onClick={() => setDialog({ name: \"Crear\", active: true })}\r\n        >\r\n          <AddRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={`${dialog.name} Producto`}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      {loadAccess(PERMIT_ONE, auth, page, showDialogToCreate)}\r\n      <TableContainer\r\n        component={Paper}\r\n        style={{ whiteSpace: \"nowrap\", marginTop: 10 }}\r\n      >\r\n        <Table\r\n          //className={classes.table}\r\n          size=\"small\"\r\n          aria-label=\"a dense table\"\r\n        >\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Categoria</TableCell>\r\n              <TableCell>Marca</TableCell>\r\n              <TableCell>Model</TableCell>\r\n              <TableCell>Producto</TableCell>\r\n              <TableCell>Precio</TableCell>\r\n              <TableCell>Cantidad</TableCell>\r\n              <TableCell>Fecha creada</TableCell>\r\n              <TableCell>Fecha modificada</TableCell>\r\n              <TableCell align=\"right\">Opciones</TableCell>{\" \"}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {products.map((product) => (\r\n              <ProductList key={product.id} product={product} />\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductPage;\r\n","import { gql, useQuery } from \"@apollo/client\";\r\n\r\nexport const GET_ROLES = gql`\r\n  query getRoles {\r\n    getRoles {\r\n      id\r\n      name\r\n      description\r\n      createdAt\r\n      updatedAt\r\n      modules {\r\n        id\r\n        name\r\n        description\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetRoles = () => {\r\n  const { data, loading, error } = useQuery(GET_ROLES);\r\n  return { data, loading, error };\r\n};\r\n","import React from \"react\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport { Module } from \"../../interfaces/module.interface\";\r\nimport { MODULE_FORBIDDEN } from \"../../const\";\r\n\r\nconst RoleModuleItem = ({ module }: { module: Module }) => {\r\n  return (\r\n    <>\r\n      {module.name === MODULE_FORBIDDEN ? (\r\n        <Chip\r\n          style={{ margin: \"3px\" }}\r\n          size=\"small\"\r\n          label={module.name}\r\n          color=\"primary\"\r\n        />\r\n      ) : (\r\n        <Chip\r\n          style={{ margin: \"3px\" }}\r\n          size=\"small\"\r\n          label={module.name}\r\n          onDelete={() => alert(\"keiner\")}\r\n          color=\"primary\"\r\n        />\r\n      )}\r\n      &nbsp;\r\n    </>\r\n  );\r\n};\r\nexport default RoleModuleItem;\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Role } from \"../../interfaces/role.interface\";\r\nimport { GET_ROLES } from \"./useGetRoles\";\r\n\r\ninterface RoleInput {\r\n  variables: {\r\n    roleInput: Role;\r\n  };\r\n}\r\n\r\nconst CREATE_ROL = gql`\r\n  mutation registerRole($roleInput: RoleInput!) {\r\n    registerRole(roleInput: $roleInput) {\r\n      id\r\n      name\r\n      description\r\n      modules {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n//https://stackoverflow.com/questions/58431224/how-does-apollo-client-graphql-refetchqueries-works\r\nexport const useCreateRole = () => {\r\n  const [registerRole, { error, loading }] = useMutation(CREATE_ROL, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_ROLES,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { registerRole, error, loading };\r\n};\r\n","import React, { useState, ChangeEvent, FormEvent, useEffect } from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { Role } from \"../../interfaces/role.interface\";\r\nimport { useUpdateRole } from \"../../hooks/role/useUpdateRole\";\r\nimport { useCreateRole } from \"../../hooks/role/useCreateRole\";\r\nimport Progress from \"../progress/progress\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport {\r\n  createStyles,\r\n  makeStyles,\r\n  useTheme,\r\n  Theme,\r\n} from \"@material-ui/core/styles\";\r\nimport { Module } from \"../../interfaces/module.interface\";\r\nimport { useGetModules } from \"../../hooks/module/useGetModules\";\r\nimport { MODULE_FORBIDDEN, ROLSA } from \"../../const\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\n\r\ntype InputChange = ChangeEvent<HTMLInputElement | HTMLTextAreaElement>;\r\ntype FormChange = FormEvent<HTMLFormElement>;\r\ntype SelectChange = ChangeEvent<{ value: unknown } | any | HTMLSelectElement>;\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    formControl: {\r\n      margin: theme.spacing(1),\r\n      minWidth: 120,\r\n      maxWidth: 300,\r\n    },\r\n    chips: {\r\n      display: \"flex\",\r\n      flexWrap: \"wrap\",\r\n    },\r\n    chip: {\r\n      margin: 2,\r\n    },\r\n    noLabel: {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n  })\r\n);\r\n\r\nconst ITEM_HEIGHT = 48;\r\nconst ITEM_PADDING_TOP = 8;\r\nconst MenuProps = {\r\n  PaperProps: {\r\n    style: {\r\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n      width: 250,\r\n    },\r\n  },\r\n};\r\n\r\nconst RoleForm = ({\r\n  role,\r\n  handleClose,\r\n}: {\r\n  role?: Role;\r\n  handleClose: () => void;\r\n}) => {\r\n  const initialValueUpdate: Role = {\r\n    id: role?.id || \"\",\r\n    name: role?.name || \"\",\r\n    description: role?.description || \"\",\r\n  };\r\n\r\n  const initialValueCreate: Role = {\r\n    name: \"\",\r\n    description: \"\",\r\n  };\r\n\r\n  const optionsUpdateRole = useUpdateRole();\r\n  const optionsCreateRole = useCreateRole();\r\n  const optionsGetModules = useGetModules();\r\n  const [roleForm, setRoleForm] = useState<Role>(\r\n    initialValueUpdate.id ? initialValueUpdate : initialValueCreate\r\n  );\r\n  const [modulesSelected, setModulesSelected] = useState<Module[]>([]);\r\n  const [listModules, setListModules] = useState<Module[]>([]);\r\n  const theme = useTheme();\r\n  const dispatch = useDispatch();\r\n  const classes = useStyles();\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n\r\n  const handleInput = (e: InputChange) => {\r\n    setRoleForm({ ...roleForm, [e.target.name]: e.target.value });\r\n    dispatch(\r\n      setAlert({\r\n        type: \"\",\r\n        text: \"\",\r\n      })\r\n    );\r\n  };\r\n\r\n  const handleSelect = (e: SelectChange) => {\r\n    setModulesSelected(e.target.value);\r\n    dispatch(\r\n      setAlert({\r\n        type: \"\",\r\n        text: \"\",\r\n      })\r\n    );\r\n  };\r\n\r\n  const sentToAddModules = modulesSelected.map((value) => {\r\n    return { name: value };\r\n  });\r\n\r\n  function getStyles(name: any, personName: Module[], theme: Theme) {\r\n    return {\r\n      fontWeight:\r\n        personName.indexOf(name) === -1\r\n          ? theme.typography.fontWeightRegular\r\n          : theme.typography.fontWeightMedium,\r\n    };\r\n  }\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n    if (roleForm.id) {\r\n      try {\r\n        await optionsUpdateRole.updateRole({\r\n          variables: {\r\n            roleInput: roleForm,\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El rol se actualizó correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      try {\r\n        await optionsCreateRole.registerRole({\r\n          variables: {\r\n            roleInput: { ...roleForm, modules: sentToAddModules },\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El rol se registró correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (optionsGetModules.data) {\r\n      const listModulesNoModulos = optionsGetModules.data.getModules.filter(\r\n        (menu: any) => menu.name !== MODULE_FORBIDDEN\r\n      );\r\n      setListModules(listModulesNoModulos);\r\n    }\r\n  }, [optionsGetModules.data]);\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={onSubmit}>\r\n        <Grid container spacing={3}>\r\n          {roleForm.id && roleForm.name === ROLSA ? (\r\n            \"\"\r\n          ) : (\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                fullWidth\r\n                onChange={handleInput}\r\n                name=\"name\"\r\n                id=\"idName\"\r\n                label=\"Role\"\r\n                variant=\"outlined\"\r\n                value={roleForm.name}\r\n              />\r\n            </Grid>\r\n          )}\r\n\r\n          <Grid item xs={12}>\r\n            <TextField\r\n              fullWidth\r\n              onChange={handleInput}\r\n              name=\"description\"\r\n              id=\"idDescription\"\r\n              label=\"Descripción\"\r\n              multiline\r\n              value={roleForm.description}\r\n              variant=\"outlined\"\r\n            />\r\n          </Grid>\r\n          {!initialValueUpdate.id && (\r\n            <Grid item xs={12}>\r\n              <FormControl variant=\"outlined\" fullWidth>\r\n                <InputLabel id=\"module-mutiple-chip-label\">Modulos</InputLabel>\r\n                <Select\r\n                  labelId=\"module-mutiple-chip-label\"\r\n                  id=\"module-mutiple-chip\"\r\n                  multiple\r\n                  value={modulesSelected}\r\n                  onChange={handleSelect}\r\n                  input={<Input id=\"select-multiple-chip\" />}\r\n                  renderValue={(selected) => (\r\n                    <div className={classes.chips}>\r\n                      {(selected as any[]).map((module) => {\r\n                        return (\r\n                          <Chip\r\n                            key={module}\r\n                            label={module}\r\n                            className={classes.chip}\r\n                          />\r\n                        );\r\n                      })}\r\n                    </div>\r\n                  )}\r\n                  MenuProps={MenuProps}\r\n                >\r\n                  {listModules.map((module) =>\r\n                    auth?.role?.name === ROLSA ? (\r\n                      <MenuItem\r\n                        key={module.id}\r\n                        value={module.name}\r\n                        style={getStyles(\r\n                          module.name,\r\n                          roleForm.modules || [],\r\n                          theme\r\n                        )}\r\n                      >\r\n                        {module.name}\r\n                      </MenuItem>\r\n                    ) : (\r\n                      module.name !== MODULE_FORBIDDEN && (\r\n                        <MenuItem\r\n                          key={module.id}\r\n                          value={module.name}\r\n                          style={getStyles(\r\n                            module.name,\r\n                            roleForm.modules || [],\r\n                            theme\r\n                          )}\r\n                        >\r\n                          {module.name}\r\n                        </MenuItem>\r\n                      )\r\n                    )\r\n                  )}\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n          )}\r\n          <DialogActions style={{ width: \"100%\" }}>\r\n            <Button onClick={() => handleClose()} color=\"primary\">\r\n              Cancelar\r\n            </Button>\r\n            {roleForm.id ? (\r\n              optionsUpdateRole.loading ? (\r\n                <Progress />\r\n              ) : (\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  autoFocus\r\n                  variant=\"contained\"\r\n                >\r\n                  Actualizar\r\n                </Button>\r\n              )\r\n            ) : optionsCreateRole.loading ? (\r\n              <Progress />\r\n            ) : (\r\n              <Button\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                autoFocus\r\n                variant=\"contained\"\r\n              >\r\n                Registrar\r\n              </Button>\r\n            )}\r\n          </DialogActions>\r\n        </Grid>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RoleForm;\r\n","import React, { useState } from \"react\";\r\n//tables\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\n//button\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\n//icon\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\r\nimport { Role } from \"../../interfaces/role.interface\";\r\nimport { useDispatch } from \"react-redux\";\r\n//dates\r\nimport moment from \"moment\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport RoleModuleItem from \"./role-module-item\";\r\nimport DialogForm from \"../dialog/dialog.component\";\r\nimport RoleForm from \"./rol-form\";\r\nimport ModuleTransferList from \"../module/module-transfer-list\";\r\nimport ViewModuleRoundedIcon from \"@material-ui/icons/ViewModuleRounded\";\r\nimport { PERMIT_FOUR, PERMIT_TWO, ROLSA } from \"../../const\";\r\nimport { loadAccess } from \"../acceso/filter-access.component\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\n\r\ninterface Dialog {\r\n  name: string;\r\n  active: boolean;\r\n}\r\n\r\nconst initialValueButton = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst RoleList = ({ role }: { role: Role }) => {\r\n  const [dialog, setDialog] = useState<Dialog>(initialValueButton);\r\n  const dispatch = useDispatch();\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n\r\n  const handleClose = () => {\r\n    setDialog({ ...dialog, active: false });\r\n    dispatch(\r\n      setAlert({\r\n        type: \"\",\r\n        text: \"\",\r\n      })\r\n    );\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Modulo\":\r\n        return <ModuleTransferList role={role} handleClose={handleClose} />;\r\n\r\n      case \"Rol\":\r\n        return <RoleForm role={role} handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n  const showOptionsForEdit = () => (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        dialog={role}\r\n        title={dialog.name}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      {role.name === ROLSA ? (\r\n        <TableCell align=\"center\">\r\n          <Tooltip\r\n            title=\"Asignar modulos\"\r\n            onClick={() => setDialog({ name: \"Modulo\", active: true })}\r\n          >\r\n            <IconButton aria-label=\"modules\" size=\"small\">\r\n              <ViewModuleRoundedIcon />\r\n            </IconButton>\r\n          </Tooltip>\r\n        </TableCell>\r\n      ) : (\r\n        <TableCell align=\"right\">\r\n          <Tooltip\r\n            title=\"Asignar modulos\"\r\n            onClick={() => setDialog({ name: \"Modulo\", active: true })}\r\n          >\r\n            <IconButton aria-label=\"modules\" size=\"small\">\r\n              <ViewModuleRoundedIcon />\r\n            </IconButton>\r\n          </Tooltip>\r\n          <Tooltip\r\n            title=\"Editar rol\"\r\n            onClick={() => setDialog({ name: \"Rol\", active: true })}\r\n          >\r\n            <IconButton aria-label=\"role\" size=\"small\">\r\n              <EditRoundedIcon />\r\n            </IconButton>\r\n          </Tooltip>\r\n        </TableCell>\r\n      )}\r\n    </>\r\n  );\r\n\r\n  const showData = () => (\r\n    <>\r\n      <TableRow>\r\n        {auth?.role?.name === ROLSA ? (\r\n          <>\r\n            <TableCell component=\"th\" scope=\"row\">\r\n              {role.name}\r\n            </TableCell>\r\n            <TableCell>{role.description}</TableCell>\r\n            <TableCell>{moment(role.createdAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n            <TableCell>{moment(role.updatedAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n            <TableCell align=\"center\">\r\n              {role.modules &&\r\n                role.modules.map((module) => (\r\n                  <RoleModuleItem key={module.id} module={module} />\r\n                ))}\r\n            </TableCell>\r\n            {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n          </>\r\n        ) : (\r\n          <>\r\n            {role.name === ROLSA || (\r\n              <>\r\n                <TableCell component=\"th\" scope=\"row\">\r\n                  {role.name}\r\n                </TableCell>\r\n                <TableCell>{role.description}</TableCell>\r\n                <TableCell>\r\n                  {moment(role.createdAt).format(\"DD/MM/YYYY\")}\r\n                </TableCell>\r\n                <TableCell>\r\n                  {moment(role.updatedAt).format(\"DD/MM/YYYY\")}\r\n                </TableCell>\r\n                <TableCell align=\"center\">\r\n                  {role.modules &&\r\n                    role.modules.map((module) => (\r\n                      <RoleModuleItem key={module.id} module={module} />\r\n                    ))}\r\n                </TableCell>\r\n                {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n              </>\r\n            )}\r\n          </>\r\n        )}\r\n      </TableRow>\r\n    </>\r\n  );\r\n\r\n  return <>{loadAccess(PERMIT_FOUR, auth, page, showData)}</>;\r\n};\r\n\r\nexport default RoleList;\r\n","import React, { useState, useEffect } from \"react\";\r\n//css library materialui\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n//tables\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { Role } from \"../interfaces/role.interface\";\r\nimport { useGetRoles } from \"../hooks/role/useGetRoles\";\r\n//end tables\r\nimport DialogForm from \"../components/dialog/dialog.component\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\r\nimport RoleList from \"../components/role/role-list\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport RoleForm from \"../components/role/rol-form\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../store/alert/action\";\r\nimport { PERMIT_ONE, PERMIT_TWO } from \"../const\";\r\nimport { loadAccess } from \"../components/acceso/filter-access.component\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { User } from \"../interfaces/user.interface\";\r\nimport { findError } from \"../helpers/control-errors\";\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n});\r\n\r\ninterface Dialog {\r\n  name: string;\r\n  active: boolean;\r\n}\r\n\r\nconst initialValueButton = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst RolePage = () => {\r\n  const [roles, setRoles] = useState<Role[]>([]);\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialValueButton);\r\n  const dispatch = useDispatch();\r\n\r\n  const { data, loading, error } = useGetRoles();\r\n  const classes = useStyles();\r\n\r\n  const handleClose = () => {\r\n    setDialog({ ...dialog, active: false });\r\n    dispatch(\r\n      setAlert({\r\n        type: \"\",\r\n        text: \"\",\r\n      })\r\n    );\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Crear\":\r\n        return <RoleForm handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setRoles(data.getRoles);\r\n    }\r\n  }, [data]);\r\n\r\n  if (loading) {\r\n    return <h1>Cargando...</h1>;\r\n  }\r\n\r\n  if (error) {\r\n    return <h1>{findError(error)}</h1>;\r\n  }\r\n\r\n  const showDialog = () => (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={`${dialog.name} Rol`}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n\r\n      <Tooltip title=\"Crear Rol\">\r\n        <IconButton\r\n          aria-label=\"add\"\r\n          size=\"small\"\r\n          onClick={() => setDialog({ name: \"Crear\", active: true })}\r\n        >\r\n          <AddRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showOptionsForEdit = () => (\r\n    <TableCell align=\"right\">Opciones</TableCell>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {loadAccess(PERMIT_ONE, auth, page, showDialog)}\r\n      <TableContainer style={{ whiteSpace: \"nowrap\" }} component={Paper}>\r\n        <Table\r\n          className={classes.table}\r\n          size=\"small\"\r\n          aria-label=\"a dense table\"\r\n        >\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Rol</TableCell>\r\n              <TableCell>Descripción</TableCell>\r\n              <TableCell>Fecha creada</TableCell>\r\n              <TableCell>Fecha modificada</TableCell>\r\n              <TableCell align=\"center\">Modulos</TableCell>\r\n              {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {roles.map((role) => (\r\n              <RoleList key={role.id} role={role} />\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RolePage;\r\n","import { gql, useQuery } from \"@apollo/client\";\r\n\r\nexport const GET_SERVICES = gql`\r\n  query getServices {\r\n    getServices {\r\n      id\r\n      name\r\n      description\r\n      price\r\n      createdAt\r\n      updatedAt\r\n      category {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetServices = () => {\r\n  const { data, error, loading } = useQuery(GET_SERVICES);\r\n\r\n  return { data, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Service } from \"../../interfaces/service.interface\";\r\nimport { GET_SERVICES } from \"./useGetServices\";\r\n\r\ninterface UpdateServiceInput {\r\n  variables: {\r\n    serviceInput: Service;\r\n  };\r\n}\r\n\r\nconst UPDATE_SERVICE = gql`\r\n  mutation updateService($serviceInput: UpdateServiceInput!) {\r\n    updateService(serviceInput: $serviceInput) {\r\n      id\r\n      name\r\n      description\r\n      price\r\n      category {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useUpdateService = () => {\r\n  const [updateService, { error, loading }] = useMutation(UPDATE_SERVICE, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_SERVICES,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { updateService, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Service } from \"../../interfaces/service.interface\";\r\nimport { GET_SERVICES } from \"./useGetServices\";\r\n\r\ninterface CreateServiceInput {\r\n  variables: {\r\n    serviceInput: Service;\r\n  };\r\n}\r\n\r\nconst CREATE_SERVICE = gql`\r\n  mutation registerService($serviceInput: CreateServiceInput!) {\r\n    registerService(serviceInput: $serviceInput) {\r\n      id\r\n      name\r\n      description\r\n      price\r\n      category {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n//https://stackoverflow.com/questions/58431224/how-does-apollo-client-graphql-refetchqueries-works\r\nexport const useCreateService = () => {\r\n  const [registerService, { error, loading }] = useMutation(CREATE_SERVICE, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_SERVICES,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { registerService, error, loading };\r\n};\r\n","import { Service } from \"../../interfaces/service.interface\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Category } from \"../../interfaces/category.interface\";\r\nimport { useGetCategorys } from \"../../hooks/category/useGetCategorys\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useUpdateService } from \"../../hooks/service/useUpdateService\";\r\nimport { useCreateService } from \"../../hooks/service/useCreateService\";\r\nimport { FormChange, InputChange, SelectChange } from \"../../lib/types\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Progress from \"../progress/progress\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\ninterface Options {\r\n  handleClose: () => void;\r\n  service?: Service;\r\n}\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst ServiceForm = ({ handleClose, service }: Options) => {\r\n  const initialValueCreate: Service = {\r\n    name: \"\",\r\n    price: 0,\r\n    category: \"\",\r\n  };\r\n\r\n  const initialValueUpdate: Service = {\r\n    id: service?.id || \"\",\r\n    name: service?.name || \"\",\r\n    description: service?.description || \"\",\r\n    price: service?.price || 0,\r\n    category: service?.category?.name || \"\",\r\n  };\r\n\r\n  const [serviceForm, setServiceForm] = useState<Service>(\r\n    initialValueUpdate.id ? initialValueUpdate : initialValueCreate\r\n  );\r\n\r\n  const [categorys, setCategorys] = useState<Category[]>([]);\r\n  const { data } = useGetCategorys();\r\n  const dispatch = useDispatch();\r\n  const optionsUpdateService = useUpdateService();\r\n  const optionsCreateService = useCreateService();\r\n\r\n  const handleInput = (e: InputChange) => {\r\n    setServiceForm({\r\n      ...serviceForm,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const handleSelect = (e: SelectChange) => {\r\n    setServiceForm({\r\n      ...serviceForm,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n\r\n    if (serviceForm.id) {\r\n      try {\r\n        await optionsUpdateService.updateService({\r\n          variables: {\r\n            serviceInput: { ...serviceForm, price: Number(serviceForm.price) },\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El servicio se actualizó correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      try {\r\n        await optionsCreateService.registerService({\r\n          variables: {\r\n            serviceInput: { ...serviceForm, price: Number(serviceForm.price) },\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El servicio ha sido registrada correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setCategorys(data.getCategorys);\r\n    }\r\n  }, [data]);\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12}>\r\n          <FormControl variant=\"outlined\" fullWidth>\r\n            <InputLabel id=\"idCategory\">Categoria</InputLabel>\r\n            <Select\r\n              labelId=\"Categoria\"\r\n              id=\"idCategory\"\r\n              value={serviceForm.category}\r\n              onChange={handleSelect}\r\n              label=\"Categoria\"\r\n              name=\"category\"\r\n            >\r\n              {categorys.map((category) => (\r\n                <MenuItem key={category.id} value={category.name}>\r\n                  {category.name}\r\n                </MenuItem>\r\n              ))}\r\n            </Select>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"name\"\r\n            autoComplete=\"off\"\r\n            id=\"idName\"\r\n            label=\"Servicio\"\r\n            variant=\"outlined\"\r\n            value={serviceForm.name}\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"description\"\r\n            autoComplete=\"off\"\r\n            id=\"idDescription\"\r\n            label=\"Descripción\"\r\n            variant=\"outlined\"\r\n            multiline\r\n            value={serviceForm.description}\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"price\"\r\n            autoComplete=\"off\"\r\n            id=\"idPrice\"\r\n            label=\"Precio\"\r\n            variant=\"outlined\"\r\n            value={serviceForm.price}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">S/</InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n        </Grid>\r\n\r\n        <DialogActions style={{ width: \"100%\" }}>\r\n          <Button onClick={() => handleClose()} color=\"primary\">\r\n            Cancelar\r\n          </Button>\r\n          {serviceForm.id ? (\r\n            optionsUpdateService.loading ? (\r\n              <Progress />\r\n            ) : (\r\n              <Button\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                autoFocus\r\n                variant=\"contained\"\r\n              >\r\n                Actualizar\r\n              </Button>\r\n            )\r\n          ) : optionsCreateService.loading ? (\r\n            <Progress />\r\n          ) : (\r\n            <Button type=\"submit\" color=\"primary\" autoFocus variant=\"contained\">\r\n              Registrar\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      </Grid>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ServiceForm;\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { GET_SERVICES } from \"./useGetServices\";\r\n\r\nconst DELETE_SERVICE = gql`\r\n  mutation deleteService($id: String!) {\r\n    deleteService(id: $id)\r\n  }\r\n`;\r\n\r\nexport const useDeleteService = () => {\r\n  const [deleteService, { error, loading }] = useMutation(DELETE_SERVICE, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_SERVICES,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { deleteService, error, loading };\r\n};\r\n","import { Service } from \"../../interfaces/service.interface\";\r\nimport { useState } from \"react\";\r\n\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport DialogForm from \"../dialog/dialog.component\";\r\nimport { PERMIT_FOUR, PERMIT_TREE, PERMIT_TWO } from \"../../const\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport { Dialog } from \"../../interfaces/dialog.interface\";\r\nimport moment from \"moment\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { loadAccess } from \"../acceso/filter-access.component\";\r\nimport ServiceForm from \"./service-form\";\r\nimport { formatMoney } from \"../../lib/currency/money\";\r\nimport HighlightOffRoundedIcon from \"@material-ui/icons/HighlightOffRounded\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\nimport { useDeleteService } from \"../../hooks/service/useDeleteService\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst ServiceList = ({ service }: { service: Service }) => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n  const optionsService = useDeleteService();\r\n\r\n  const deleteService = async (id: string | undefined) => {\r\n    try {\r\n      await optionsService.deleteService({\r\n        variables: {\r\n          id,\r\n        },\r\n      });\r\n    } catch (e) {\r\n      setDialog({ name: \"error\", active: true });\r\n      dispatch(\r\n        setAlert({\r\n          type: \"error\",\r\n          text: findError(e),\r\n        })\r\n      );\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={dialog.name}\r\n        handleClose={handleClose}\r\n      />;\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Servicio\":\r\n        return <ServiceForm service={service} handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const showOptionsForEdit = () => (\r\n    <>\r\n      <Tooltip\r\n        title=\"Editar Servicio\"\r\n        onClick={() => setDialog({ name: \"Servicio\", active: true })}\r\n      >\r\n        <IconButton aria-label=\"service\" size=\"small\">\r\n          <EditRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showOptionsForDelete = () => (\r\n    <>\r\n      <Tooltip\r\n        title=\"Eliminar egreso\"\r\n        onClick={() => deleteService(service.id)}\r\n      >\r\n        <IconButton aria-label=\"egress\" size=\"small\">\r\n          <HighlightOffRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showData = () => (\r\n    <>\r\n      <TableRow>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {service.category!.name}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {service.name}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {formatMoney(service.price)}\r\n        </TableCell>\r\n        <TableCell>{moment(service.createdAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n        <TableCell>{moment(service.updatedAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n\r\n        <TableCell align=\"right\">\r\n          {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n          {loadAccess(PERMIT_TREE, auth, page, showOptionsForDelete)}\r\n        </TableCell>\r\n      </TableRow>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        dialog={service}\r\n        title={dialog.name}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      {loadAccess(PERMIT_FOUR, auth, page, showData)}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ServiceList;\r\n","import { useState, useEffect } from \"react\";\r\nimport { findError } from \"../helpers/control-errors\";\r\nimport { loadAccess } from \"../components/acceso/filter-access.component\";\r\nimport { PERMIT_ONE, PERMIT_TWO } from \"../const\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { setAlert } from \"../store/alert/action\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport DialogForm from \"../components/dialog/dialog.component\";\r\nimport { Dialog } from \"../interfaces/dialog.interface\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\r\nimport { User } from \"../interfaces/user.interface\";\r\n\r\nimport { Service } from \"../interfaces/service.interface\";\r\nimport ServiceForm from \"../components/service/service-form\";\r\nimport ServiceList from \"../components/service/service-list\";\r\nimport { useGetServices } from \"../hooks/service/useGetServices\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst ServicePage = () => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n\r\n  const { data, loading, error } = useGetServices();\r\n  const [services, setServices] = useState<Service[]>([]);\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Crear\":\r\n        return <ServiceForm handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setServices(data.getServices);\r\n    }\r\n  }, [data]);\r\n\r\n  if (loading) {\r\n    return <h1>Cargando...</h1>;\r\n  }\r\n\r\n  if (error) {\r\n    return <h1>{findError(error)}</h1>;\r\n  }\r\n\r\n  const showDialogToCreate = () => (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={`${dialog.name} Servicio`}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      <Tooltip title=\"Crear Servicio\">\r\n        <IconButton\r\n          aria-label=\"add\"\r\n          size=\"small\"\r\n          onClick={() => setDialog({ name: \"Crear\", active: true })}\r\n        >\r\n          <AddRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {loadAccess(PERMIT_ONE, auth, page, showDialogToCreate)}\r\n      <TableContainer\r\n        component={Paper}\r\n        style={{ whiteSpace: \"nowrap\", marginTop: 10 }}\r\n      >\r\n        <Table\r\n          //className={classes.table}\r\n          size=\"small\"\r\n          aria-label=\"a dense table\"\r\n        >\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Categoria</TableCell>\r\n              <TableCell>Servicio</TableCell>\r\n              <TableCell>Precio</TableCell>\r\n              <TableCell>Fecha creada</TableCell>\r\n              <TableCell>Fecha modificada</TableCell>\r\n              <TableCell align=\"right\">Opciones</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {services.map((service) => (\r\n              <ServiceList key={service.id} service={service} />\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ServicePage;\r\n","import { gql, useQuery } from \"@apollo/client\";\r\n\r\nexport const GET_USERS = gql`\r\n  query getUsers {\r\n    getUsers {\r\n      id\r\n      name\r\n      lastName\r\n      email\r\n      status\r\n      createdAt\r\n      updatedAt\r\n      role {\r\n        name\r\n        description\r\n        modules {\r\n          access {\r\n            id\r\n            name\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetUsers = () => {\r\n  const { data, loading, error } = useQuery(GET_USERS);\r\n\r\n  return { data, loading, error };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport { GET_USERS } from \"./useGetUsers\";\r\n\r\ninterface UserUpdateInput {\r\n  variables: {\r\n    userInput: User;\r\n  };\r\n}\r\n\r\nconst UPDATE_USER = gql`\r\n  mutation updateRole($userInput: UserUpdateInput!) {\r\n    updateUser(userInput: $userInput) {\r\n      id\r\n      name\r\n      lastName\r\n      email\r\n      role {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useUpdateUser = () => {\r\n  const [updateUser, { error, loading }] = useMutation(\r\n    UPDATE_USER\r\n    //   , {\r\n    //   refetchQueries: () => [\r\n    //     {\r\n    //       query: GET_USERS,\r\n    //     },\r\n    //   ],\r\n    // }\r\n  );\r\n\r\n  return { updateUser, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport { GET_USERS } from \"./useGetUsers\";\r\n\r\ninterface UserInput {\r\n  variables: {\r\n    userInput: User;\r\n  };\r\n}\r\n\r\nconst CREATE_USER = gql`\r\n  mutation registerUser($userInput: UserInput!) {\r\n    registerUser(userInput: $userInput) {\r\n      id\r\n      name\r\n      lastName\r\n      email\r\n      createdAt\r\n      updatedAt\r\n      role {\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useCreateUser = () => {\r\n  const [registerUser, { error, loading }] = useMutation(CREATE_USER, {\r\n    refetchQueries: () => [{ query: GET_USERS }],\r\n  });\r\n  return { registerUser, error, loading };\r\n};\r\n","import React, { useState, ChangeEvent, FormEvent, useEffect } from \"react\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { useUpdateUser } from \"../../hooks/user/useUpdateUser\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport { useGetRoles } from \"../../hooks/role/useGetRoles\";\r\nimport { Role } from \"../../interfaces/role.interface\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport { useCreateUser } from \"../../hooks/user/useCreateUser\";\r\nimport Progress from \"../progress/progress\";\r\nimport { ROLSA } from \"../../const\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\n\r\ntype InputChange = ChangeEvent<HTMLInputElement | HTMLTextAreaElement>;\r\ntype FormChange = FormEvent<HTMLFormElement>;\r\ntype SelectChange = ChangeEvent<{ value: unknown } | any | HTMLSelectElement>;\r\n\r\nconst UserForm = ({\r\n  user,\r\n  handleClose,\r\n}: {\r\n  user?: User;\r\n  handleClose: () => void;\r\n}) => {\r\n  const initialValueCreate: User = {\r\n    name: \"\",\r\n    lastName: \"\",\r\n    role: {\r\n      name: \"\",\r\n    },\r\n    email: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n  };\r\n\r\n  const initialValueUpdate: User = {\r\n    id: user?.id || \"\",\r\n    name: user?.name || \"\",\r\n    lastName: user?.lastName || \"\",\r\n    role: {\r\n      name: user?.role?.name || \"\",\r\n    },\r\n    email: user?.email || \"\",\r\n  };\r\n\r\n  const [userForm, setUserForm] = useState<User>(\r\n    initialValueUpdate.id ? initialValueUpdate : initialValueCreate\r\n  );\r\n  const [listRoles, setListRoles] = useState<Role[]>([]);\r\n  const dispatch = useDispatch();\r\n  const optionsUpdateUser = useUpdateUser();\r\n  const { data } = useGetRoles();\r\n  const optionsCreateUser = useCreateUser();\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n\r\n  const handleInput = (e: InputChange) => {\r\n    setUserForm({ ...userForm, [e.target.name]: e.target.value });\r\n    dispatch(\r\n      setAlert({\r\n        type: \"\",\r\n        text: \"\",\r\n      })\r\n    );\r\n  };\r\n\r\n  const handleSelect = (e: SelectChange) => {\r\n    setUserForm({\r\n      ...userForm,\r\n      [e.target.name]: { name: e.target.value },\r\n    });\r\n    dispatch(\r\n      setAlert({\r\n        type: \"\",\r\n        text: \"\",\r\n      })\r\n    );\r\n  };\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n    if (userForm.id) {\r\n      try {\r\n        await optionsUpdateUser.updateUser({\r\n          variables: {\r\n            userInput: userForm,\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El usuario se actualizó correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      try {\r\n        await optionsCreateUser.registerUser({\r\n          variables: {\r\n            userInput: userForm,\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El usuario ha sido registrado correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setListRoles(data.getRoles);\r\n    }\r\n  }, [data]);\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={onSubmit}>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={6}>\r\n            <TextField\r\n              fullWidth\r\n              onChange={handleInput}\r\n              name=\"name\"\r\n              autoComplete=\"off\"\r\n              id=\"idNombres\"\r\n              label=\"Nombres\"\r\n              variant=\"outlined\"\r\n              value={userForm.name}\r\n            />\r\n          </Grid>\r\n\r\n          <Grid item xs={6}>\r\n            <TextField\r\n              fullWidth\r\n              onChange={handleInput}\r\n              name=\"lastName\"\r\n              autoComplete=\"off\"\r\n              id=\"idApellidos\"\r\n              label=\"Apellidos\"\r\n              value={userForm.lastName}\r\n              variant=\"outlined\"\r\n            />\r\n          </Grid>\r\n          {userForm.role?.name === ROLSA || (\r\n            <>\r\n              <Grid item xs={12}>\r\n                <FormControl variant=\"outlined\" fullWidth>\r\n                  <InputLabel id=\"idRole\">Rol</InputLabel>\r\n                  <Select\r\n                    labelId=\"Rol\"\r\n                    id=\"idRole\"\r\n                    value={userForm.role?.name}\r\n                    onChange={handleSelect}\r\n                    label=\"Rol\"\r\n                    name=\"role\"\r\n                  >\r\n                    {listRoles.map((role) =>\r\n                      auth?.role?.name === ROLSA ? (\r\n                        <MenuItem key={role.id} value={role.name}>\r\n                          {role.name}\r\n                        </MenuItem>\r\n                      ) : (\r\n                        role.name !== ROLSA && (\r\n                          <MenuItem key={role.id} value={role.name}>\r\n                            {role.name}\r\n                          </MenuItem>\r\n                        )\r\n                      )\r\n                    )}\r\n                  </Select>\r\n                </FormControl>\r\n              </Grid>\r\n            </>\r\n          )}\r\n          <Grid item xs={12}>\r\n            <TextField\r\n              fullWidth\r\n              onChange={handleInput}\r\n              name=\"email\"\r\n              autoComplete=\"off\"\r\n              id=\"idEmail\"\r\n              label=\"Correo\"\r\n              value={userForm.email}\r\n              variant=\"outlined\"\r\n              InputProps={{\r\n                readOnly: userForm.id ? true : false,\r\n              }}\r\n            />\r\n          </Grid>\r\n          {userForm.id ? (\r\n            \"\"\r\n          ) : (\r\n            <>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  fullWidth\r\n                  onChange={handleInput}\r\n                  name=\"password\"\r\n                  autoComplete=\"off\"\r\n                  id=\"idPassword\"\r\n                  label=\"Contraseña\"\r\n                  value={userForm.password}\r\n                  variant=\"outlined\"\r\n                  type=\"password\"\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  fullWidth\r\n                  onChange={handleInput}\r\n                  name=\"confirmPassword\"\r\n                  autoComplete=\"off\"\r\n                  id=\"idConfirmPassword\"\r\n                  label=\"Repetir contraseña\"\r\n                  value={userForm.confirmPassword}\r\n                  variant=\"outlined\"\r\n                  type=\"password\"\r\n                />\r\n              </Grid>\r\n            </>\r\n          )}\r\n          <DialogActions style={{ width: \"100%\" }}>\r\n            <Button onClick={() => handleClose()} color=\"primary\">\r\n              Cancelar\r\n            </Button>\r\n            {userForm.id ? (\r\n              optionsUpdateUser.loading ? (\r\n                <Progress />\r\n              ) : (\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  autoFocus\r\n                  variant=\"contained\"\r\n                >\r\n                  Actualizar\r\n                </Button>\r\n              )\r\n            ) : optionsCreateUser.loading ? (\r\n              <Progress />\r\n            ) : (\r\n              <Button\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                autoFocus\r\n                variant=\"contained\"\r\n              >\r\n                Registrar\r\n              </Button>\r\n            )}\r\n          </DialogActions>\r\n        </Grid>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserForm;\r\n","import { gql, useMutation } from \"@apollo/client\";\r\n\r\nconst UPDATE_ACTIVATE_USER = gql`\r\n  mutation activateUser($id: String!) {\r\n    activateUser(id: $id) {\r\n      id\r\n      status\r\n    }\r\n  }\r\n`;\r\n\r\nconst UPDATE_DESACTIVATE_USER = gql`\r\n  mutation desactivateUser($id: String!) {\r\n    desactivateUser(id: $id) {\r\n      id\r\n      status\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useActivateUser = () => {\r\n  const [activateUser, { error, loading }] = useMutation(UPDATE_ACTIVATE_USER);\r\n\r\n  return { activateUser, error, loading };\r\n};\r\n\r\nexport const useDesactivateUser = () => {\r\n  const [desactivateUser, { error, loading }] = useMutation(\r\n    UPDATE_DESACTIVATE_USER\r\n  );\r\n\r\n  return { desactivateUser, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { AuthUser } from \"../../interfaces/auth.interface\";\r\n\r\ninterface AuthChangePasswordInputToAdmin {\r\n  variables: {\r\n    authInput: AuthUser;\r\n  };\r\n}\r\n\r\ninterface AuthChangePasswordInputToUser {\r\n  variables: {\r\n    authInput: AuthUser;\r\n  };\r\n}\r\nconst UPDATE_PASSWORD_TO_ADMIN = gql`\r\n  mutation changePasswordToAdmin($authInput: AuthChangePasswordInputToAdmin!) {\r\n    changePasswordToAdmin(authInput: $authInput)\r\n  }\r\n`;\r\n\r\nconst UPDATE_PASSWORD_TO_USER = gql`\r\n  mutation changePasswordToUser($authInput: AuthChangePasswordInputToUser!) {\r\n    changePasswordToUser(authInput: $authInput)\r\n  }\r\n`;\r\n\r\n//TO ADMIN\r\nexport const useChangePasswordToAdmin = () => {\r\n  const [changePasswordToAdmin, { error, loading }] = useMutation(\r\n    UPDATE_PASSWORD_TO_ADMIN\r\n  );\r\n\r\n  return { changePasswordToAdmin, error, loading };\r\n};\r\n\r\n//TO USER\r\nexport const useChangePasswordToUser = () => {\r\n  const [changePasswordToUser, { error, loading }] = useMutation(\r\n    UPDATE_PASSWORD_TO_USER\r\n  );\r\n\r\n  return { changePasswordToUser, error, loading };\r\n};\r\n","import React, { useState, ChangeEvent, FormEvent } from \"react\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport Progress from \"../progress/progress\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { useChangePasswordToAdmin } from \"../../hooks/password/useChangePassword\";\r\nimport { AuthUser } from \"../../interfaces/auth.interface\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\n\r\ntype InputChange = ChangeEvent<HTMLInputElement | HTMLTextAreaElement>;\r\ntype FormChange = FormEvent<HTMLFormElement>;\r\n\r\nconst PasswordForm = ({\r\n  user,\r\n  handleClose,\r\n}: {\r\n  user?: User;\r\n  handleClose: () => void;\r\n}) => {\r\n  const initialValue: AuthUser = {\r\n    id: user?.id || \"\",\r\n    newPassword: \"\",\r\n    confirmNewPassword: \"\",\r\n  };\r\n\r\n  const [userForm, setUserForm] = useState<AuthUser>(initialValue);\r\n  const dispatch = useDispatch();\r\n  const { changePasswordToAdmin, error, loading } = useChangePasswordToAdmin();\r\n\r\n  const handleInput = (e: InputChange) => {\r\n    setUserForm({ ...userForm, [e.target.name]: e.target.value });\r\n    dispatch(\r\n      setAlert({\r\n        type: \"\",\r\n        text: \"\",\r\n      })\r\n    );\r\n  };\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n    try {\r\n      await changePasswordToAdmin({\r\n        variables: {\r\n          authInput: userForm,\r\n        },\r\n      });\r\n      dispatch(\r\n        setAlert({\r\n          type: \"success\",\r\n          text: \"La contraseña ha sido cambiada correctamente.\",\r\n        })\r\n      );\r\n    } catch (e) {\r\n      dispatch(\r\n        setAlert({\r\n          type: \"error\",\r\n          text: findError(e),\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <Grid container spacing={3}>\r\n        {/* <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"currentPassword\"\r\n            autoComplete=\"off\"\r\n            id=\"idPassword\"\r\n            label=\"Contraseña Actual\"\r\n            variant=\"outlined\"\r\n            value={userForm.currentPassword}\r\n          />\r\n        </Grid> */}\r\n\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"newPassword\"\r\n            autoComplete=\"off\"\r\n            id=\"idNewPassword\"\r\n            label=\"Nueva Contraseña\"\r\n            value={userForm.newPassword}\r\n            variant=\"outlined\"\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"confirmNewPassword\"\r\n            autoComplete=\"off\"\r\n            id=\"idConfirmNewPassword\"\r\n            label=\"Confirmar nueva contraseña\"\r\n            value={userForm.confirmNewPassword}\r\n            variant=\"outlined\"\r\n          />\r\n        </Grid>\r\n\r\n        <DialogActions style={{ width: \"100%\" }}>\r\n          <Button onClick={() => handleClose()} color=\"primary\">\r\n            Cancelar\r\n          </Button>\r\n          {loading ? (\r\n            <Progress />\r\n          ) : (\r\n            <Button type=\"submit\" color=\"primary\" autoFocus variant=\"contained\">\r\n              Actualizar\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      </Grid>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PasswordForm;\r\n","import React, { useState } from \"react\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\r\nimport RemoveRoundedIcon from \"@material-ui/icons/RemoveRounded\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport moment from \"moment\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport DialogForm from \"../dialog/dialog.component\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport UserForm from \"./user-form\";\r\nimport CheckRoundedIcon from \"@material-ui/icons/CheckRounded\";\r\nimport {\r\n  useActivateUser,\r\n  useDesactivateUser,\r\n} from \"../../hooks/user/useUpdateAccessToLogin\";\r\nimport { loadAccess } from \"../acceso/filter-access.component\";\r\nimport { PERMIT_FOUR, PERMIT_TWO, ROLSA } from \"../../const\";\r\nimport LockRoundedIcon from \"@material-ui/icons/LockRounded\";\r\nimport PasswordForm from \"../password/password-form\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\n\r\ninterface Dialog {\r\n  name: string;\r\n  active: boolean;\r\n}\r\n\r\nconst initialValueButton = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst UserList = ({ user }: { user: User }) => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialValueButton);\r\n  const dispatch = useDispatch();\r\n  const optionsActivate = useActivateUser();\r\n  const optionsDesactivate = useDesactivateUser();\r\n  const handleClose = () => {\r\n    setDialog({ ...dialog, active: false });\r\n    dispatch(\r\n      setAlert({\r\n        type: \"\",\r\n        text: \"\",\r\n      })\r\n    );\r\n  };\r\n\r\n  const desactivateUser = async () => {\r\n    try {\r\n      await optionsDesactivate.desactivateUser({\r\n        variables: { id: user.id },\r\n      });\r\n    } catch (e) {\r\n      setDialog({ name: \"error\", active: true });\r\n      dispatch(\r\n        setAlert({\r\n          type: \"error\",\r\n          text: findError(e),\r\n        })\r\n      );\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={dialog.name}\r\n        handleClose={handleClose}\r\n      />;\r\n    }\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Usuario\":\r\n        return <UserForm user={user} handleClose={handleClose} />;\r\n\r\n      case \"Contraseña\":\r\n        return <PasswordForm user={user} handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const showOptionsForEdit = () => (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        dialog={user}\r\n        title={dialog.name}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      <TableCell align=\"right\">\r\n        {user.role?.name === ROLSA ? (\r\n          \"\"\r\n        ) : (\r\n          <>\r\n            {user.status === 2 ? (\r\n              <Tooltip\r\n                title=\"Activar usuario\"\r\n                onClick={() =>\r\n                  optionsActivate.activateUser({\r\n                    variables: { id: user.id },\r\n                  })\r\n                }\r\n              >\r\n                <IconButton\r\n                  aria-label=\"desactivate\"\r\n                  size=\"small\"\r\n                  color=\"secondary\"\r\n                >\r\n                  <RemoveRoundedIcon style={{ color: \"#F44336\" }} />\r\n                </IconButton>\r\n              </Tooltip>\r\n            ) : user.status === 1 ? (\r\n              <Tooltip title=\"Desactivar usuario\" onClick={desactivateUser}>\r\n                <IconButton\r\n                  aria-label=\"activate\"\r\n                  size=\"small\"\r\n                  style={{ color: \"#4CAF50\" }}\r\n                >\r\n                  <CheckRoundedIcon style={{ color: \"#4CAF50\" }} />\r\n                </IconButton>\r\n              </Tooltip>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </>\r\n        )}\r\n\r\n        <Tooltip\r\n          title=\"Editar usuario\"\r\n          onClick={() => setDialog({ name: \"Usuario\", active: true })}\r\n        >\r\n          <IconButton aria-label=\"role\" size=\"small\">\r\n            <EditRoundedIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n\r\n        <Tooltip\r\n          title=\"Cambiar contraseña\"\r\n          onClick={() => setDialog({ name: \"Contraseña\", active: true })}\r\n        >\r\n          <IconButton aria-label=\"password\" size=\"small\">\r\n            <LockRoundedIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      </TableCell>\r\n    </>\r\n  );\r\n\r\n  const showData = () => (\r\n    <>\r\n      <TableRow>\r\n        {auth?.role?.name === ROLSA ? (\r\n          <>\r\n            <TableCell component=\"th\" scope=\"row\">\r\n              {user.name} {user.lastName}\r\n            </TableCell>\r\n            <TableCell>{user.role?.name}</TableCell>\r\n            <TableCell>{user.email}</TableCell>\r\n            <TableCell>{moment(user.createdAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n            <TableCell>{moment(user.updatedAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n            {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n          </>\r\n        ) : (\r\n          <>\r\n            {user.role?.name === ROLSA || (\r\n              <>\r\n                <TableCell component=\"th\" scope=\"row\">\r\n                  {user.name} {user.lastName}\r\n                </TableCell>\r\n                <TableCell>{user.role?.name}</TableCell>\r\n                <TableCell>{user.email}</TableCell>\r\n                <TableCell>\r\n                  {moment(user.createdAt).format(\"DD/MM/YYYY\")}\r\n                </TableCell>\r\n                <TableCell>\r\n                  {moment(user.updatedAt).format(\"DD/MM/YYYY\")}\r\n                </TableCell>\r\n                {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n              </>\r\n            )}\r\n          </>\r\n        )}\r\n      </TableRow>\r\n    </>\r\n  );\r\n\r\n  return <>{loadAccess(PERMIT_FOUR, auth, page, showData)}</>;\r\n};\r\n\r\nexport default UserList;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useGetUsers } from \"../hooks/user/useGetUsers\";\r\nimport { User } from \"../interfaces/user.interface\";\r\nimport UserList from \"../components/user/user-list\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\r\nimport DialogForm from \"../components/dialog/dialog.component\";\r\nimport UserForm from \"../components/user/user-form\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../store/alert/action\";\r\nimport { PERMIT_ONE, PERMIT_TWO } from \"../const\";\r\nimport { loadAccess } from \"../components/acceso/filter-access.component\";\r\nimport { findError } from \"../helpers/control-errors\";\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n});\r\n\r\ninterface Dialog {\r\n  name: string;\r\n  active: boolean;\r\n}\r\n\r\nconst initialValueButton = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst UserPage = () => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const classes = useStyles();\r\n  const [users, setUsers] = useState<User[]>([]);\r\n  const [dialog, setDialog] = useState<Dialog>(initialValueButton);\r\n  const { data, loading, error } = useGetUsers();\r\n  const dispatch = useDispatch();\r\n\r\n  const handleClose = () => {\r\n    setDialog({ ...dialog, active: false });\r\n    dispatch(\r\n      setAlert({\r\n        type: \"\",\r\n        text: \"\",\r\n      })\r\n    );\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Crear\":\r\n        return <UserForm handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setUsers(data.getUsers);\r\n    }\r\n  }, [data]);\r\n\r\n  if (loading) {\r\n    return <h1>Cargando...</h1>;\r\n  }\r\n\r\n  if (error) {\r\n    return <h1>{findError(error)}</h1>;\r\n  }\r\n\r\n  const showDialog = () => (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={`${dialog.name} Usuario`}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      <Tooltip title=\"Crear Usuario\">\r\n        <IconButton\r\n          aria-label=\"add\"\r\n          size=\"small\"\r\n          onClick={() => setDialog({ name: \"Crear\", active: true })}\r\n        >\r\n          <AddRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showOptionsForEdit = () => (\r\n    <TableCell align=\"right\">Opciones</TableCell>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {loadAccess(PERMIT_ONE, auth, page, showDialog)}\r\n      <TableContainer\r\n        component={Paper}\r\n        style={{ marginTop: 10, whiteSpace: \"nowrap\" }}\r\n      >\r\n        <Table\r\n          className={classes.table}\r\n          size=\"small\"\r\n          aria-label=\"a dense table\"\r\n        >\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Nombres</TableCell>\r\n              <TableCell>Rol</TableCell>\r\n              <TableCell>Correo</TableCell>\r\n              <TableCell>Fecha creada</TableCell>\r\n              <TableCell>Fecha modificada</TableCell>\r\n              {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {users.map((user) => (\r\n              <UserList key={user.id} user={user} />\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserPage;\r\n","import { gql, useQuery } from \"@apollo/client\";\r\n\r\nexport const GET_VEHICLES = gql`\r\n  query getVehicles {\r\n    getVehicles {\r\n      id\r\n      customer {\r\n        id\r\n        name\r\n        lastName\r\n        document\r\n        numDocument\r\n      }\r\n      createdBy {\r\n        id\r\n        name\r\n      }\r\n      updatedBy {\r\n        id\r\n        name\r\n      }\r\n      device {\r\n        id\r\n        name\r\n      }\r\n      billing {\r\n        id\r\n        name\r\n        day\r\n      }\r\n      sim\r\n      platform\r\n      plate\r\n      nroGPS\r\n      billigStart\r\n      billigEnd\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetVehicles = () => {\r\n  const { data, error, loading } = useQuery(GET_VEHICLES);\r\n\r\n  return { data, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { GET_VEHICLES } from \"./useGetVehicle\";\r\n\r\nconst DELETE_VEHICLE = gql`\r\n  mutation deleteVehicle($id: String!) {\r\n    deleteVehicle(id: $id)\r\n  }\r\n`;\r\n\r\nexport const useDeleteVehicle = () => {\r\n  const [deleteVehicle, { error, loading }] = useMutation(DELETE_VEHICLE, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_VEHICLES,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { deleteVehicle, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Vehicle } from \"../../interfaces/vehicle.interface\";\r\nimport { GET_VEHICLES } from \"./useGetVehicle\";\r\n\r\ninterface CreateVehicleInput {\r\n  variables: {\r\n    vehicleInput: Vehicle;\r\n  };\r\n}\r\n\r\nconst CREATE_DEVICE = gql`\r\n  mutation registerVehicle($vehicleInput: CreateVehicleInput!) {\r\n    registerVehicle(vehicleInput: $vehicleInput) {\r\n      id\r\n      customer {\r\n        id\r\n        name\r\n        lastName\r\n        document\r\n        numDocument\r\n      }\r\n      createdBy {\r\n        id\r\n        name\r\n      }\r\n      updatedBy {\r\n        id\r\n        name\r\n      }\r\n      device {\r\n        id\r\n        name\r\n      }\r\n      billing {\r\n        id\r\n        name\r\n      }\r\n      sim\r\n      platform\r\n      plate\r\n      nroGPS\r\n      billigStart\r\n      billigEnd\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useCreateVehicle = () => {\r\n  const [registerVehicle, { error, loading }] = useMutation(CREATE_DEVICE, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_VEHICLES,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { registerVehicle, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Vehicle } from \"../../interfaces/vehicle.interface\";\r\nimport { GET_VEHICLES } from \"./useGetVehicle\";\r\n\r\ninterface UpdateVehicleInput {\r\n  variables: {\r\n    vehicleInput: Vehicle;\r\n  };\r\n}\r\n\r\nconst UPDATE_DEVICE = gql`\r\n  mutation updateVehicle($vehicleInput: UpdateVehicleInput!) {\r\n    updateVehicle(vehicleInput: $vehicleInput) {\r\n      id\r\n      customer {\r\n        id\r\n        name\r\n        lastName\r\n        document\r\n        numDocument\r\n      }\r\n      createdBy {\r\n        id\r\n        name\r\n      }\r\n      updatedBy {\r\n        id\r\n        name\r\n      }\r\n      device {\r\n        id\r\n        name\r\n      }\r\n      billing {\r\n        id\r\n        name\r\n      }\r\n      sim\r\n      platform\r\n      plate\r\n      nroGPS\r\n      billigStart\r\n      billigEnd\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useUpdateVehicle = () => {\r\n  const [updateVehicle, { error, loading }] = useMutation(UPDATE_DEVICE, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_VEHICLES,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { updateVehicle, error, loading };\r\n};\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { useCreateVehicle } from \"../../hooks/vehicle/useCreateVehicle\";\r\nimport { useUpdateVehicle } from \"../../hooks/vehicle/useUpdateVehicle\";\r\nimport { Vehicle } from \"../../interfaces/vehicle.interface\";\r\nimport { FormChange, InputChange, SelectChange } from \"../../lib/types\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport moment from \"moment\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { Customer } from \"../../interfaces/customer.interface\";\r\nimport { useGetCustomers } from \"../../hooks/customer/useGetCustomer\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Progress from \"../progress/progress\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport { Device } from \"../../interfaces/device.interface\";\r\nimport { Billing } from \"../../interfaces/billing.interface\";\r\nimport { useGetDevices } from \"../../hooks/device/useGetDevice\";\r\nimport { useGetBilling } from \"../../hooks/billing/useGetBilling\";\r\nimport RedditTextField from \"../textfield/reddit\";\r\nimport { MenuItem } from \"@material-ui/core\";\r\n\r\ninterface Option {\r\n  handleClose?: () => void;\r\n  vehicle?: Vehicle;\r\n}\r\n\r\nconst VehicleForm = ({ handleClose, vehicle }: Option) => {\r\n  const now = moment().utc().local().format(\"YYYY-MM-DD\");\r\n\r\n  const initialStateCreate: Vehicle = {\r\n    customer: \"\",\r\n    device: \"\",\r\n    billing: \"\",\r\n    plate: \"\",\r\n    nroGPS: \"\",\r\n    platform: \"\",\r\n    sim: \"\",\r\n    billigStart: now,\r\n  };\r\n\r\n  const initialStateUpdate: Vehicle = {\r\n    id: vehicle?.id || \"\",\r\n    customer: vehicle?.customer?.id || \"\",\r\n    device: vehicle?.device?.name || \"\",\r\n    billing: vehicle?.billing?.name || \"\",\r\n    plate: vehicle?.plate || \"\",\r\n    nroGPS: vehicle?.nroGPS || \"\",\r\n    platform: vehicle?.platform || \"\",\r\n    sim: vehicle?.sim || \"\",\r\n    billigStart: moment(vehicle?.billigStart).format(\"YYYY-MM-DD\") || now,\r\n  };\r\n\r\n  const [vehicleForm, setVehicleForm] = useState<Vehicle>(\r\n    initialStateUpdate.id ? initialStateUpdate : initialStateCreate\r\n  );\r\n\r\n  const dispatch = useDispatch();\r\n  const optionsUpdate = useUpdateVehicle();\r\n  const optionsCreate = useCreateVehicle();\r\n\r\n  const [customers, setCustomers] = useState<Customer[]>([]);\r\n  const [customer, setCustomer] = useState<Customer>({\r\n    name: \"\",\r\n    lastName: \"\",\r\n    document: \"\",\r\n    numDocument: \"\",\r\n    cellphone_1: \"\",\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const [devices, setDevices] = useState<Device[]>([]);\r\n  const [device, setDevice] = useState<Device>({\r\n    name: \"\",\r\n  });\r\n  const [billings, setBillings] = useState<Billing[]>([]);\r\n  const [billing, setBilling] = useState<Billing>({\r\n    name: \"\",\r\n  });\r\n  const optionCustomer = useGetCustomers();\r\n  const optionDevice = useGetDevices();\r\n  const optionBilling = useGetBilling();\r\n\r\n  const handleInput = (e: InputChange) => {\r\n    setVehicleForm({\r\n      ...vehicleForm,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleChange = (e: SelectChange) => {\r\n    setVehicleForm({ ...vehicleForm, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n\r\n    if (vehicleForm.id) {\r\n      try {\r\n        await optionsUpdate.updateVehicle({\r\n          variables: {\r\n            vehicleInput: vehicleForm,\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El vehiculo se actualizó correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      try {\r\n        await optionsCreate.registerVehicle({\r\n          variables: {\r\n            vehicleInput: vehicleForm,\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El vehiculo ha sido registrado correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (optionCustomer.data) {\r\n      setCustomers(optionCustomer?.data?.getCustomer);\r\n    }\r\n    if (optionDevice.data) {\r\n      setDevices(optionDevice?.data?.getDevices);\r\n    }\r\n    if (optionBilling.data) {\r\n      setBillings(optionBilling?.data?.getBillings);\r\n    }\r\n    if (customers[0]?.name) {\r\n      setCustomer({\r\n        ...customer,\r\n        name: vehicleForm.id ? vehicle?.customer.name : customers[0]?.name,\r\n        lastName: vehicleForm.id\r\n          ? vehicle?.customer.lastName\r\n          : customers[0]?.lastName,\r\n      });\r\n      setDevice({\r\n        ...device,\r\n        name: vehicleForm.id ? vehicle?.device.name : devices[0]?.name,\r\n      });\r\n      setBilling({\r\n        ...billing,\r\n        name: vehicleForm.id ? vehicle?.billing.name : billings[0]?.name,\r\n      });\r\n      setVehicleForm({\r\n        ...vehicleForm,\r\n        customer: vehicleForm.id ? vehicle?.customer.id : customers[0]?.id,\r\n        device: vehicleForm.id ? vehicle?.device.name : devices[0]?.name,\r\n        billing: vehicleForm.id ? vehicle?.billing.name : billings[0]?.name,\r\n        platform: vehicleForm.id ? vehicle!.platform : \"PREMIUM\",\r\n        sim: vehicleForm.id ? vehicle!.sim : \"MOVISTAR\",\r\n      });\r\n    }\r\n  }, [\r\n    optionCustomer.data,\r\n    optionDevice.data,\r\n    optionBilling.data,\r\n    customers[0]?.name,\r\n    devices[0]?.name,\r\n    billings[0]?.name,\r\n  ]);\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={onSubmit}>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12}>\r\n            <Autocomplete\r\n              id=\"idCustomer\"\r\n              value={{\r\n                name: customer?.name,\r\n                lastName: customer?.lastName,\r\n                document: customer?.document,\r\n                numDocument: customer?.numDocument,\r\n                cellphone_1: customer?.cellphone_1,\r\n                username: customer?.username,\r\n                password: customer?.password,\r\n              }}\r\n              onChange={(event, value) => {\r\n                setCustomer({\r\n                  ...customer,\r\n                  name: value ? value!.name : customers[0]?.name,\r\n                  lastName: value ? value!.lastName : customers[0]?.lastName,\r\n                });\r\n\r\n                setVehicleForm({\r\n                  ...vehicleForm,\r\n                  customer: value ? `${value!.id}` : `${customers[0]?.id}`,\r\n                });\r\n              }}\r\n              options={customers}\r\n              getOptionLabel={(customer) =>\r\n                customer.name ? `${customer.name} ${customer.lastName}` : \"\"\r\n              }\r\n              getOptionSelected={(option, value) => {\r\n                if (value.name) {\r\n                  return (\r\n                    `${option.name} ${option.lastName}` ===\r\n                    `${value.name} ${value.lastName}`\r\n                  );\r\n                }\r\n                value = {\r\n                  ...value,\r\n                  name: customers[0]?.name,\r\n                  lastName: customers[0]?.lastName,\r\n                };\r\n                return (\r\n                  `${option.name} ${option.lastName}` ===\r\n                  `${value.name} ${value.lastName}`\r\n                );\r\n              }}\r\n              loading={optionCustomer.loading}\r\n              loadingText=\"Cargando...\"\r\n              noOptionsText=\"No hay resultados\"\r\n              renderInput={(params) => (\r\n                <TextField\r\n                  {...params}\r\n                  name=\"customer\"\r\n                  label=\"Cliente\"\r\n                  variant=\"outlined\"\r\n                />\r\n              )}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Autocomplete\r\n              id=\"idDevice\"\r\n              value={{\r\n                name: device?.name,\r\n              }}\r\n              onChange={(event, value) => {\r\n                setDevice({\r\n                  ...device,\r\n                  name: value ? value!.name : devices[0]?.name,\r\n                });\r\n\r\n                setVehicleForm({\r\n                  ...vehicleForm,\r\n                  device: value ? `${value!.name}` : `${devices[0]?.name}`,\r\n                });\r\n              }}\r\n              options={devices}\r\n              getOptionLabel={(device) => (device.name ? device.name : \"\")}\r\n              getOptionSelected={(option, value) => {\r\n                if (value.name) {\r\n                  return option.name === value.name;\r\n                }\r\n                value = {\r\n                  ...value,\r\n                  name: devices[0]?.name,\r\n                };\r\n                return option.name === value.name;\r\n              }}\r\n              loading={optionDevice.loading}\r\n              loadingText=\"Cargando...\"\r\n              noOptionsText=\"No hay resultados\"\r\n              renderInput={(params) => (\r\n                <TextField\r\n                  {...params}\r\n                  name=\"device\"\r\n                  label=\"Dispositivo\"\r\n                  variant=\"outlined\"\r\n                />\r\n              )}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Autocomplete\r\n              id=\"idBilling\"\r\n              value={{\r\n                name: billing?.name,\r\n              }}\r\n              onChange={(event, value) => {\r\n                setBilling({\r\n                  ...billing,\r\n                  name: value ? value!.name : billings[0]?.name,\r\n                });\r\n\r\n                setVehicleForm({\r\n                  ...vehicleForm,\r\n                  billing: value ? `${value!.name}` : `${billings[0]?.name}`,\r\n                });\r\n              }}\r\n              options={billings}\r\n              getOptionLabel={(billing) => (billing.name ? billing.name : \"\")}\r\n              getOptionSelected={(option, value) => {\r\n                if (value.name) {\r\n                  return option.name === value.name;\r\n                }\r\n                value = {\r\n                  ...value,\r\n                  name: billings[0]?.name,\r\n                };\r\n                return option.name === value.name;\r\n              }}\r\n              loading={optionBilling.loading}\r\n              loadingText=\"Cargando...\"\r\n              noOptionsText=\"No hay resultados\"\r\n              renderInput={(params) => (\r\n                <TextField\r\n                  {...params}\r\n                  name=\"billing\"\r\n                  label=\"Plan de facturación\"\r\n                  variant=\"outlined\"\r\n                />\r\n              )}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <TextField\r\n              id=\"idPlatform\"\r\n              select\r\n              label=\"Plataforma\"\r\n              fullWidth\r\n              value={vehicleForm.platform}\r\n              onChange={handleChange}\r\n              name=\"platform\"\r\n              //helperText=\"Please select your currency\"\r\n              variant=\"outlined\"\r\n            >\r\n              <MenuItem value=\"PREMIUM\">PREMIUM</MenuItem>\r\n              <MenuItem value=\"STANDAR\">STANDAR</MenuItem>\r\n              <MenuItem value=\"SIN PLATAFORMA\">SIN PLATAFORMA</MenuItem>\r\n            </TextField>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <RedditTextField\r\n              fullWidth\r\n              type=\"text\"\r\n              onChange={handleInput}\r\n              name=\"plate\"\r\n              autoComplete=\"off\"\r\n              id=\"idPlate\"\r\n              label=\"Placa\"\r\n              variant=\"filled\"\r\n              value={vehicleForm.plate}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={6}>\r\n            <TextField\r\n              id=\"idChip\"\r\n              select\r\n              label=\"Chip\"\r\n              fullWidth\r\n              name=\"sim\"\r\n              value={vehicleForm.sim}\r\n              onChange={handleChange}\r\n              variant=\"outlined\"\r\n            >\r\n              <MenuItem value=\"CLARO\">CLARO</MenuItem>\r\n              <MenuItem value=\"MOVISTAR\">MOVISTAR</MenuItem>\r\n              <MenuItem value=\"INKACEL\">INKACEL</MenuItem>\r\n              <MenuItem value=\"MULTIOPERADOR\">MULTIOPERADOR</MenuItem>\r\n            </TextField>\r\n          </Grid>\r\n          <Grid item xs={6}>\r\n            <RedditTextField\r\n              fullWidth\r\n              type=\"text\"\r\n              onChange={handleInput}\r\n              name=\"nroGPS\"\r\n              autoComplete=\"off\"\r\n              id=\"idNro\"\r\n              label=\"Nro de GPS\"\r\n              variant=\"filled\"\r\n              value={vehicleForm.nroGPS}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <RedditTextField\r\n              fullWidth\r\n              type=\"date\"\r\n              onChange={handleInput}\r\n              name=\"billigStart\"\r\n              autoComplete=\"off\"\r\n              id=\"idBilligStart\"\r\n              label=\"Fecha de inicio\"\r\n              variant=\"filled\"\r\n              value={vehicleForm.billigStart}\r\n            />\r\n          </Grid>\r\n          <DialogActions style={{ width: \"100%\" }}>\r\n            <Button onClick={handleClose} color=\"primary\">\r\n              Cancelar\r\n            </Button>\r\n            {vehicleForm.id ? (\r\n              optionsUpdate.loading ? (\r\n                <Progress />\r\n              ) : (\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  autoFocus\r\n                  variant=\"contained\"\r\n                >\r\n                  Actualizar\r\n                </Button>\r\n              )\r\n            ) : optionsCreate.loading ? (\r\n              <Progress />\r\n            ) : (\r\n              <Button\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                autoFocus\r\n                variant=\"contained\"\r\n              >\r\n                Registrar\r\n              </Button>\r\n            )}\r\n          </DialogActions>\r\n        </Grid>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default VehicleForm;\r\n","import { Renew } from \"../../interfaces/renewinterface\";\r\nimport { gql, useMutation } from \"@apollo/client\";\r\nimport { GET_RENEWS } from \"./useGetRenew\";\r\nimport { GET_VEHICLES } from \"../vehicle/useGetVehicle\";\r\n\r\ninterface CreateRenewInput {\r\n  variables: {\r\n    renewInput: Renew;\r\n  };\r\n}\r\n\r\nconst CREATE_RENEW = gql`\r\n  mutation registerRenew($renewInput: CreateRenewInput!) {\r\n    registerRenew(renewInput: $renewInput) {\r\n      id\r\n      registeredBy {\r\n        id\r\n        name\r\n        lastName\r\n      }\r\n      updatedBy {\r\n        id\r\n        name\r\n        lastName\r\n      }\r\n      vehicle {\r\n        id\r\n        plate\r\n      }\r\n      billing {\r\n        id\r\n        name\r\n      }\r\n      expirationDate\r\n      renovationStart\r\n      renovationEnd\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useCreateRenew = () => {\r\n  const [registerRenew, { error, loading }] = useMutation(CREATE_RENEW, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_VEHICLES,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { registerRenew, error, loading };\r\n};\r\n","import { gql, useLazyQuery } from \"@apollo/client\";\r\n\r\nconst BILLING_BY_NAME = gql`\r\n  query getBillingByName($name: String!) {\r\n    getBillingByName(name: $name) {\r\n      id\r\n      name\r\n      day\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useBillingByName = () => {\r\n  const [getBillingByName, { data, error, loading }] =\r\n    useLazyQuery(BILLING_BY_NAME);\r\n\r\n  return { getBillingByName, data, error, loading };\r\n};\r\n","import { Vehicle } from \"../../interfaces/vehicle.interface\";\r\nimport { Button, DialogActions, Divider } from \"@material-ui/core\";\r\nimport { useCreateRenew } from \"../../hooks/renew/useCreateRenew\";\r\nimport { Renew } from \"../../interfaces/renewinterface\";\r\nimport { useState, useEffect } from \"react\";\r\nimport moment from \"moment\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\r\nimport { startOfDay, add } from \"date-fns\";\r\nimport SaveRoundedIcon from \"@material-ui/icons/SaveRounded\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport { Billing } from \"../../interfaces/billing.interface\";\r\nimport { useGetBilling } from \"../../hooks/billing/useGetBilling\";\r\nimport { SelectChange } from \"../../lib/types\";\r\nimport { useBillingByName } from \"../../hooks/billing/useGetBillingByName\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\nimport Progress from \"../progress/progress\";\r\n\r\ninterface Options {\r\n  handleClose: () => void;\r\n  vehicle: Vehicle;\r\n}\r\n\r\nconst RenewForm = ({ handleClose, vehicle }: Options) => {\r\n  const [isActive, setActive] = useState<boolean>(false);\r\n  const [billings, setBillings] = useState<Billing[]>([]);\r\n  const dispatch = useDispatch();\r\n  const [renew, setRenew] = useState<Renew>({\r\n    vehicle: vehicle.plate,\r\n    billing: vehicle.billing.name,\r\n  });\r\n\r\n  const [state, setState] = useState({\r\n    day: vehicle.billing.day,\r\n  });\r\n\r\n  const optionsBillings = useGetBilling();\r\n  const optionBilling = useBillingByName();\r\n  const optionsCreate = useCreateRenew();\r\n\r\n  const today = startOfDay(new Date());\r\n  const newDate = add(today, { days: state.day });\r\n\r\n  const getBilling = async (name: string) => {\r\n    try {\r\n      await optionBilling.getBillingByName({\r\n        variables: {\r\n          name: name,\r\n        },\r\n      });\r\n    } catch (e) {\r\n      dispatch(\r\n        setAlert({\r\n          type: \"error\",\r\n          text: findError(e),\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleChange = (event: SelectChange) => {\r\n    setRenew({ ...renew, billing: event.target.value });\r\n  };\r\n\r\n  const registerRenew = async () => {\r\n    try {\r\n      await optionsCreate.registerRenew({\r\n        variables: {\r\n          renewInput: renew,\r\n        },\r\n      });\r\n      dispatch(\r\n        setAlert({\r\n          type: \"success\",\r\n          text: \"Se ha renovado correctamente.\",\r\n        })\r\n      );\r\n    } catch (e) {\r\n      dispatch(\r\n        setAlert({\r\n          type: \"error\",\r\n          text: findError(e),\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (optionsBillings.data) {\r\n      setBillings(optionsBillings.data.getBillings);\r\n    }\r\n    if (optionBilling.data) {\r\n      setState({ ...state, day: optionBilling.data.getBillingByName.day });\r\n    }\r\n  }, [optionsBillings.data, optionBilling.data]);\r\n\r\n  return (\r\n    <>\r\n      <p>\r\n        Estas apunto de renovar su inscripción del vehiculo{\" \"}\r\n        <strong>{vehicle.plate}</strong> que pertenece a{\" \"}\r\n        <strong>\r\n          {vehicle.customer.name} {vehicle.customer.lastName}\r\n        </strong>{\" \"}\r\n        con número de <strong>{vehicle.customer.document}</strong>,{\" \"}\r\n        <strong>{vehicle.customer.numDocument}</strong>.\r\n      </p>\r\n      <br />\r\n      <Divider />\r\n      <br />\r\n      {isActive ? (\r\n        <FormControl variant=\"outlined\" style={{ width: 300 }}>\r\n          <InputLabel id=\"idBilling-label\">Plan de facturación</InputLabel>\r\n          <Select\r\n            labelId=\"idBilling-label\"\r\n            id=\"idBilling\"\r\n            value={renew.billing}\r\n            onChange={handleChange}\r\n            label=\"Age\"\r\n          >\r\n            {billings.map((billing) => (\r\n              <MenuItem key={billing.id} value={billing.name}>\r\n                {billing.name}\r\n              </MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n      ) : (\r\n        <>\r\n          <label>\r\n            {renew.billing !== vehicle.billing.name ? (\r\n              <label style={{ background: \"yellow\" }}>Cambiado a</label>\r\n            ) : (\r\n              \"Actualmente tiene\"\r\n            )}\r\n          </label>{\" \"}\r\n          {renew.billing}\r\n        </>\r\n      )}{\" \"}\r\n      <Tooltip\r\n        title=\"Editar plan de facturación\"\r\n        onClick={() => {\r\n          setActive(!isActive);\r\n          getBilling(renew.billing);\r\n        }}\r\n      >\r\n        <IconButton aria-label=\"vehicle\" size=\"small\" style={{ color: \"blue\" }}>\r\n          {isActive ? \"Guardar\" : \"Editar\"}\r\n          {isActive ? <SaveRoundedIcon /> : <EditRoundedIcon />}\r\n        </IconButton>\r\n      </Tooltip>\r\n      <br />\r\n      <br />\r\n      <div style={{ width: \"100%\", height: \"auto\" }}>\r\n        <div style={{ width: \"50%\", float: \"left\" }}>\r\n          <label>Fecha de caducidad</label>{\" \"}\r\n        </div>\r\n        <div style={{ width: \"50%\", float: \"left\" }}>\r\n          {moment(vehicle.billigEnd).format(\"DD/MM/YYYY\")}\r\n        </div>\r\n      </div>\r\n      <br />\r\n      <br />\r\n      <Divider />\r\n      <br />\r\n      <div\r\n        style={{\r\n          filter: isActive ? \"blur(4px)\" : \"blur(0)\",\r\n          userSelect: isActive ? \"none\" : \"text\",\r\n        }}\r\n      >\r\n        <div style={{ width: \"100%\", height: \"auto\" }}>\r\n          <div style={{ width: \"50%\", float: \"left\", backgroundColor: \"#fff\" }}>\r\n            Renueva desde\r\n          </div>\r\n          <div style={{ width: \"50%\", float: \"left\" }}>\r\n            {moment().format(\"DD/MM/YYYY\")}\r\n          </div>\r\n        </div>\r\n        <div style={{ width: \"100%\", height: \"auto\" }}>\r\n          <div style={{ width: \"50%\", float: \"left\", backgroundColor: \"#fff\" }}>\r\n            &nbsp;\r\n          </div>\r\n          <div style={{ width: \"50%\", float: \"left\" }}>\r\n            <strong>+</strong> {state.day} días\r\n          </div>\r\n        </div>\r\n        <div style={{ width: \"100%\", height: \"auto\" }}>\r\n          <div style={{ width: \"50%\", float: \"left\", backgroundColor: \"#fff\" }}>\r\n            Renovando hasta\r\n          </div>\r\n          <div style={{ width: \"50%\", float: \"left\" }}>\r\n            {moment(newDate).format(\"DD/MM/YYYY\")}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <DialogActions style={{ width: \"100%\" }}>\r\n        <Button onClick={handleClose} color=\"primary\">\r\n          Cancelar\r\n        </Button>\r\n        {optionsCreate.loading ? (\r\n          <Progress />\r\n        ) : (\r\n          <Button\r\n            onClick={registerRenew}\r\n            color=\"primary\"\r\n            autoFocus\r\n            disabled={isActive ? true : false}\r\n            variant=\"contained\"\r\n          >\r\n            Aceptar\r\n          </Button>\r\n        )}\r\n      </DialogActions>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RenewForm;\r\n","import { Vehicle } from \"../../interfaces/vehicle.interface\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\nimport moment from \"moment\";\r\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport HighlightOffRoundedIcon from \"@material-ui/icons/HighlightOffRounded\";\r\nimport { PERMIT_FOUR, PERMIT_TREE, PERMIT_TWO } from \"../../const\";\r\nimport { loadAccess } from \"../acceso/filter-access.component\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport DialogForm from \"../dialog/dialog.component\";\r\nimport { useState } from \"react\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport { Dialog } from \"../../interfaces/dialog.interface\";\r\nimport { useDeleteVehicle } from \"../../hooks/vehicle/useDeleteVehicle\";\r\nimport VehicleForm from \"./vehicle-form\";\r\nimport AutorenewRoundedIcon from \"@material-ui/icons/AutorenewRounded\";\r\nimport RenewForm from \"../renew/renew-form\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst VehicleList = ({ vehicle }: { vehicle: Vehicle }) => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n  const optionsVehicle = useDeleteVehicle();\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Vehiculo\":\r\n        return <VehicleForm vehicle={vehicle} handleClose={handleClose} />;\r\n\r\n      case \"Renovar\":\r\n        return <RenewForm vehicle={vehicle} handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const deleteVehicle = async (id: string | undefined) => {\r\n    try {\r\n      await optionsVehicle.deleteVehicle({\r\n        variables: {\r\n          id,\r\n        },\r\n      });\r\n    } catch (e) {\r\n      setDialog({ name: \"error\", active: true });\r\n      dispatch(\r\n        setAlert({\r\n          type: \"error\",\r\n          text: findError(e),\r\n        })\r\n      );\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={dialog.name}\r\n        handleClose={handleClose}\r\n      />;\r\n    }\r\n  };\r\n\r\n  const showOptionsForDelete = () => (\r\n    <>\r\n      <Tooltip\r\n        title=\"Eliminar vehiculo\"\r\n        onClick={() => deleteVehicle(vehicle.id)}\r\n      >\r\n        <IconButton aria-label=\"vehicle\" size=\"small\">\r\n          <HighlightOffRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showOptionsForEdit = () => (\r\n    <>\r\n      <Tooltip\r\n        title=\"Editar vehiclo\"\r\n        onClick={() => setDialog({ name: \"Vehiculo\", active: true })}\r\n      >\r\n        <IconButton aria-label=\"vehicle\" size=\"small\">\r\n          <EditRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const today = new Date().getTime();\r\n  const end = vehicle.billigEnd ? new Date(vehicle.billigEnd).getTime() : \"\";\r\n\r\n  const showData = () => (\r\n    <>\r\n      <TableRow\r\n        style={{\r\n          background: end > today ? \"#28A745\" : \"#DC3545\",\r\n        }}\r\n      >\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {vehicle.customer.name} {vehicle.customer.lastName}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {vehicle.device.name}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {vehicle.platform}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {vehicle.billing.name}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {vehicle.plate}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {vehicle.sim}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {vehicle.nroGPS}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\" align=\"center\">\r\n          {moment(vehicle.billigStart).format(\"DD/MM/YYYY\")}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\" align=\"center\">\r\n          {moment(vehicle.billigEnd).format(\"DD/MM/YYYY\")}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {vehicle.createdBy?.name}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {vehicle.updatedBy?.name}\r\n        </TableCell>\r\n        <TableCell>{moment(vehicle.createdAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n        <TableCell>{moment(vehicle.updatedAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n        <TableCell align=\"right\">\r\n          {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n          {loadAccess(PERMIT_TREE, auth, page, showOptionsForDelete)}\r\n          <Tooltip\r\n            title=\"Renovar vehiculo\"\r\n            onClick={() => setDialog({ name: \"Renovar\", active: true })}\r\n          >\r\n            <IconButton aria-label=\"renew\" size=\"small\">\r\n              <AutorenewRoundedIcon />\r\n            </IconButton>\r\n          </Tooltip>\r\n        </TableCell>\r\n      </TableRow>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        dialog={vehicle}\r\n        title={dialog.name}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      {loadAccess(PERMIT_FOUR, auth, page, showData)}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default VehicleList;\r\n","import Table from \"@material-ui/core/Table\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport VehicleList from \"../components/vehicle/vehicle-list\";\r\nimport { User } from \"../interfaces/user.interface\";\r\nimport { Vehicle } from \"../interfaces/vehicle.interface\";\r\nimport { useGetVehicles } from \"../hooks/vehicle/useGetVehicle\";\r\nimport VehicleForm from \"../components/vehicle/vehicle-form\";\r\nimport { findError } from \"../helpers/control-errors\";\r\nimport { loadAccess } from \"../components/acceso/filter-access.component\";\r\nimport { useState, useEffect, ChangeEvent, MouseEvent } from \"react\";\r\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../store/alert/action\";\r\nimport { Dialog } from \"../interfaces/dialog.interface\";\r\nimport { PERMIT_ONE } from \"../const\";\r\nimport DialogForm from \"../components/dialog/dialog.component\";\r\nimport TablePagination from \"@material-ui/core/TablePagination\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport { TablePaginationActions } from \"../components/table/table-pagination\";\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst VehiclesPage = () => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n  const [vehicles, setVehicles] = useState<Vehicle[]>([]);\r\n  const { data, loading, error } = useGetVehicles();\r\n  //TABLE OPTIONS\r\n  const [rowsPerPage, setRowsPerPage] = useState(5);\r\n  const [pagex, setPage] = useState(0);\r\n\r\n  const emptyRows =\r\n    rowsPerPage - Math.min(rowsPerPage, vehicles.length - pagex * rowsPerPage);\r\n\r\n  const handleChangePage = (\r\n    event: MouseEvent<HTMLButtonElement> | null,\r\n    newPage: number\r\n  ) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (\r\n    event: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\r\n  ) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n  //TABLE FIN\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Crear\":\r\n        return <VehicleForm handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      const allVehicles = data.getVehicles\r\n        .map((vehicle: any) => {\r\n          return {\r\n            ...vehicle,\r\n            billigStart: vehicle.billigStart\r\n              ? new Date(vehicle.billigStart)\r\n              : new Date(),\r\n          };\r\n        })\r\n        .sort(\r\n          (a: any, b: any) => b.billigStart.getTime() - a.billigStart.getTime()\r\n        );\r\n      setVehicles(allVehicles);\r\n    }\r\n  }, [data]);\r\n\r\n  if (loading) {\r\n    return <h1>Cargando...</h1>;\r\n  }\r\n\r\n  if (error) {\r\n    return <h1>{findError(error)}</h1>;\r\n  }\r\n\r\n  const showDialogToCreate = () => (\r\n    <>\r\n      <Tooltip title=\"Crear vehiculo\">\r\n        <IconButton\r\n          aria-label=\"add\"\r\n          size=\"small\"\r\n          onClick={() => setDialog({ name: \"Crear\", active: true })}\r\n        >\r\n          <AddRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={`${dialog.name} Vehiculo`}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      {loadAccess(PERMIT_ONE, auth, page, showDialogToCreate)}\r\n      <TableContainer\r\n        component={Paper}\r\n        style={{ whiteSpace: \"nowrap\", marginTop: 10 }}\r\n      >\r\n        <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Cliente</TableCell>\r\n              <TableCell>Dispositivo</TableCell>\r\n              <TableCell>Plataforma</TableCell>\r\n              <TableCell>Plan</TableCell>\r\n              <TableCell>Placa</TableCell>\r\n              <TableCell>Chip</TableCell>\r\n              <TableCell>Nro GPS</TableCell>\r\n              <TableCell>Fecha de instalación</TableCell>\r\n              <TableCell>Fecha de termino</TableCell>\r\n              <TableCell>Registrado por</TableCell>\r\n              <TableCell>Actualizado por</TableCell>\r\n              <TableCell>Fecha creada</TableCell>\r\n              <TableCell>Fecha modificada</TableCell>\r\n              <TableCell align=\"right\">Opciones</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {(rowsPerPage > 0\r\n              ? vehicles.slice(\r\n                  pagex * rowsPerPage,\r\n                  pagex * rowsPerPage + rowsPerPage\r\n                )\r\n              : vehicles\r\n            ).map((vehicle) => (\r\n              <VehicleList key={vehicle.id} vehicle={vehicle} />\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n      <div>\r\n        <TablePagination\r\n          rowsPerPageOptions={[\r\n            5,\r\n            10,\r\n            25,\r\n            { label: \"Todos los registros\", value: -1 },\r\n          ]}\r\n          //colSpan={3}\r\n          style={{ borderBottom: \"none\" }}\r\n          count={vehicles.length}\r\n          rowsPerPage={rowsPerPage}\r\n          page={pagex}\r\n          SelectProps={{\r\n            inputProps: { \"aria-label\": \"filas por página\" },\r\n            native: true,\r\n          }}\r\n          labelRowsPerPage=\"filas por página\"\r\n          labelDisplayedRows={({ from, to, count }) =>\r\n            `${from}-${to} de ${count}`\r\n          }\r\n          onPageChange={handleChangePage}\r\n          onRowsPerPageChange={handleChangeRowsPerPage}\r\n          ActionsComponent={TablePaginationActions}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default VehiclesPage;\r\n","import React, { createElement } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect, Route, useLocation } from \"react-router-dom\";\r\nimport NoMatch from \"../pages/404.page\";\r\nimport BillingPage from \"../pages/billing.page\";\r\nimport BrandPage from \"../pages/brand.page\";\r\nimport CategooryPage from \"../pages/category.page\";\r\nimport CheckMoneyPage from \"../pages/check-money.page\";\r\nimport CheckProducts from \"../pages/check-products\";\r\nimport CustomerPage from \"../pages/customer.page\";\r\nimport DevicePage from \"../pages/device.page\";\r\nimport EgressPage from \"../pages/egress.page\";\r\nimport IngressPage from \"../pages/ingress.page\";\r\nimport ModelPage from \"../pages/model.page\";\r\nimport ModulePage from \"../pages/module.page\";\r\nimport ProductPage from \"../pages/product.page\";\r\nimport RolePage from \"../pages/role.page\";\r\nimport ServicePage from \"../pages/service.page\";\r\nimport SummaryBoxPage from \"../pages/summary-box.page\";\r\nimport UserPage from \"../pages/user.page\";\r\nimport VehiclesPage from \"../pages/vehicles.page\";\r\nimport { getLocal } from \"./local-storage\";\r\n\r\ninterface RootState {\r\n  page: {\r\n    user: {\r\n      link: string;\r\n      page: string;\r\n    };\r\n  };\r\n}\r\n\r\nconst mapStateToProps = (state: RootState) => {\r\n  const {\r\n    page: {\r\n      user: { link, page },\r\n    },\r\n  } = state;\r\n  return { link, page };\r\n};\r\n\r\nconst ItemSwitch = ({ link, page }: any) => {\r\n  const location = useLocation();\r\n  const formatedLink = location.pathname.replace(\"/\", \"\");\r\n\r\n  const PrivateRoute = ({ component, toLogin, ...rest }: any) => {\r\n    const routeComponent = (props: any) => {\r\n      switch (toLogin) {\r\n        case true:\r\n          return getLocal(\"accessToken\") ? (\r\n            <Redirect to={{ pathname: \"/\" }} />\r\n          ) : (\r\n            createElement(component, props)\r\n          );\r\n\r\n        case false:\r\n          return getLocal(\"accessToken\") ? (\r\n            createElement(component, props)\r\n          ) : (\r\n            <Redirect to={{ pathname: \"/\" }} />\r\n          );\r\n      }\r\n    };\r\n\r\n    return <Route {...rest} render={routeComponent} />;\r\n  };\r\n\r\n  const PAGES = (page: string) => {\r\n    switch (page) {\r\n      case \"DASHBOARD\":\r\n        const Home = () => {\r\n          return <h1>Bienvenido</h1>;\r\n        };\r\n        return Home;\r\n\r\n      case \"MODULOS\":\r\n        const Modulos = () => <ModulePage />;\r\n        return Modulos;\r\n\r\n      case \"ROLES\":\r\n        const Roles = () => <RolePage />;\r\n        return Roles;\r\n\r\n      case \"USUARIOS\":\r\n        const Usuarios = () => <UserPage />;\r\n        return Usuarios;\r\n\r\n      case \"CATEGORIAS\":\r\n        const Categorias = () => <CategooryPage />;\r\n        return Categorias;\r\n\r\n      case \"MARCAS\":\r\n        const Marcas = () => <BrandPage />;\r\n        return Marcas;\r\n\r\n      case \"MODELOS\":\r\n        const Modelos = () => <ModelPage />;\r\n        return Modelos;\r\n\r\n      case \"PRODUCTOS\":\r\n        const Productos = () => <ProductPage />;\r\n        return Productos;\r\n\r\n      case \"SERVICIOS\":\r\n        const Servicios = () => <ServicePage />;\r\n        return Servicios;\r\n\r\n      case \"INGRESOS\":\r\n        const Ingresos = () => <IngressPage />;\r\n        return Ingresos;\r\n\r\n      case \"EGRESOS\":\r\n        const Egresos = () => <EgressPage />;\r\n        return Egresos;\r\n\r\n      case \"RESUMEN-CAJA\":\r\n        const ResumenCaja = () => <SummaryBoxPage />;\r\n        return ResumenCaja;\r\n\r\n      case \"CONSULTAR-CAJA\":\r\n        const ConsultarCaja = () => <CheckMoneyPage />;\r\n        return ConsultarCaja;\r\n\r\n      case \"CONSULTAR-PRECIOS\":\r\n        const ConsultarPrecios = () => <CheckProducts />;\r\n        return ConsultarPrecios;\r\n\r\n      case \"CLIENTES\":\r\n        const Clientes = () => <CustomerPage />;\r\n        return Clientes;\r\n\r\n      case \"VEHICULOS\":\r\n        const Vehiculos = () => <VehiclesPage />;\r\n        return Vehiculos;\r\n\r\n      case \"DISPOSITIVOS\":\r\n        const Dispositivos = () => <DevicePage />;\r\n        return Dispositivos;\r\n\r\n      case \"PLAN-DE-FACTURACION\":\r\n        const Billing = () => <BillingPage />;\r\n        return Billing;\r\n\r\n      default:\r\n        const ERROR = () => <NoMatch />;\r\n        return ERROR;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {link === formatedLink || link === location.pathname ? (\r\n        <PrivateRoute\r\n          exact\r\n          path={`/${link}`}\r\n          toLogin={false}\r\n          component={PAGES(`${page}`)}\r\n        />\r\n      ) : (\r\n        <PrivateRoute toLogin={false} path=\"*\" component={NoMatch} />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\n/**\r\n *\r\n   {menu.link === formatedLink ? (\r\n        <>\r\n          <Switch>\r\n            <PrivateRoute exact path=\"/caja\" toLogin={false} component={Caja} />\r\n          </Switch>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <Switch>\r\n            <Route path=\"*\" component={NoMatch} />\r\n          </Switch>\r\n        </>\r\n      )}\r\n * \r\n */\r\nexport default connect(mapStateToProps, null)(ItemSwitch);\r\n","import React from \"react\";\r\nimport { Switch } from \"react-router-dom\";\r\nimport ItemSwitch from \"./item-switch.component\";\r\n\r\nconst SwitchContainer = () => {\r\n  return (\r\n    <Switch>\r\n      <ItemSwitch />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default SwitchContainer;\r\n","import SwitchContainer from \"../../lib/switch-container\";\r\nimport { useSelector } from \"react-redux\";\r\nimport \"./wrapper.css\";\r\n\r\nconst Wrapper = () => {\r\n  const { module, page, name } = useSelector((state: any) => {\r\n    return state.page.user;\r\n  });\r\n  const firsCaracter: String = name?.charAt(0).toUpperCase();\r\n  const restCaracter: String = name?.substr(1, name?.length);\r\n  const subTitle: String = `${firsCaracter}${restCaracter.toLowerCase()}`;\r\n\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <div className=\"content-wrapper\">\r\n        <div className=\"content-wrapper-header items-center\">\r\n          <h1>{name.toUpperCase()}</h1>\r\n          <ol>\r\n            <li className=\"list-style-none text-active\">\r\n              <strong>{module}</strong>\r\n            </li>\r\n            <li className=\"list-style-none text-inactive\">{subTitle}</li>\r\n          </ol>\r\n        </div>\r\n        <div className=\"content-wrapper-main\">\r\n          <SwitchContainer />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Wrapper;\r\n","import React from \"react\";\r\nimport \"./footer.css\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer>\r\n      <div className=\"center\">\r\n        <p>\r\n          © 2020-2021 by{\" \"}\r\n          <a\r\n            href=\"https://kemaytechnology.com/\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            Kemay Technology\r\n          </a>\r\n          . Todos los derechos reservados. Si tuviese algún inconveniente por\r\n          favor contactarnos al siguiente correo:\r\n          <a\r\n            href=\"mailto:dperez@kemaytechnology.com\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            dperez@kemaytechnology.com\r\n          </a>\r\n          <br /> Version: 0.0.1 | Powered by\r\n          <a\r\n            href=\"http://github.com/davisperezg\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            @davisperezg\r\n          </a>\r\n        </p>\r\n      </div>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","export const LINK_USER = \"@page/LINK_USER\";\r\n\r\nexport const setLink =\r\n  (module: string, link: string, name: string) => async (dispatch: any) => {\r\n    await dispatch({\r\n      type: LINK_USER,\r\n      payload: {\r\n        link,\r\n        module,\r\n        page: link === \"/\" ? \"DASHBOARD\" : link.toUpperCase(),\r\n        name,\r\n      },\r\n    });\r\n  };\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { MENU_FORBIDDEN, ROLSA } from \"../../const\";\r\nimport { Menu } from \"../../interfaces/menu.interface\";\r\nimport { Module } from \"../../interfaces/module.interface\";\r\nimport { setLink } from \"../../store/page/action\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\n\r\n/** #1\r\n * @param { name, link }: Menu = {}\r\n * @returns name, link\r\n **/\r\n\r\n/** #2\r\n * @param { menu }: {menu: Menu}\r\n * @returns menu.name, menu.link\r\n **/\r\n\r\n/** #3\r\n * menu:Menu\r\n * const {name, link} = menu\r\n * @returns name, link\r\n **/\r\n\r\nconst ListItemMenus = ({\r\n  menu,\r\n  setLink,\r\n  module,\r\n}: {\r\n  menu: Menu;\r\n  setLink: any;\r\n  module: Module;\r\n}) => {\r\n  const history = useHistory();\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n\r\n  const goToPage = () => {\r\n    setLink(module.name, menu.link, menu.name);\r\n    document.title = `RPUM - ${menu.link.toUpperCase()}`;\r\n    history.push(`/${menu.link}`);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {auth?.role?.name === ROLSA ? (\r\n        <li onClick={() => goToPage()}>{menu.name}</li>\r\n      ) : (\r\n        menu.name !== MENU_FORBIDDEN && (\r\n          <li onClick={() => goToPage()}>{menu.name}</li>\r\n        )\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default connect(null, { setLink })(ListItemMenus);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { ChevronRight, ExpandMore } from \"@material-ui/icons\";\r\nimport ListItemMenus from \"./list-item-menus\";\r\nimport { Menu } from \"../../interfaces/menu.interface\";\r\nimport { Module } from \"../../interfaces/module.interface\";\r\n\r\nconst ListItemModules = ({ module }: { module: Module }) => {\r\n  const [isArrowActive, setArrowActive] = useState<Boolean>(false);\r\n  const [isTextModuleActive, setTextModuleActive] = useState<Boolean>(false);\r\n  const findMenus = module.menus;\r\n  const [menus, setMenu] = React.useState<Menu[]>([]);\r\n\r\n  const handleArrow = () => {\r\n    setArrowActive(!isArrowActive);\r\n    setTextModuleActive(!isTextModuleActive);\r\n  };\r\n\r\n  const stylesModuleActive = {\r\n    color: \"#fff\",\r\n    fontWeight: \"bold\",\r\n  };\r\n\r\n  const stylesModuleInactive = {\r\n    color: \"#67677e\",\r\n  };\r\n\r\n  useEffect(() => {\r\n    setMenu(findMenus || []);\r\n  }, [findMenus]);\r\n\r\n  return (\r\n    <>\r\n      <li\r\n        style={isTextModuleActive ? stylesModuleActive : stylesModuleInactive}\r\n        onClick={() => handleArrow()}\r\n      >\r\n        {module.name} {isArrowActive ? <ExpandMore /> : <ChevronRight />}\r\n      </li>\r\n      {isArrowActive && (\r\n        <ul>\r\n          {menus.map((menu) => (\r\n            <ListItemMenus key={menu.id} menu={menu} module={module} />\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ListItemModules;\r\n","export default __webpack_public_path__ + \"static/media/logo_kemay_antena.16ba1da3.png\";","import ListItemModules from \"../wrapper/list-item-modules\";\r\nimport logo from \"../../assets/logo_kemay_antena.png\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Module } from \"../../interfaces/module.interface\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { setLink } from \"../../store/page/action\";\r\n\r\nimport \"./aside.css\";\r\n\r\nconst Aside = () => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const { module, page } = useSelector((state: any) => {\r\n    return state.page.user;\r\n  });\r\n  const findModules = auth?.role?.modules;\r\n  const [modules, setModules] = useState<Module[]>([]);\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  const gotToHome = () => {\r\n    history.push(`/`);\r\n    dispatch(setLink(\"Inicio\", \"/\", \"Dashboard\"));\r\n  };\r\n\r\n  useEffect(() => {\r\n    setModules(findModules || []);\r\n  }, [findModules]);\r\n\r\n  return (\r\n    <aside>\r\n      <div className=\"content-logo\">\r\n        <div className=\"logo\" onClick={gotToHome}>\r\n          <img width=\"100\" height=\"100\" src={logo} alt=\"Logo\" />\r\n        </div>\r\n        {/* <div className=\"title-logo\" onClick={gotToHome}>\r\n          <p>KTECH</p>\r\n        </div> */}\r\n      </div>\r\n      <div className=\"sidebar\">\r\n        <ul>\r\n          {modules.map((module) => (\r\n            <ListItemModules key={module.id} module={module} />\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </aside>\r\n  );\r\n};\r\n\r\nexport default Aside;\r\n","import React from \"react\";\r\nimport Header from \"../components/header/header.component\";\r\nimport Wrapper from \"../components/wrapper/wrapper.component\";\r\nimport Footer from \"../components/footer/footer.component\";\r\nimport Aside from \"../components/aside/aside\";\r\nimport \"./css/home.css\";\r\n\r\nconst Home = () => {\r\n  return (\r\n    <>\r\n      <section className=\"menu\">\r\n        <Aside />\r\n      </section>\r\n      <section className=\"content\">\r\n        <div className=\"body\">\r\n          <Header />\r\n          <Wrapper />\r\n        </div>\r\n        <Footer />\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","export default __webpack_public_path__ + \"static/media/B_logo_kemay.bec2fe6e.png\";","/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport { gql, useMutation } from \"@apollo/client\";\r\nimport { Login } from \"../../interfaces/auth.interface\";\r\n\r\ninterface AuthInput {\r\n  variables: {\r\n    authInput: Login;\r\n  };\r\n}\r\n\r\nconst POST_LOGIN = gql`\r\n  mutation login($authInput: AuthInput!) {\r\n    login(authInput: $authInput) {\r\n      access_token\r\n      refresh_token\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useLogin = (): any => {\r\n  const [login] = useMutation(POST_LOGIN);\r\n\r\n  return login;\r\n};\r\n","import React, { useState, ChangeEvent, FormEvent } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport logo from \"../assets/B_logo_kemay.png\";\r\nimport { useLogin } from \"../hooks/login/useLogin\";\r\nimport { Error } from \"../interfaces/error.interface\";\r\nimport { Login } from \"../interfaces/auth.interface\";\r\nimport { setLocal } from \"../lib/local-storage\";\r\nimport client from \"../apollo-client\";\r\nimport { setLoading } from \"../store/auth/action\";\r\nimport { connect } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport \"./css/login.css\";\r\nimport { findError } from \"../helpers/control-errors\";\r\nimport { setAlert } from \"../store/alert/action\";\r\n\r\n//for inputs\r\ntype InputChange = ChangeEvent<HTMLInputElement | HTMLTextAreaElement>;\r\n//for selects\r\n//type SelectChange = ChangeEvent<HTMLSelectElement>;\r\n//for forms\r\ntype FormChange = FormEvent<HTMLFormElement>;\r\n\r\nconst initialUser = {\r\n  email: \"\",\r\n  password: \"\",\r\n};\r\n\r\nconst initialError = {\r\n  path: \"\",\r\n  message: \"\",\r\n};\r\n\r\nconst mapStateToProps = (state: any) => {\r\n  return {\r\n    loading: state.authReducer.loading,\r\n  };\r\n};\r\n\r\nconst LoginPage: React.FC = ({ loading, setLoading }: any) => {\r\n  const [error, setError] = useState<Error>(initialError);\r\n  const [user, setUser] = useState<Login>(initialUser);\r\n  const alert = useSelector((state: any) => state.message);\r\n  const loginForm = useLogin();\r\n  const dispatch = useDispatch();\r\n\r\n  const handleInputChange = (e: InputChange) => {\r\n    dispatch(\r\n      setAlert({\r\n        type: \"\",\r\n        text: \"\",\r\n      })\r\n    );\r\n    setError(initialError);\r\n    setUser({ ...user, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      const res = await loginForm({\r\n        variables: {\r\n          authInput: { email: user.email, password: user.password },\r\n        },\r\n      });\r\n\r\n      const {\r\n        data: {\r\n          login: { access_token, refresh_token },\r\n        },\r\n      } = res;\r\n\r\n      setLocal(\"accessToken\", access_token);\r\n      setLocal(\"refreshToken\", refresh_token);\r\n      client.resetStore();\r\n      window.location.href = \"/\";\r\n    } catch (e) {\r\n      if (e.graphQLErrors[0].extensions.exception.status === 401) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      setError(e.graphQLErrors[0].extensions.exception.response);\r\n      setLoading(false);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"content-login-logo content-items-center\">\r\n        <img width=\"450\" height=\"400\" src={logo} alt=\"Logo\" />\r\n      </div>\r\n      <div className=\"content-login-form content-items-center\">\r\n        <div className=\"content-login-form-main\">\r\n          <div className=\"content-login-form-header content-items-center\">\r\n            <h1>ACCESO AL SISTEMA</h1>\r\n          </div>\r\n          {alert.type && <Alert severity={alert.type}>{alert.text}</Alert>}\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"content-login-form-body\">\r\n              <div className=\"content-login-form-input\">\r\n                <TextField\r\n                  error={error?.path === \"username\" ? true : false}\r\n                  id=\"idUsername\"\r\n                  label=\"Usuario\"\r\n                  helperText={error?.path === \"username\" ? error?.message : \"\"}\r\n                  name=\"email\"\r\n                  onChange={handleInputChange}\r\n                  variant=\"outlined\"\r\n                  fullWidth\r\n                />\r\n              </div>\r\n              <br />\r\n              <div className=\"content-login-form-input\">\r\n                <TextField\r\n                  error={error?.path === \"password\" ? true : false}\r\n                  id=\"idPassword\"\r\n                  label=\"Contraseña\"\r\n                  helperText={error?.path === \"password\" ? error?.message : \"\"}\r\n                  name=\"password\"\r\n                  onChange={handleInputChange}\r\n                  variant=\"outlined\"\r\n                  type=\"password\"\r\n                  fullWidth\r\n                />\r\n              </div>\r\n              <br />\r\n              <div className=\"content-login-form-input content-items-center\">\r\n                {loading ? (\r\n                  <CircularProgress />\r\n                ) : (\r\n                  <Button\r\n                    disabled={loading ? true : false}\r\n                    type=\"submit\"\r\n                    size=\"large\"\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    fullWidth\r\n                  >\r\n                    Iniciar sesion\r\n                  </Button>\r\n                )}\r\n              </div>\r\n              <br />\r\n              <div className=\"content-login-form-footer content-items-center\">\r\n                ¿Olvidaste tu contraseña?\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, { setLoading })(LoginPage);\r\n","import React from \"react\";\r\nimport { Redirect, BrowserRouter as Router } from \"react-router-dom\";\r\nimport { getLocal } from \"../../lib/local-storage\";\r\nimport Home from \"../../pages/home.page\";\r\nimport LoginPage from \"../../pages/login.page\";\r\n\r\nconst App: React.FC = () => {\r\n  return (\r\n    <Router>\r\n      {getLocal(\"accessToken\") ? (\r\n        <Home />\r\n      ) : (\r\n        <>\r\n          <LoginPage />\r\n          <Redirect to=\"/\" />\r\n        </>\r\n      )}\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { LOADING_USER, ERROR_USER, LOGIN_USER, LOGOUT_USER } from \"./action\";\r\n\r\ninterface RootState {\r\n  loading: boolean;\r\n  authUser: undefined;\r\n  error: undefined;\r\n}\r\n\r\nconst initialState: RootState = {\r\n  loading: false,\r\n  authUser: undefined,\r\n  error: undefined,\r\n};\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state: RootState = initialState, action: any) => {\r\n  switch (action.type) {\r\n    case LOADING_USER:\r\n      return {\r\n        ...state,\r\n        loading: action.payload,\r\n      };\r\n\r\n    case LOGIN_USER:\r\n      return {\r\n        ...state,\r\n        authUser: action.payload,\r\n      };\r\n\r\n    case LOGOUT_USER:\r\n      return {\r\n        ...state,\r\n        authUser: action.payload,\r\n      };\r\n\r\n    case ERROR_USER:\r\n      return {\r\n        ...state,\r\n        error: action.payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { LINK_USER } from \"./action\";\r\n\r\ninterface RootState {\r\n  user: {\r\n    link: string;\r\n    module: string;\r\n    page: string;\r\n    name: string;\r\n  };\r\n}\r\n\r\nconst initialState = {\r\n  user: {\r\n    link: \"/\",\r\n    module: \"Inicio\",\r\n    page: \"DASHBOARD\",\r\n    name: \"Dashboard\",\r\n  },\r\n};\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state: RootState = initialState, action: any) => {\r\n  switch (action.type) {\r\n    case LINK_USER:\r\n      return {\r\n        ...state,\r\n        user: action.payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { IAlert } from \"../../interfaces/alert.interface\";\r\nimport { ALERT } from \"./action\";\r\n\r\nconst initialState: IAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state: any = initialState, action: any) => {\r\n  switch (action.type) {\r\n    case ALERT:\r\n      return action.payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore, combineReducers, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport { persistStore, persistReducer } from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\n\r\nimport authReducer from \"./auth/reducer\";\r\nimport pageReducer from \"./page/reducer\";\r\nimport alertReducer from \"./alert/reducer\";\r\n\r\nconst reducers = combineReducers({\r\n  authReducer,\r\n  page: pageReducer,\r\n  message: alertReducer,\r\n});\r\n\r\nconst persistConfig = {\r\n  key: \"root\",\r\n  storage,\r\n  whitelist: [\"page\"],\r\n};\r\n\r\nconst persistedReducer = persistReducer(persistConfig, reducers);\r\n\r\nexport const store = createStore(\r\n  persistedReducer,\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n);\r\n\r\nexport const persistor = persistStore(store);\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/app/app.component\";\nimport { ApolloProvider } from \"@apollo/client\";\nimport { Provider } from \"react-redux\";\nimport { store, persistor } from \"./store/index\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport client from \"./apollo-client\";\nimport \"./pages/css/index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ApolloProvider client={client}>\n      <Provider store={store}>\n        <PersistGate loading={null} persistor={persistor}>\n          <App />\n        </PersistGate>\n      </Provider>\n    </ApolloProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","import { gql, useQuery } from \"@apollo/client\";\r\n\r\nexport const GET_MODULES = gql`\r\n  query getModules {\r\n    getModules {\r\n      id\r\n      name\r\n      description\r\n      createdAt\r\n      updatedAt\r\n      menus {\r\n        id\r\n        name\r\n        link\r\n      }\r\n      access {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetModules = () => {\r\n  const { data, loading, error } = useQuery(GET_MODULES);\r\n  return { data, loading, error };\r\n};\r\n","import { IAlert } from \"../../interfaces/alert.interface\";\r\n\r\nexport const ALERT = \"@message/ALERT\";\r\n\r\n//{ alert }: { alert: Alert }\r\nexport const setAlert = (alert: IAlert) => {\r\n  return {\r\n    type: ALERT,\r\n    payload: alert,\r\n  };\r\n};\r\n"],"sourceRoot":""}