{"version":3,"sources":["lib/transfer-list-component.tsx","store/alert/action.tsx","hooks/role/useUpdateRole.tsx","const.ts","helpers/control-errors.ts","components/module/module-transfer-list.tsx","components/progress/progress.tsx","lib/local-storage.ts","hooks/login/useRefreshToken.tsx","apollo-client.ts","store/auth/action.tsx","hooks/user/useMe.tsx","components/header/header.component.tsx","pages/404.page.tsx","components/acceso/filter-access.component.tsx","components/dialog/dialog.component.tsx","hooks/category/useGetCategorys.tsx","hooks/brand/useGetBrands.tsx","hooks/brand/useUpdateBrand.tsx","hooks/brand/useCreateBrand.tsx","components/brand/brand-form.tsx","components/brand/brand-list.tsx","pages/brand.page.tsx","hooks/category/useCreateCategory.tsx","hooks/category/useUpdateCategory.tsx","components/category/category-form.tsx","components/category/category-list.tsx","pages/category.page.tsx","components/textfield/reddit.tsx","lib/currency/money.ts","hooks/egress/useGetEgress.tsx","hooks/egress/useDeleteEgress.tsx","hooks/egress/useUpdateEgress.tsx","hooks/egress/useCreateEgress.tsx","components/egress/EgressForm.tsx","components/egress/EgressList.tsx","context/caja-context.tsx","pages/egress.page.tsx","hooks/ingress/useGetIngress.tsx","hooks/ingress/useDeleteIngress.tsx","hooks/ingress/useUpdateIngress.tsx","hooks/ingress/useCreateIngress.tsx","components/ingress/IngressForm.tsx","components/ingress/IngresList.tsx","pages/ingress.page.tsx","pages/summary-box.page.tsx","hooks/summary-box/useGetEgerssByDates.tsx","hooks/summary-box/useGetIngressByDates.tsx","pages/check-money.page.tsx","hooks/brand/useBrandsByCategory.tsx","hooks/model/useGetModelsByBrand.tsx","hooks/product/useGetProductByCMM.tsx","hooks/product/useProductByName.tsx","hooks/service/useGetServicesByCategory.tsx","hooks/service/useServiceByName.tsx","pages/check-products.tsx","hooks/model/useGetModels.tsx","hooks/model/useUpdateModel.tsx","hooks/model/useCreateModel.tsx","components/model/model-form.tsx","components/model/model-list.tsx","pages/model.page.tsx","components/table/item-module-menu.tsx","components/table/item-module-access.tsx","hooks/module/useUpdateModule.tsx","hooks/module/useCreateModule.tsx","hooks/access/useGetAllAceess.tsx","hooks/menu/useGetMenus.tsx","components/module/module-form.component.tsx","components/acceso/access-form.component.tsx","components/menu/menu-form.component.tsx","components/table/item-module.component.tsx","pages/module.page.tsx","hooks/product/useGetProducts.tsx","hooks/product/useUpdateProduct.tsx","hooks/product/useCreateProduct.tsx","components/product/product-form.tsx","hooks/product/useDeleteProduct.tsx","components/product/product-list.tsx","pages/product.page.tsx","hooks/role/useGetRoles.tsx","components/role/role-module-item.tsx","hooks/role/useCreateRole.tsx","components/role/rol-form.tsx","components/role/role-list.tsx","pages/role.page.tsx","hooks/service/useGetServices.tsx","hooks/service/useUpdateService.tsx","hooks/service/useCreateService.tsx","components/service/service-form.tsx","hooks/service/useDeleteService.tsx","components/service/service-list.tsx","pages/service.page.tsx","hooks/user/useGetUsers.tsx","hooks/user/useUpdateUser.tsx","hooks/user/useCreateUser.tsx","components/user/user-form.tsx","hooks/user/useUpdateAccessToLogin.tsx","hooks/password/useChangePassword.tsx","components/password/password-form.tsx","components/user/user-list.tsx","pages/user.page.tsx","lib/item-switch.component.tsx","lib/switch-container.tsx","components/wrapper/wrapper.component.tsx","components/footer/footer.component.tsx","store/page/action.tsx","components/wrapper/list-item-menus.tsx","components/wrapper/list-item-modules.tsx","assets/logo_kemay_antena.png","components/aside/aside.tsx","pages/home.page.tsx","assets/B_logo_kemay.png","hooks/login/useLogin.tsx","pages/login.page.tsx","components/app/app.component.tsx","store/auth/reducer.tsx","store/page/reducer.tsx","store/alert/reducer.tsx","store/index.ts","index.tsx","hooks/module/useGetModules.tsx"],"names":["not","a","b","filter","value","indexOf","intersection","TrasnferList","setListAvailable","setListCurrent","listAvailable","setChecked","checked","titleAvailable","listCurrent","titleCurrent","loading","leftChecked","rightChecked","handleToggle","currentIndex","newChecked","push","splice","numberOfChecked","items","length","handleToggleAll","customList","title","avatar","onClick","indeterminate","disabled","inputProps","subheader","dense","component","role","map","labelId","name","button","tabIndex","disableRipple","id","primary","container","spacing","justify","alignItems","item","direction","variant","size","concat","aria-label","ALERT","setAlert","alert","type","payload","UDATE_ROL","gql","useUpdateRole","useMutation","update","cache","updateRole","data","modify","fields","existingRoles","newRolesRef","writeFragment","fragment","error","PERMIT_ONE","PERMIT_TWO","PERMIT_TREE","PERMIT_FOUR","ROLSA","MODULE_FORBIDDEN","MENU_FORBIDDEN","findError","index","graphQLErrors","element","extensions","exception","response","message","index1","ModuleTransferList","handleClose","useState","dispatch","useDispatch","optionsGetModules","useGetModules","optionsUpdateRole","useSelector","state","text","onSubmit","authReducer","authUser","e","preventDefault","newData","module","variables","roleInput","modules","loadModuleAvailable","useCallback","listModulesAvailableNoModulo","getModules","dispo","some","actual","useEffect","listModulesCurrentNoModulo","xs","style","width","color","autoFocus","Progress","display","justifyContent","disableShrink","getLocal","val","localStorage","getItem","setLocal","key","setItem","POST_REFRESH","isRefreshing","pendingRequests","errorLink","onError","networkError","operation","forward","err","status","forward$","fromPromise","Promise","resolve","client","mutate","mutation","authInput","email","refresh_token","then","access_token","refreshToken","callback","catch","finally","flatMap","console","log","locations","path","httpLink","createHttpLink","uri","authLink","setContext","_","headers","token","authorization","ApolloClient","link","from","InMemoryCache","LOGIN_USER","LOGOUT_USER","LOADING_USER","ERROR_USER","initialValue","lastName","setLoading","logout","clear","resetStore","window","location","href","ME","connect","whoisme","me","useLazyQuery","pollInterval","useMe","className","NoMatch","loadAccess","auth","page","Component","Notify","filterAccessbyModuleCreate","access","myaccess","i","filterAccessbyModuleEdit","filterAccessbyModuleDelete","filterAccessbyModuleView","DialogTitle","withStyles","theme","createStyles","root","margin","padding","closeButton","position","right","top","palette","grey","props","children","classes","onClose","other","disableTypography","Typography","IconButton","DialogForm","open","dialog","useTheme","fullScreen","useMediaQuery","breakpoints","down","Dialog","aria-labelledby","disableBackdropClick","disableEscapeKeyDown","Alert","severity","DialogContent","dividers","overflowY","GET_CATEGORYS","useGetCategorys","useQuery","GET_BRANDS","useGetBrands","UPDATE_BRAND","CREATE_BRAND","initialAlert","BrandForm","brand","initialValueUpdate","category","brandForm","setBrandForm","categorys","setCategorys","optionsUpdateBrand","refetchQueries","query","updateBrand","useUpdateBrand","optionsCreateBrand","registerBrand","useCreateBrand","brandInput","getCategorys","Grid","FormControl","fullWidth","InputLabel","Select","onChange","target","label","MenuItem","TextField","autoComplete","DialogActions","Button","initialDialog","active","BrandList","user","setDialog","showOptionsForEdit","TableCell","align","Tooltip","TableRow","scope","moment","createdAt","format","updatedAt","BrandPage","brands","setBrands","getBrands","TableContainer","Paper","marginTop","Table","TableHead","TableBody","CREATE_CATEGORY","UPDATE_CATEGORY","CategoryForm","categoryForm","setCategoryForm","optionsUpdateCategory","updateCategory","useUpdateCategory","optionsCreateCategory","registerCategory","useCreateCategory","categoryInput","CategoryList","CategooryPage","useStylesReddit","makeStyles","border","overflow","borderRadius","backgroundColor","transition","transitions","create","borderColor","main","focused","RedditTextField","InputProps","disableUnderline","formatMoney","Intl","NumberFormat","currency","GET_EGRESS","DELETE_EGRESS","UPDATE_EGRESS","CREATE_EGRESS","initialAutoCompleteInput","EgressForm","egress","initialValueCreate","detail","amount","units","observation","egressForm","setEgressForm","valueInput","setValueInput","optionsUpdateEgress","updateEgress","useUpdateEgress","optionsCreateEgress","registerEgress","useCreateEgress","handleInput","dataCategorys","egressInput","Number","Autocomplete","event","inputValue","onInputChange","newValue","options","getOptionLabel","getOptionSelected","option","renderInput","params","startAdornment","InputAdornment","readOnly","multiline","rows","EgressList","egres","optionsEgress","deleteEgress","useDeleteEgress","showOptionsForDelete","wordBreak","PagoContext","createContext","summaryIngress","ingress","setSummaryIngress","summaryEgress","setSummaryEgress","PagoProvider","Provider","Consumer","EgressPage","checkMoney","resultEgress","setEgress","useGetEgress","useContext","totalHoy","reduce","sum","undefined","getEgress","background","colSpan","GET_INGRESS","DELETE_INGRESS","UPDATE_INGRESS","CREATE_INGRESS","IngressForm","ingres","ingressForm","setIngressForm","optionsUpdateIngress","updateIngress","useUpdateIngress","optionsCreateIngress","registerIngress","useCreateIngress","ingressInput","useStyles","row","cell_long","fontSize","minWidth","cell_default","cell_short","IngressList","optionsIngress","deleteIngress","useDeleteIngress","IngressPage","resultIngress","setIngress","useGetIngress","getIngress","SummaryBoxPage","marginRight","GET_DATE","CheckMoneyPage","now","utc","local","getIngressByDates","useGetIngressByDate","getEgressByDates","useGetEgressByDate","initialState","dateStart","dateEnd","setCheckMoney","setResultIngress","setResultEgress","start","end","GET_BRANDS_BY_CATEGORY","useGetBrandsByCategory","GET_MODELS_BY_BRAND","useGetModelsByBrand","GET_PRODUCTS_BY_CMM","GET_PRODUCTS_BY_NAME","GET_SERVICES_BY_CATEGORY","GET_SERVICE_BY_NAME","model","product","service","intialValue","CheckProducts","checkProduct","setCheckProduct","models","setModels","products","setProducts","services","setServices","isActiveRadio","setActiveRadio","optionsGetBrandsByCategory","optionsGetServiceByCategory","useGetServicesByCategory","optionsGetModelsByBrand","optionsGetProductsCMM","useGetProductsCMM","optionGetProduct","getProductByName","useGetProductByName","optionGetService","getServiceByName","useGetServiceByName","changeBrandByCategory","getBrandsByCategory","changeServiceByCategory","getServicesByCategory","changeModelByBrand","getModelsByBrand","changeProductCMM","getProductsByCategoryBrandModel","getProduct","getService","RadioGroup","FormControlLabel","control","Radio","flexDirection","height","description","price","GET_MODELS","UPDATE_MODEL","CREATE_MODEL","ModelForm","modelForm","setModelForm","optionsUpdateModel","updateModel","useUpdateModel","optionsCreateModel","registerModel","useCreateModel","modelInput","ModelList","ModelPage","useGetModels","getModels","ItemModuleMenu","menu","Chip","onDelete","ItemModuleAccess","UDATE_MODULE","useUpdateModule","GET_MODULES","updateModule","CREATE_MODULE","GET_ACCESS","useGetAllAccess","GET_MENUS","useGetMenus","formControl","maxWidth","chips","flexWrap","chip","noLabel","MenuProps","PaperProps","maxHeight","ITEM_HEIGHT","ModuleForm","optionsUpdateModule","optionsCreateModule","registerModule","useCreateModule","optionsGetAccess","optionsGetMenus","menuSelected","setMenuSelected","accessSelected","setAccessSelected","listMenus","setListMenus","listAccess","setListAccess","moduleForm","setModuleForm","sentToAddMenus","sentToAddAccess","getStyles","personName","fontWeight","typography","fontWeightRegular","fontWeightMedium","moduleInput","menus","listMenusNoModulos","getMenus","getAccess","multiple","input","Input","renderValue","selected","AccesoForm","optionsGetAllAccess","loadAccessAvailable","res","MenuForm","loadMenusAvailable","listMenusAvailableNoModulos","listMenusCurrentNoModulos","initialValueButton","ItemModule","table","ModulePage","setModules","GET_PRODUCTS","UPDATE_PRODUCT","CREATE_PRODUCT","ProductForm","cant","productForm","setProductForm","optionsUpdateProduct","updateProduct","useUpdateProduct","optionsCreateProduct","registerProduct","useCreateProduct","productInput","onKeyUp","defaultValue","DELETE_PRODUCT","ProductList","optionsProduct","deleteProduct","useDeleteProduct","ProductPage","useGetProducts","getProducts","GET_ROLES","useGetRoles","RoleModuleItem","CREATE_ROL","RoleForm","optionsCreateRole","registerRole","useCreateRole","roleForm","setRoleForm","modulesSelected","setModulesSelected","listModules","setListModules","sentToAddModules","listModulesNoModulos","RoleList","RolePage","roles","setRoles","getRoles","GET_SERVICES","UPDATE_SERVICE","CREATE_SERVICE","ServiceForm","serviceForm","setServiceForm","optionsUpdateService","updateService","useUpdateService","optionsCreateService","registerService","useCreateService","serviceInput","DELETE_SERVICE","ServiceList","optionsService","deleteService","useDeleteService","ServicePage","useGetServices","getServices","GET_USERS","UPDATE_USER","CREATE_USER","UserForm","password","confirmPassword","userForm","setUserForm","listRoles","setListRoles","optionsUpdateUser","updateUser","useUpdateUser","optionsCreateUser","registerUser","useCreateUser","userInput","UPDATE_ACTIVATE_USER","UPDATE_DESACTIVATE_USER","UPDATE_PASSWORD_TO_ADMIN","PasswordForm","newPassword","confirmNewPassword","changePasswordToAdmin","useChangePasswordToAdmin","UserList","optionsActivate","activateUser","useActivateUser","optionsDesactivate","desactivateUser","useDesactivateUser","UserPage","users","setUsers","useGetUsers","getUsers","useLocation","formatedLink","pathname","replace","PrivateRoute","toLogin","rest","render","to","createElement","exact","PAGES","SwitchContainer","Wrapper","firsCaracter","charAt","toUpperCase","restCaracter","substr","subTitle","toLowerCase","Footer","rel","LINK_USER","setLink","history","useHistory","goToPage","document","ListItemModules","isArrowActive","setArrowActive","isTextModuleActive","setTextModuleActive","findMenus","React","setMenu","ExpandMore","ChevronRight","Aside","findModules","src","logo","alt","Home","POST_LOGIN","initialUser","initialError","setError","setUser","loginForm","useLogin","handleInputChange","handleSubmit","login","helperText","CircularProgress","App","reducers","combineReducers","action","persistConfig","storage","whitelist","persistedReducer","persistReducer","store","createStore","composeWithDevTools","applyMiddleware","thunk","persistor","persistStore","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6239f689.chunk.js","sourcesContent":["import React from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardHeader from \"@material-ui/core/CardHeader\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Progress from \"../components/progress/progress\";\r\n\r\nfunction not(a: any[], b: any[]) {\r\n  return a.filter((value) => b.indexOf(value) === -1);\r\n}\r\n\r\nfunction intersection(a: any[], b: any[]) {\r\n  return a.filter((value) => b.indexOf(value) !== -1);\r\n}\r\n\r\nfunction union(a: any[], b: any[]) {\r\n  return [...a, ...not(b, a)];\r\n}\r\n\r\nconst TrasnferList = ({\r\n  setListAvailable,\r\n  setListCurrent,\r\n  listAvailable,\r\n  setChecked,\r\n  checked,\r\n  titleAvailable,\r\n  listCurrent,\r\n  titleCurrent,\r\n  loading,\r\n}: any) => {\r\n  const leftChecked = intersection(checked, listAvailable);\r\n  const rightChecked = intersection(checked, listCurrent);\r\n\r\n  const handleToggle = (value: any) => () => {\r\n    const currentIndex = checked.indexOf(value);\r\n    const newChecked = [...checked];\r\n\r\n    if (currentIndex === -1) {\r\n      newChecked.push(value);\r\n    } else {\r\n      newChecked.splice(currentIndex, 1);\r\n    }\r\n\r\n    setChecked(newChecked);\r\n  };\r\n\r\n  const numberOfChecked = (items: any[]) => intersection(checked, items).length;\r\n\r\n  const handleToggleAll = (items: any[]) => () => {\r\n    if (numberOfChecked(items) === items.length) {\r\n      setChecked(not(checked, items));\r\n    } else {\r\n      setChecked(union(checked, items));\r\n    }\r\n  };\r\n\r\n  const handleCheckedRight = () => {\r\n    setListCurrent(listCurrent.concat(leftChecked));\r\n    setListAvailable(not(listAvailable, leftChecked));\r\n    setChecked(not(checked, leftChecked));\r\n  };\r\n\r\n  const handleCheckedLeft = () => {\r\n    setListAvailable(listAvailable.concat(rightChecked));\r\n    setListCurrent(not(listCurrent, rightChecked));\r\n    setChecked(not(checked, rightChecked));\r\n  };\r\n\r\n  const customList = (title: React.ReactNode, items: any[]) => (\r\n    <Card>\r\n      <CardHeader\r\n        //className={classes.cardHeader}\r\n        avatar={\r\n          <Checkbox\r\n            onClick={handleToggleAll(items)}\r\n            checked={\r\n              numberOfChecked(items) === items.length && items.length !== 0\r\n            }\r\n            indeterminate={\r\n              numberOfChecked(items) !== items.length &&\r\n              numberOfChecked(items) !== 0\r\n            }\r\n            disabled={items.length === 0}\r\n            inputProps={{ \"aria-label\": \"all items selected\" }}\r\n          />\r\n        }\r\n        title={title}\r\n        subheader={`${numberOfChecked(items)}/${items.length} selected`}\r\n      />\r\n      <Divider />\r\n      <List\r\n        //className={classes.list}\r\n        dense\r\n        component=\"div\"\r\n        role=\"list\"\r\n      >\r\n        {loading ? (\r\n          <Progress />\r\n        ) : (\r\n          items.map((value: any) => {\r\n            const labelId = `transfer-list-all-item-${value.name}-label`;\r\n\r\n            return (\r\n              <ListItem\r\n                key={value.id}\r\n                role=\"listitem\"\r\n                button\r\n                onClick={handleToggle(value)}\r\n              >\r\n                <ListItemIcon>\r\n                  <Checkbox\r\n                    checked={checked.indexOf(value) !== -1}\r\n                    tabIndex={-1}\r\n                    disableRipple\r\n                    inputProps={{ \"aria-labelledby\": labelId }}\r\n                  />\r\n                </ListItemIcon>\r\n                <ListItemText id={labelId} primary={`${value.name}`} />\r\n              </ListItem>\r\n            );\r\n          })\r\n        )}\r\n        <ListItem />\r\n      </List>\r\n    </Card>\r\n  );\r\n\r\n  return (\r\n    <Grid container spacing={2} justify=\"center\" alignItems=\"center\">\r\n      <Grid item>{customList(titleAvailable, listAvailable)}</Grid>\r\n      <Grid item>\r\n        <Grid container direction=\"column\" alignItems=\"center\">\r\n          <Button\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            onClick={handleCheckedRight}\r\n            disabled={leftChecked.length === 0}\r\n            aria-label=\"move selected right\"\r\n          >\r\n            &gt;\r\n          </Button>\r\n          <Button\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            onClick={handleCheckedLeft}\r\n            disabled={rightChecked.length === 0}\r\n            aria-label=\"move selected left\"\r\n          >\r\n            &lt;\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n      <Grid item>{customList(titleCurrent, listCurrent)}</Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default TrasnferList;\r\n","import { IAlert } from \"../../interfaces/alert.interface\";\r\n\r\nexport const ALERT = \"@message/ALERT\";\r\n\r\n//{ alert }: { alert: Alert }\r\nexport const setAlert = (alert: IAlert) => {\r\n  return {\r\n    type: ALERT,\r\n    payload: alert,\r\n  };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Role } from \"../../interfaces/role.interface\";\r\n\r\ninterface RoleUpdateInput {\r\n  variables: {\r\n    roleInput: Role;\r\n  };\r\n}\r\n\r\nconst UDATE_ROL = gql`\r\n  mutation updateRole($roleInput: RoleUpdateInput!) {\r\n    updateRole(roleInput: $roleInput) {\r\n      id\r\n      name\r\n      description\r\n      modules {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useUpdateRole = () => {\r\n  const [updateRole, { error, loading }] = useMutation(UDATE_ROL, {\r\n    update(cache, { data: { updateRole } }) {\r\n      cache.modify({\r\n        fields: {\r\n          updateRole(existingRoles = []) {\r\n            const newRolesRef = cache.writeFragment({\r\n              data: updateRole,\r\n              fragment: gql`\r\n                fragment NewRole on Role {\r\n                  id\r\n                  name\r\n                  description\r\n                  modules {\r\n                    id\r\n                    name\r\n                  }\r\n                }\r\n              `,\r\n            });\r\n            return [...existingRoles, newRolesRef];\r\n          },\r\n        },\r\n      });\r\n    },\r\n  });\r\n\r\n  return { updateRole, error, loading };\r\n};\r\n","export const PERMIT_ONE = \"Crear\";\r\nexport const PERMIT_TWO = \"Editar\";\r\nexport const PERMIT_TREE = \"Eliminar\";\r\nexport const PERMIT_FOUR = \"Ver\";\r\nexport const ROLSA = \"SuperAdmin\";\r\nexport const MODULE_FORBIDDEN = \"Administracin de modulos\";\r\nexport const MENU_FORBIDDEN = \"Modulos\";\r\n","export const findError = (error: any) => {\r\n  for (let index = 0; index < error.graphQLErrors.length; index++) {\r\n    const element =\r\n      error.graphQLErrors[index].extensions.exception.response.message;\r\n    for (let index1 = 0; index1 < element.length; index1++) {\r\n      const element1 = element[index1];\r\n      return element1;\r\n    }\r\n  }\r\n};\r\n","import React, { useState, useEffect, FormEvent, useCallback } from \"react\";\r\nimport { Role } from \"../../interfaces/role.interface\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Module } from \"../../interfaces/module.interface\";\r\nimport { useGetModules } from \"../../hooks/module/useGetModules\";\r\nimport { useUpdateRole } from \"../../hooks/role/useUpdateRole\";\r\nimport TrasnferList from \"../../lib/transfer-list-component\";\r\nimport { MODULE_FORBIDDEN, ROLSA } from \"../../const\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\n\r\ntype FormChange = FormEvent<HTMLFormElement>;\r\n\r\nconst ModuleTransferList = ({\r\n  role,\r\n  handleClose,\r\n}: {\r\n  role: Role;\r\n  handleClose: () => void;\r\n}) => {\r\n  const [listAvailable, setListAvailable] = useState<Module[]>([]);\r\n  const [listCurrent, setListCurrent] = useState<Module[]>([]);\r\n  const [checked, setChecked] = useState<Module[]>([]);\r\n  const dispatch = useDispatch();\r\n  const optionsGetModules = useGetModules();\r\n  const optionsUpdateRole = useUpdateRole();\r\n  const alert = useSelector((state: any) => state.message);\r\n  const { type, text } = alert;\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n\r\n    const newData = listCurrent.map((module) => {\r\n      return {\r\n        name: module.name,\r\n      };\r\n    });\r\n\r\n    try {\r\n      await optionsUpdateRole.updateRole({\r\n        variables: {\r\n          roleInput: {\r\n            id: role.id,\r\n            modules: newData,\r\n          },\r\n        },\r\n      });\r\n      return dispatch(\r\n        setAlert({\r\n          type: \"success\",\r\n          text: \"El rol actualiz sus modulos correctamente.\",\r\n        })\r\n      );\r\n    } catch (e) {\r\n      dispatch(\r\n        setAlert({\r\n          type: \"error\",\r\n          text: findError(e),\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  const loadModuleAvailable = useCallback(() => {\r\n    let res: Module[];\r\n\r\n    res = optionsGetModules.data.getModules.filter(\r\n      (dispo: Module) =>\r\n        !role.modules?.some((actual) => dispo.name === actual.name)\r\n    );\r\n\r\n    const listModulesAvailableNoModulo = res.filter(\r\n      (module) => module.name !== MODULE_FORBIDDEN\r\n    );\r\n\r\n    // if (auth?.role?.name === ROLSA) {\r\n    //   setListAvailable(res);\r\n    // } else {\r\n    //   const resNotSA = res.filter((module) => module.name !== MODULE_FORBIDDEN);\r\n    //   setListAvailable(resNotSA);\r\n    // }\r\n\r\n    setListAvailable(listModulesAvailableNoModulo);\r\n  }, [role, optionsGetModules.data]);\r\n\r\n  useEffect(() => {\r\n    if (role && optionsGetModules.data) {\r\n      const listModulesCurrentNoModulo = role.modules?.filter(\r\n        (module) => module.name !== MODULE_FORBIDDEN\r\n      );\r\n      setListCurrent(listModulesCurrentNoModulo || []);\r\n      loadModuleAvailable();\r\n    }\r\n  }, [role, optionsGetModules.data, loadModuleAvailable]);\r\n\r\n  if (type === \"error\") {\r\n    return <h1>{text}</h1>;\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12}>\r\n          <TrasnferList\r\n            setListAvailable={setListAvailable}\r\n            setListCurrent={setListCurrent}\r\n            setChecked={setChecked}\r\n            checked={checked}\r\n            listAvailable={listAvailable}\r\n            titleAvailable=\"Modulos disponibles\"\r\n            listCurrent={listCurrent}\r\n            titleCurrent=\"Modulos actuales\"\r\n            loading={optionsGetModules.loading}\r\n          />\r\n        </Grid>\r\n        <DialogActions style={{ width: \"100%\" }}>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Cancelar\r\n          </Button>\r\n\r\n          <Button\r\n            type=\"submit\"\r\n            color=\"primary\"\r\n            autoFocus\r\n            variant=\"contained\"\r\n            disabled={optionsUpdateRole.loading ? true : false}\r\n          >\r\n            {module.id ? \"Actualizar\" : \"Registrar\"}\r\n          </Button>\r\n        </DialogActions>\r\n      </Grid>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ModuleTransferList;\r\n","import React from \"react\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nconst Progress = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <CircularProgress disableShrink />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Progress;\r\n","export const getLocal = (val: string) => {\r\n  return localStorage.getItem(val);\r\n};\r\n\r\nexport const setLocal = (key: string, val: string) => {\r\n  return localStorage.setItem(key, val);\r\n};\r\n\r\nexport const deleteLocal = (val: string) => {\r\n  return localStorage.removeItem(val);\r\n};\r\n\r\nexport const clearAllLocal = () => {\r\n  return localStorage.clear();\r\n};\r\n\r\nexport const loadState = () => {\r\n  try {\r\n    const serializedState = localStorage.get(\"state\");\r\n    if (serializedState === null) {\r\n      return undefined;\r\n    }\r\n    return JSON.parse(serializedState);\r\n  } catch (e) {\r\n    return undefined;\r\n  }\r\n};\r\n\r\nexport const saveState = (state: any) => {\r\n  try {\r\n    const serializedState = JSON.stringify(state);\r\n    localStorage.setItem(\"state\", serializedState);\r\n  } catch (e) {\r\n    console.log(`En localstorage ${e}`);\r\n  }\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Token } from \"../../interfaces/auth.interface\";\r\n\r\ninterface AuthRefreshTokenInput {\r\n  variables: {\r\n    authInput: Token;\r\n  };\r\n}\r\n\r\nexport const POST_REFRESH = gql`\r\n  mutation refreshToken($authInput: AuthRefreshTokenInput!) {\r\n    refreshToken(authInput: $authInput) {\r\n      access_token\r\n    }\r\n  }\r\n`;\r\n","/* eslint-disable no-loop-func */\r\nimport {\r\n  ApolloClient,\r\n  createHttpLink,\r\n  InMemoryCache,\r\n  from,\r\n  fromPromise,\r\n} from \"@apollo/client\";\r\nimport { setContext } from \"@apollo/client/link/context\";\r\nimport { getLocal, setLocal } from \"./lib/local-storage\";\r\nimport { onError } from \"@apollo/client/link/error\";\r\nimport { POST_REFRESH } from \"./hooks/login/useRefreshToken\";\r\n\r\nlet isRefreshing = false;\r\nlet pendingRequests: any = [];\r\n\r\nconst resolvePendingRequests = () => {\r\n  pendingRequests.map((callback: any) => callback());\r\n  pendingRequests = [];\r\n};\r\n\r\nconst errorLink = onError(\r\n  ({ graphQLErrors, networkError, operation, forward }) => {\r\n    if (graphQLErrors) {\r\n      for (let err of graphQLErrors) {\r\n        switch (err.extensions!.exception.status) {\r\n          case 401:\r\n            let forward$;\r\n            if (!isRefreshing) {\r\n              isRefreshing = true;\r\n              forward$ = fromPromise(\r\n                client\r\n                  .mutate({\r\n                    mutation: POST_REFRESH,\r\n                    variables: {\r\n                      authInput: {\r\n                        email: getLocal(\"username\"),\r\n                        refresh_token: getLocal(\"refreshToken\"),\r\n                      },\r\n                    },\r\n                  })\r\n                  .then(\r\n                    ({\r\n                      data: {\r\n                        refreshToken: { access_token },\r\n                      },\r\n                    }) => {\r\n                      setLocal(\"accessToken\", access_token);\r\n                      return true;\r\n                    }\r\n                  )\r\n                  .then(() => {\r\n                    resolvePendingRequests();\r\n                    return true;\r\n                  })\r\n                  .catch(() => {\r\n                    pendingRequests = [];\r\n                    return false;\r\n                  })\r\n                  .finally(() => {\r\n                    isRefreshing = false;\r\n                  })\r\n              );\r\n            } else {\r\n              forward$ = fromPromise(\r\n                new Promise((resolve: any) => {\r\n                  pendingRequests.push(() => resolve());\r\n                })\r\n              );\r\n            }\r\n\r\n            return forward$.flatMap(() => forward(operation));\r\n          default:\r\n            console.log(\r\n              `[ERROR]: Message: ${err.message}, Location: ${err.locations}, Path: ${err.path}`\r\n            );\r\n        }\r\n      }\r\n    }\r\n\r\n    if (networkError) console.log(`[Network error]: ${networkError}`);\r\n  }\r\n);\r\n//http://localhost:3000/graphql\r\nconst httpLink = createHttpLink({\r\n  uri: \"https://web.kemaytechnology.com/graphql\",\r\n});\r\n\r\nconst authLink = setContext((_, { headers }) => {\r\n  // get the authentication token from local storage if it exists\r\n  const token = getLocal(\"accessToken\");\r\n  // return the headers to the context so httpLink can read them\r\n  return {\r\n    headers: {\r\n      ...headers,\r\n      authorization: token ? `Bearer ${token}` : \"\",\r\n    },\r\n  };\r\n});\r\n\r\nconst client = new ApolloClient({\r\n  link: from([errorLink, authLink, httpLink]),\r\n  cache: new InMemoryCache(),\r\n});\r\n\r\nexport default client;\r\n","/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport { clearAllLocal } from \"../../lib/local-storage\";\r\nimport client from \"../../apollo-client\";\r\n\r\nexport const LOGIN_USER = \"@auth/LOGIN_USER\";\r\nexport const LOGOUT_USER = \"@auth/LOGOUT_USER\";\r\nexport const LOADING_USER = \"@auth/LOADING_USER\";\r\nexport const ERROR_USER = \"@auth/ERROR_USER\";\r\n\r\nconst initialValue = {\r\n  name: \"Anonimo\",\r\n  lastName: \"\",\r\n};\r\n\r\nexport const setLoading = (loading: boolean) => {\r\n  return {\r\n    type: LOADING_USER,\r\n    payload: loading,\r\n  };\r\n};\r\n\r\nexport const logout = () => async (dispatch: any) => {\r\n  clearAllLocal();\r\n  client.resetStore();\r\n  window.location.href = \"/\";\r\n  await dispatch({\r\n    type: LOGOUT_USER,\r\n    payload: initialValue,\r\n  });\r\n};\r\n\r\nexport const whoisme = (payload: any) => async (dispatch: any) => {\r\n  try {\r\n    await dispatch(setLoading(true));\r\n    await dispatch({\r\n      type: LOGIN_USER,\r\n      payload: payload.me,\r\n    });\r\n    await dispatch(setLoading(false));\r\n  } catch (e) {\r\n    await dispatch({\r\n      type: ERROR_USER,\r\n      payload: e.message,\r\n    });\r\n  }\r\n};\r\n","import { gql, useLazyQuery } from \"@apollo/client\";\r\nimport { logout } from \"../../store/auth/action\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst ME = gql`\r\n  query me {\r\n    me {\r\n      id\r\n      name\r\n      lastName\r\n      email\r\n      status\r\n      role {\r\n        name\r\n        modules {\r\n          id\r\n          name\r\n          access {\r\n            name\r\n          }\r\n          menus {\r\n            id\r\n            name\r\n            link\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useMe = () => {\r\n  const [me, { data, loading, error }] = useLazyQuery(ME, {\r\n    pollInterval: 500,\r\n  });\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  if (error && error?.graphQLErrors[0].extensions?.exception.status === 401) {\r\n    alert(error.graphQLErrors[0].extensions.exception.response.message);\r\n    dispatch(logout());\r\n  }\r\n\r\n  return { me, data, loading };\r\n};\r\n","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport { useEffect } from \"react\";\r\nimport { useMe } from \"../../hooks/user/useMe\";\r\nimport { connect } from \"react-redux\";\r\nimport { whoisme, setLoading, logout } from \"../../store/auth/action\";\r\nimport { setLocal } from \"../../lib/local-storage\";\r\nimport \"./header.css\";\r\n\r\nconst mapStateToProps = (state: any) => {\r\n  return {\r\n    loading: state.authReducer.loading,\r\n    authUser: state.authReducer.authUser,\r\n  };\r\n};\r\n\r\nconst Header = ({ authUser, loading, whoisme, logout }: any) => {\r\n  const { me, data } = useMe();\r\n\r\n  useEffect(() => {\r\n    me();\r\n    whoisme(data);\r\n    setLocal(\"username\", data?.me?.email);\r\n  }, [me, whoisme, data]);\r\n\r\n  if (data?.me?.status === 2) {\r\n    logout();\r\n  }\r\n\r\n  return (\r\n    <header>\r\n      <a>\r\n        {loading ? (\r\n          `Cargando usuario...`\r\n        ) : (\r\n          <>\r\n            <strong>Bienvenido, </strong>\r\n            {authUser?.name} {authUser?.lastName}\r\n          </>\r\n        )}\r\n      </a>\r\n      &nbsp;&nbsp;\r\n      <button className=\"buttonLogout\" onClick={() => logout()}>\r\n        Cerrar sesion\r\n      </button>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  setLoading,\r\n  whoisme,\r\n  logout,\r\n})(Header);\r\n","import React from \"react\";\r\n\r\nconst NoMatch = () => {\r\n  return <>4040404040404040</>;\r\n};\r\n\r\nexport default NoMatch;\r\n","import React from \"react\";\r\nimport {\r\n  PERMIT_ONE,\r\n  PERMIT_TWO,\r\n  PERMIT_TREE,\r\n  PERMIT_FOUR,\r\n  ROLSA,\r\n} from \"../../const\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\n\r\nexport const loadAccess = (\r\n  value: string,\r\n  auth: User,\r\n  page: any,\r\n  Component: any,\r\n  Notify?: any\r\n) => {\r\n  switch (value) {\r\n    case PERMIT_ONE:\r\n      //find access by modules\r\n      const filterAccessbyModuleCreate = auth?.role?.modules?.map((module) =>\r\n        module.access?.filter(\r\n          (myaccess) => module.name === page && myaccess.name === value\r\n        )\r\n      );\r\n      //find access type create\r\n      return filterAccessbyModuleCreate?.map((access, i) => {\r\n        return access ? access?.length > 0 && <Component key={i} /> : \"\";\r\n      });\r\n\r\n    case PERMIT_TWO:\r\n      //find access by modules\r\n      const filterAccessbyModuleEdit = auth?.role?.modules?.map((module) =>\r\n        module.access?.filter(\r\n          (myaccess) => module.name === page && myaccess.name === value\r\n        )\r\n      );\r\n      //find access type create\r\n      return filterAccessbyModuleEdit?.map((access, i) => {\r\n        return access ? access?.length > 0 && <Component key={i} /> : \"\";\r\n      });\r\n\r\n    case PERMIT_TREE:\r\n      //find access by modules\r\n      const filterAccessbyModuleDelete = auth?.role?.modules?.map((module) =>\r\n        module.access?.filter(\r\n          (myaccess) => module.name === page && myaccess.name === value\r\n        )\r\n      );\r\n      //find access type create\r\n      return filterAccessbyModuleDelete?.map((access, i) => {\r\n        return access ? access?.length > 0 && <Component key={i} /> : \"\";\r\n      });\r\n\r\n    case PERMIT_FOUR:\r\n      //find access by modules\r\n      const filterAccessbyModuleView = auth?.role?.modules?.map((module) =>\r\n        module.access?.filter(\r\n          (myaccess) => module.name === page && myaccess.name === value\r\n        )\r\n      );\r\n      //find access type create\r\n      return filterAccessbyModuleView?.map((access, i) => {\r\n        return access ? access?.length > 0 && <Component key={i} /> : \"\";\r\n      });\r\n\r\n    default:\r\n      break;\r\n  }\r\n};\r\n","import React from \"react\";\r\n//dialog\r\nimport {\r\n  withStyles,\r\n  WithStyles,\r\n  Theme,\r\n  createStyles,\r\n} from \"@material-ui/core/styles\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\n//fullscreen\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport { useSelector } from \"react-redux\";\r\n//icons\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\n\r\ninterface DialogOption {\r\n  open: boolean;\r\n  dialog?: any;\r\n  title: string;\r\n  component?: JSX.Element;\r\n  handleClose: () => void;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      margin: 0,\r\n      padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n      position: \"absolute\",\r\n      right: theme.spacing(1),\r\n      top: theme.spacing(1),\r\n      color: theme.palette.grey[500],\r\n    },\r\n  });\r\n\r\nexport interface DialogTitleProps extends WithStyles<typeof styles> {\r\n  id: string;\r\n  children: React.ReactNode;\r\n  onClose: () => void;\r\n}\r\n\r\nconst DialogTitle = withStyles(styles)((props: DialogTitleProps) => {\r\n  const { children, classes, onClose, ...other } = props;\r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n      <Typography variant=\"h6\">{children}</Typography>\r\n      {onClose ? (\r\n        <IconButton\r\n          aria-label=\"close\"\r\n          className={classes.closeButton}\r\n          onClick={onClose}\r\n        >\r\n          <CloseIcon />\r\n        </IconButton>\r\n      ) : null}\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n\r\nconst DialogForm = ({\r\n  open,\r\n  dialog,\r\n  title,\r\n  component,\r\n  handleClose,\r\n}: DialogOption) => {\r\n  const alert = useSelector((state: any) => state.message);\r\n  const theme = useTheme();\r\n  const fullScreen = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n  /*  https://thoughtbot.com/blog/using-redux-with-react-hooks\r\n    const { count, user } = useSelector(state => ({\r\n      count: state.counter.count,\r\n      user: state.user,\r\n    }));\r\n  */\r\n  return (\r\n    <Dialog\r\n      fullScreen={fullScreen}\r\n      open={open}\r\n      aria-labelledby=\"idModal\"\r\n      disableBackdropClick\r\n      disableEscapeKeyDown\r\n    >\r\n      <DialogTitle id=\"idModal\" onClose={handleClose}>\r\n        {title} {dialog?.name}\r\n      </DialogTitle>\r\n      {alert.type && <Alert severity={alert.type}>{alert.text}</Alert>}\r\n      <DialogContent dividers style={{ overflowY: \"visible\" }}>\r\n        {component}\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default DialogForm;\r\n","import { gql, useQuery } from \"@apollo/client\";\r\n\r\nexport const GET_CATEGORYS = gql`\r\n  query getCategorys {\r\n    getCategorys {\r\n      id\r\n      name\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetCategorys = () => {\r\n  const { data, error, loading }: any = useQuery(GET_CATEGORYS);\r\n\r\n  return { data, error, loading };\r\n};\r\n","import { gql, useQuery } from \"@apollo/client\";\r\n\r\nexport const GET_BRANDS = gql`\r\n  query getBrands {\r\n    getBrands {\r\n      id\r\n      name\r\n      category {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetBrands = () => {\r\n  const { data, error, loading } = useQuery(GET_BRANDS);\r\n\r\n  return { data, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Brand } from \"../../interfaces/brand.interface\";\r\nimport { GET_BRANDS } from \"./useGetBrands\";\r\n\r\ninterface UpdateBrandInput {\r\n  variables: {\r\n    brandInput: Brand;\r\n  };\r\n}\r\n\r\nconst UPDATE_BRAND = gql`\r\n  mutation updateBrand($brandInput: UpdateBrandInput!) {\r\n    updateBrand(brandInput: $brandInput) {\r\n      id\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useUpdateBrand = () => {\r\n  const [updateBrand, { error, loading }] = useMutation(UPDATE_BRAND, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_BRANDS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { updateBrand, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Brand } from \"../../interfaces/brand.interface\";\r\nimport { GET_BRANDS } from \"./useGetBrands\";\r\n\r\ninterface CreateBrandInput {\r\n  variables: {\r\n    brandInput: Brand;\r\n  };\r\n}\r\n\r\nconst CREATE_BRAND = gql`\r\n  mutation registerBrand($brandInput: CreateBrandInput!) {\r\n    registerBrand(brandInput: $brandInput) {\r\n      id\r\n      name\r\n      category {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n//https://stackoverflow.com/questions/58431224/how-does-apollo-client-graphql-refetchqueries-works\r\nexport const useCreateBrand = () => {\r\n  const [registerBrand, { error, loading }] = useMutation(CREATE_BRAND, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_BRANDS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { registerBrand, error, loading };\r\n};\r\n","import { Brand } from \"../../interfaces/brand.interface\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\nimport { FormChange, InputChange, SelectChange } from \"../../lib/types\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Progress from \"../progress/progress\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport { useGetCategorys } from \"../../hooks/category/useGetCategorys\";\r\nimport { useUpdateBrand } from \"../../hooks/brand/useUpdateBrand\";\r\nimport { useCreateBrand } from \"../../hooks/brand/useCreateBrand\";\r\nimport { Category } from \"../../interfaces/category.interface\";\r\n\r\ninterface Options {\r\n  handleClose: () => void;\r\n  brand?: Brand;\r\n}\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst BrandForm = ({ handleClose, brand }: Options) => {\r\n  const initialValueCreate: Brand = {\r\n    name: \"\",\r\n    category: \"\",\r\n  };\r\n\r\n  const initialValueUpdate: Brand = {\r\n    id: brand?.id || \"\",\r\n    name: brand?.name || \"\",\r\n    category: brand?.category?.name || \"\",\r\n  };\r\n\r\n  const [brandForm, setBrandForm] = useState<Brand>(\r\n    initialValueUpdate.id ? initialValueUpdate : initialValueCreate\r\n  );\r\n\r\n  const [categorys, setCategorys] = useState<Category[]>([]);\r\n  const { data } = useGetCategorys();\r\n  const dispatch = useDispatch();\r\n  const optionsUpdateBrand = useUpdateBrand();\r\n  const optionsCreateBrand = useCreateBrand();\r\n\r\n  const handleInput = (e: InputChange) => {\r\n    setBrandForm({ ...brandForm, [e.target.name]: e.target.value });\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const handleSelect = (e: SelectChange) => {\r\n    setBrandForm({\r\n      ...brandForm,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n\r\n    if (brandForm.id) {\r\n      try {\r\n        await optionsUpdateBrand.updateBrand({\r\n          variables: {\r\n            brandInput: brandForm,\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"La marca se actualiz correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      try {\r\n        await optionsCreateBrand.registerBrand({\r\n          variables: {\r\n            brandInput: brandForm,\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"La marca ha sido registrada correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setCategorys(data.getCategorys);\r\n    }\r\n  }, [data]);\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12}>\r\n          <FormControl variant=\"outlined\" fullWidth>\r\n            <InputLabel id=\"idCategory\">Categoria</InputLabel>\r\n            <Select\r\n              labelId=\"Categoria\"\r\n              id=\"idCategory\"\r\n              value={brandForm.category}\r\n              onChange={handleSelect}\r\n              label=\"Categoria\"\r\n              name=\"category\"\r\n            >\r\n              {categorys.map((category) => (\r\n                <MenuItem key={category.id} value={category.name}>\r\n                  {category.name}\r\n                </MenuItem>\r\n              ))}\r\n            </Select>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"name\"\r\n            autoComplete=\"off\"\r\n            id=\"idName\"\r\n            label=\"Marca\"\r\n            variant=\"outlined\"\r\n            value={brandForm.name}\r\n          />\r\n        </Grid>\r\n\r\n        <DialogActions style={{ width: \"100%\" }}>\r\n          <Button onClick={() => handleClose()} color=\"primary\">\r\n            Cancelar\r\n          </Button>\r\n          {brandForm.id ? (\r\n            optionsUpdateBrand.loading ? (\r\n              <Progress />\r\n            ) : (\r\n              <Button\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                autoFocus\r\n                variant=\"contained\"\r\n              >\r\n                Actualizar\r\n              </Button>\r\n            )\r\n          ) : optionsCreateBrand.loading ? (\r\n            <Progress />\r\n          ) : (\r\n            <Button type=\"submit\" color=\"primary\" autoFocus variant=\"contained\">\r\n              Registrar\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      </Grid>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default BrandForm;\r\n","import { Brand } from \"../../interfaces/brand.interface\";\r\nimport { useState } from \"react\";\r\n\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport DialogForm from \"../dialog/dialog.component\";\r\nimport { PERMIT_FOUR, PERMIT_TWO } from \"../../const\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport { Dialog } from \"../../interfaces/dialog.interface\";\r\nimport moment from \"moment\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { loadAccess } from \"../acceso/filter-access.component\";\r\nimport BrandForm from \"./brand-form\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst BrandList = ({ brand }: { brand: Brand }) => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Marca\":\r\n        return <BrandForm brand={brand} handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const showOptionsForEdit = () => (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        dialog={brand}\r\n        title={dialog.name}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      <TableCell align=\"right\">\r\n        <Tooltip\r\n          title=\"Editar Marca\"\r\n          onClick={() => setDialog({ name: \"Marca\", active: true })}\r\n        >\r\n          <IconButton aria-label=\"role\" size=\"small\">\r\n            <EditRoundedIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      </TableCell>\r\n    </>\r\n  );\r\n\r\n  const showData = () => (\r\n    <>\r\n      <TableRow>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {brand.category!.name}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {brand.name}\r\n        </TableCell>\r\n        <TableCell>{moment(brand.createdAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n        <TableCell>{moment(brand.updatedAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n        {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n      </TableRow>\r\n    </>\r\n  );\r\n\r\n  return <>{loadAccess(PERMIT_FOUR, auth, page, showData)}</>;\r\n};\r\n\r\nexport default BrandList;\r\n","import { useState, useEffect } from \"react\";\r\nimport { findError } from \"../helpers/control-errors\";\r\nimport { loadAccess } from \"../components/acceso/filter-access.component\";\r\nimport { PERMIT_ONE, PERMIT_TWO } from \"../const\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { setAlert } from \"../store/alert/action\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport DialogForm from \"../components/dialog/dialog.component\";\r\nimport { Dialog } from \"../interfaces/dialog.interface\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\r\nimport { User } from \"../interfaces/user.interface\";\r\n\r\nimport BrandList from \"../components/brand/brand-list\";\r\nimport BrandForm from \"../components/brand/brand-form\";\r\nimport { Brand } from \"../interfaces/brand.interface\";\r\nimport { useGetBrands } from \"../hooks/brand/useGetBrands\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst BrandPage = () => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n\r\n  const { data, loading, error } = useGetBrands();\r\n  const [brands, setBrands] = useState<Brand[]>([]);\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Crear\":\r\n        return <BrandForm handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setBrands(data.getBrands);\r\n    }\r\n  }, [data]);\r\n\r\n  if (loading) {\r\n    return <h1>Cargando...</h1>;\r\n  }\r\n\r\n  if (error) {\r\n    return <h1>{findError(error)}</h1>;\r\n  }\r\n\r\n  const showDialogToCreate = () => (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={`${dialog.name} Marca`}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      <Tooltip title=\"Crear Marca\">\r\n        <IconButton\r\n          aria-label=\"add\"\r\n          size=\"small\"\r\n          onClick={() => setDialog({ name: \"Crear\", active: true })}\r\n        >\r\n          <AddRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showOptionsForEdit = () => (\r\n    <TableCell align=\"right\">Opciones</TableCell>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {loadAccess(PERMIT_ONE, auth, page, showDialogToCreate)}\r\n      <TableContainer component={Paper} style={{ marginTop: 10 }}>\r\n        <Table\r\n          //className={classes.table}\r\n          size=\"small\"\r\n          aria-label=\"a dense table\"\r\n        >\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Categoria</TableCell>\r\n              <TableCell>Marca</TableCell>\r\n              <TableCell>Fecha creada</TableCell>\r\n              <TableCell>Fecha modificada</TableCell>\r\n              {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {brands.map((brand) => (\r\n              <BrandList key={brand.id} brand={brand} />\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BrandPage;\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Category } from \"../../interfaces/category.interface\";\r\nimport { GET_CATEGORYS } from \"./useGetCategorys\";\r\n\r\ninterface CreateCategoryInput {\r\n  variables: {\r\n    categoryInput: Category;\r\n  };\r\n}\r\n\r\nconst CREATE_CATEGORY = gql`\r\n  mutation registerCategory($categoryInput: CreateCategoryInput!) {\r\n    registerCategory(categoryInput: $categoryInput) {\r\n      id\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\n//https://stackoverflow.com/questions/58431224/how-does-apollo-client-graphql-refetchqueries-works\r\nexport const useCreateCategory = () => {\r\n  const [registerCategory, { error, loading }] = useMutation(CREATE_CATEGORY, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_CATEGORYS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { registerCategory, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Category } from \"../../interfaces/category.interface\";\r\nimport { GET_CATEGORYS } from \"./useGetCategorys\";\r\n\r\ninterface UpdateCategoryInput {\r\n  variables: {\r\n    categoryInput: Category;\r\n  };\r\n}\r\n\r\nconst UPDATE_CATEGORY = gql`\r\n  mutation updateCategory($categoryInput: UpdateCategoryInput!) {\r\n    updateCategory(categoryInput: $categoryInput) {\r\n      id\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useUpdateCategory = () => {\r\n  const [updateCategory, { error, loading }] = useMutation(\r\n    UPDATE_CATEGORY\r\n    //   , {\r\n    //   refetchQueries: () => [\r\n    //     {\r\n    //       query: GET_CATEGORYS,\r\n    //     },\r\n    //   ],\r\n    // }\r\n  );\r\n\r\n  return { updateCategory, error, loading };\r\n};\r\n","import { useState } from \"react\";\r\n\r\nimport { Category } from \"../../interfaces/category.interface\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Progress from \"../progress/progress\";\r\nimport { FormChange, InputChange } from \"../../lib/types\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\nimport { useCreateCategory } from \"../../hooks/category/useCreateCategory\";\r\nimport { useUpdateCategory } from \"../../hooks/category/useUpdateCategory\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst CategoryForm = ({ handleClose, category }: any) => {\r\n  const initialValueCreate: Category = {\r\n    name: \"\",\r\n  };\r\n\r\n  const initialValueUpdate: Category = {\r\n    id: category?.id || \"\",\r\n    name: category?.name || \"\",\r\n  };\r\n\r\n  const [categoryForm, setCategoryForm] = useState<Category>(\r\n    initialValueUpdate.id ? initialValueUpdate : initialValueCreate\r\n  );\r\n\r\n  const dispatch = useDispatch();\r\n  const optionsUpdateCategory = useUpdateCategory();\r\n  const optionsCreateCategory = useCreateCategory();\r\n\r\n  const handleInput = (e: InputChange) => {\r\n    setCategoryForm({ ...categoryForm, [e.target.name]: e.target.value });\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n\r\n    if (categoryForm.id) {\r\n      try {\r\n        await optionsUpdateCategory.updateCategory({\r\n          variables: {\r\n            categoryInput: categoryForm,\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"La categoria se actualiz correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      try {\r\n        await optionsCreateCategory.registerCategory({\r\n          variables: {\r\n            categoryInput: categoryForm,\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"La categoria ha sido registrado correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"name\"\r\n            autoComplete=\"off\"\r\n            id=\"idName\"\r\n            label=\"Nombre\"\r\n            variant=\"outlined\"\r\n            value={categoryForm.name}\r\n          />\r\n        </Grid>\r\n\r\n        <DialogActions style={{ width: \"100%\" }}>\r\n          <Button onClick={() => handleClose()} color=\"primary\">\r\n            Cancelar\r\n          </Button>\r\n          {categoryForm.id ? (\r\n            optionsUpdateCategory.loading ? (\r\n              <Progress />\r\n            ) : (\r\n              <Button\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                autoFocus\r\n                variant=\"contained\"\r\n              >\r\n                Actualizar\r\n              </Button>\r\n            )\r\n          ) : optionsCreateCategory.loading ? (\r\n            <Progress />\r\n          ) : (\r\n            <Button type=\"submit\" color=\"primary\" autoFocus variant=\"contained\">\r\n              Registrar\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      </Grid>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default CategoryForm;\r\n","import { useState } from \"react\";\r\nimport { Category } from \"../../interfaces/category.interface\";\r\nimport CategoryForm from \"./category-form\";\r\n\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport DialogForm from \"../dialog/dialog.component\";\r\nimport { PERMIT_FOUR, PERMIT_TWO } from \"../../const\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport { Dialog } from \"../../interfaces/dialog.interface\";\r\nimport moment from \"moment\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { loadAccess } from \"../acceso/filter-access.component\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst CategoryList = ({ category }: { category: Category }) => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Categoria\":\r\n        return <CategoryForm category={category} handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const showOptionsForEdit = () => (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        dialog={category}\r\n        title={dialog.name}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      <TableCell align=\"right\">\r\n        <Tooltip\r\n          title=\"Editar categoria\"\r\n          onClick={() => setDialog({ name: \"Categoria\", active: true })}\r\n        >\r\n          <IconButton aria-label=\"role\" size=\"small\">\r\n            <EditRoundedIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      </TableCell>\r\n    </>\r\n  );\r\n\r\n  const showData = () => (\r\n    <>\r\n      <TableRow>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {category.name}\r\n        </TableCell>\r\n        <TableCell>{moment(category.createdAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n        <TableCell>{moment(category.updatedAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n        {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n      </TableRow>\r\n    </>\r\n  );\r\n\r\n  return <>{loadAccess(PERMIT_FOUR, auth, page, showData)}</>;\r\n};\r\n\r\nexport default CategoryList;\r\n","import { useState, useEffect } from \"react\";\r\nimport { findError } from \"../helpers/control-errors\";\r\nimport { loadAccess } from \"../components/acceso/filter-access.component\";\r\nimport { PERMIT_ONE, PERMIT_TWO } from \"../const\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { setAlert } from \"../store/alert/action\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport DialogForm from \"../components/dialog/dialog.component\";\r\nimport { Dialog } from \"../interfaces/dialog.interface\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\r\nimport { User } from \"../interfaces/user.interface\";\r\n\r\nimport { Category } from \"../interfaces/category.interface\";\r\nimport CategoryForm from \"../components/category/category-form\";\r\nimport CategoryList from \"../components/category/category-list\";\r\nimport { useGetCategorys } from \"../hooks/category/useGetCategorys\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst CategooryPage = () => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n\r\n  const { data, loading, error } = useGetCategorys();\r\n  const [categorys, setCategorys] = useState<Category[]>([]);\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Crear\":\r\n        return <CategoryForm handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setCategorys(data.getCategorys);\r\n    }\r\n  }, [data]);\r\n\r\n  if (loading) {\r\n    return <h1>Cargando...</h1>;\r\n  }\r\n\r\n  if (error) {\r\n    return <h1>{findError(error)}</h1>;\r\n  }\r\n\r\n  const showDialogToCreate = () => (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={`${dialog.name} Categoria`}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      <Tooltip title=\"Crear Categoria\">\r\n        <IconButton\r\n          aria-label=\"add\"\r\n          size=\"small\"\r\n          onClick={() => setDialog({ name: \"Crear\", active: true })}\r\n        >\r\n          <AddRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showOptionsForEdit = () => (\r\n    <TableCell align=\"right\">Opciones</TableCell>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {loadAccess(PERMIT_ONE, auth, page, showDialogToCreate)}\r\n      <TableContainer component={Paper} style={{ marginTop: 10 }}>\r\n        <Table\r\n          //className={classes.table}\r\n          size=\"small\"\r\n          aria-label=\"a dense table\"\r\n        >\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Categoria</TableCell>\r\n              <TableCell>Fecha creada</TableCell>\r\n              <TableCell>Fecha modificada</TableCell>\r\n              {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {categorys.map((category) => (\r\n              <CategoryList key={category.id} category={category} />\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CategooryPage;\r\n","import { createStyles, Theme, makeStyles } from \"@material-ui/core/styles\";\r\nimport { OutlinedInputProps } from \"@material-ui/core/OutlinedInput\";\r\nimport TextField, { TextFieldProps } from \"@material-ui/core/TextField\";\r\n\r\nconst useStylesReddit = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      border: \"1px solid #e2e2e1\",\r\n      overflow: \"hidden\",\r\n      borderRadius: 4,\r\n      backgroundColor: \"#fcfcfb\",\r\n      transition: theme.transitions.create([\"border-color\", \"box-shadow\"]),\r\n      \"&:hover\": {\r\n        backgroundColor: \"#fff\",\r\n      },\r\n      \"&$focused\": {\r\n        backgroundColor: \"#fff\",\r\n        //boxShadow: `${apha(theme.palette.primary.main, 0.25)} 0 0 0 2px`,\r\n        borderColor: theme.palette.primary.main,\r\n      },\r\n    },\r\n    focused: {},\r\n  })\r\n);\r\n\r\nconst RedditTextField = (props: TextFieldProps) => {\r\n  const classes = useStylesReddit();\r\n\r\n  return (\r\n    <TextField\r\n      InputProps={\r\n        { classes, disableUnderline: true } as Partial<OutlinedInputProps>\r\n      }\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport default RedditTextField;\r\n","export const formatMoney = (value: any) =>\r\n  new Intl.NumberFormat(\"de-DE\", {\r\n    style: \"currency\",\r\n    currency: \"PEN\",\r\n  }).format(value);\r\n","import { gql, useQuery } from \"@apollo/client\";\r\n\r\nexport const GET_EGRESS = gql`\r\n  query getEgress {\r\n    getEgress {\r\n      id\r\n      category {\r\n        name\r\n      }\r\n      user {\r\n        name\r\n      }\r\n      detail\r\n      observation\r\n      units\r\n      amount\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetEgress = () => {\r\n  const { data, error, loading }: any = useQuery(GET_EGRESS);\r\n\r\n  return { data, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { GET_EGRESS } from \"./useGetEgress\";\r\n\r\nconst DELETE_EGRESS = gql`\r\n  mutation deleteEgress($id: String!) {\r\n    deleteEgress(id: $id)\r\n  }\r\n`;\r\n\r\nexport const useDeleteEgress = () => {\r\n  const [deleteEgress, { error, loading }] = useMutation(DELETE_EGRESS, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_EGRESS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { deleteEgress, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Category } from \"../../interfaces/category.interface\";\r\nimport { GET_EGRESS } from \"./useGetEgress\";\r\n\r\ninterface UpdateEgressInput {\r\n  variables: {\r\n    egressInput: Category;\r\n  };\r\n}\r\n\r\nconst UPDATE_EGRESS = gql`\r\n  mutation updateEgress($egressInput: UpdateEgressInput!) {\r\n    updateEgress(egressInput: $egressInput) {\r\n      id\r\n      category {\r\n        id\r\n        name\r\n      }\r\n      detail\r\n      observation\r\n      units\r\n      amount\r\n    }\r\n  }\r\n`;\r\n\r\n//https://stackoverflow.com/questions/58431224/how-does-apollo-client-graphql-refetchqueries-works\r\nexport const useUpdateEgress = () => {\r\n  const [updateEgress, { error, loading }] = useMutation(UPDATE_EGRESS, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_EGRESS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { updateEgress, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Category } from \"../../interfaces/category.interface\";\r\nimport { GET_EGRESS } from \"./useGetEgress\";\r\n\r\ninterface CreateEgressInput {\r\n  variables: {\r\n    egressInput: Category;\r\n  };\r\n}\r\n\r\nconst CREATE_EGRESS = gql`\r\n  mutation registerEgress($egressInput: CreateEgressInput!) {\r\n    registerEgress(egressInput: $egressInput) {\r\n      id\r\n      category {\r\n        id\r\n        name\r\n      }\r\n      detail\r\n      observation\r\n      units\r\n      amount\r\n    }\r\n  }\r\n`;\r\n\r\n//https://stackoverflow.com/questions/58431224/how-does-apollo-client-graphql-refetchqueries-works\r\nexport const useCreateEgress = () => {\r\n  const [registerEgress, { error, loading }] = useMutation(CREATE_EGRESS, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_EGRESS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { registerEgress, error, loading };\r\n};\r\n","import { Egress } from \"../../interfaces/egress.interface\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Progress from \"../progress/progress\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport { useState, useCallback, useEffect } from \"react\";\r\nimport { useGetCategorys } from \"../../hooks/category/useGetCategorys\";\r\nimport { FormChange, InputChange } from \"../../lib/types\";\r\nimport { Category } from \"../../interfaces/category.interface\";\r\nimport { useUpdateEgress } from \"../../hooks/egress/useUpdateEgress\";\r\nimport { useCreateEgress } from \"../../hooks/egress/useCreateEgress\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport { AutoCompleteInput } from \"../../interfaces/autocompleteinput.interface\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\n\r\ninterface Options {\r\n  handleClose: () => void;\r\n  egress?: Egress;\r\n}\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialAutoCompleteInput = {\r\n  category: \"\",\r\n};\r\n\r\nconst EgressForm = ({ handleClose, egress }: Options) => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n\r\n  const initialValueCreate: Egress = {\r\n    detail: \"\",\r\n    amount: 0,\r\n    units: 0,\r\n    category: \"\",\r\n    user: auth.name,\r\n  };\r\n\r\n  const initialValueUpdate: Egress = {\r\n    id: egress?.id || \"\",\r\n    detail: egress?.detail || \"\",\r\n    amount: egress?.amount || 0,\r\n    units: egress?.units || 0,\r\n    category: egress?.category?.name || \"\",\r\n    observation: egress?.observation || \"\",\r\n    //user: auth.name\r\n  };\r\n\r\n  const [egressForm, setEgressForm] = useState<Egress>(\r\n    initialValueUpdate.id ? initialValueUpdate : initialValueCreate\r\n  );\r\n  const [valueInput, setValueInput] = useState<AutoCompleteInput>(\r\n    initialAutoCompleteInput\r\n  );\r\n  const [categorys, setCategorys] = useState<Category[]>([]);\r\n  const { data } = useGetCategorys();\r\n  const optionsUpdateEgress = useUpdateEgress();\r\n  const optionsCreateEgress = useCreateEgress();\r\n  const dispatch = useDispatch();\r\n\r\n  const handleInput = (e: InputChange) => {\r\n    setEgressForm({\r\n      ...egressForm,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const dataCategorys = useCallback(() => {\r\n    setCategorys(data?.getCategorys || []);\r\n  }, [data]);\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n\r\n    if (egressForm.id) {\r\n      try {\r\n        await optionsUpdateEgress.updateEgress({\r\n          variables: {\r\n            egressInput: {\r\n              ...egressForm,\r\n              units: Number(egressForm.units),\r\n              amount: Number(egressForm.amount),\r\n            },\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El egreso se actualiz correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      try {\r\n        await optionsCreateEgress.registerEgress({\r\n          variables: {\r\n            egressInput: {\r\n              ...egressForm,\r\n              units: Number(egressForm.units),\r\n              amount: Number(egressForm.amount),\r\n            },\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El egreso ha sido registrado correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    dataCategorys();\r\n  }, [dataCategorys]);\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12}>\r\n          <Autocomplete\r\n            id=\"idCategory\"\r\n            value={egressForm.category}\r\n            onChange={(event, value) => {\r\n              setEgressForm({\r\n                ...egressForm,\r\n                category: value?.name || \"\",\r\n              });\r\n\r\n              dispatch(setAlert(initialAlert));\r\n            }}\r\n            inputValue={\r\n              valueInput.category ? valueInput.category : egressForm.category\r\n            }\r\n            onInputChange={(e, newValue) => {\r\n              setValueInput({ ...valueInput, category: newValue });\r\n            }}\r\n            options={categorys}\r\n            getOptionLabel={(category) => (category.name ? category.name : \"\")}\r\n            getOptionSelected={(option, value) =>\r\n              option.name !== value.name ? false : true\r\n            }\r\n            renderInput={(params) => (\r\n              <TextField\r\n                {...params}\r\n                name=\"category\"\r\n                label=\"Categoria\"\r\n                variant=\"outlined\"\r\n              />\r\n            )}\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={4}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"units\"\r\n            autoComplete=\"off\"\r\n            id=\"idUnits\"\r\n            label=\"Unidades\"\r\n            variant=\"outlined\"\r\n            value={egressForm.units}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"amount\"\r\n            autoComplete=\"off\"\r\n            id=\"idAmount\"\r\n            label=\"Monto\"\r\n            variant=\"outlined\"\r\n            value={egressForm.amount}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">S/</InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <TextField\r\n            fullWidth\r\n            autoComplete=\"off\"\r\n            id=\"idTotal\"\r\n            label=\"Total\"\r\n            variant=\"outlined\"\r\n            value={egressForm.units * egressForm.amount}\r\n            InputProps={{\r\n              readOnly: true,\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">S/</InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"detail\"\r\n            autoComplete=\"off\"\r\n            id=\"idDetail\"\r\n            multiline\r\n            rows={3}\r\n            label=\"Detalle\"\r\n            variant=\"outlined\"\r\n            value={egressForm.detail}\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"observation\"\r\n            autoComplete=\"off\"\r\n            id=\"idObservation\"\r\n            multiline\r\n            rows={5}\r\n            label=\"Observacin\"\r\n            variant=\"outlined\"\r\n            value={egressForm.observation}\r\n          />\r\n        </Grid>\r\n\r\n        <DialogActions style={{ width: \"100%\" }}>\r\n          <Button onClick={() => handleClose()} color=\"primary\">\r\n            Cancelar\r\n          </Button>\r\n          {egressForm.id ? (\r\n            optionsUpdateEgress.loading ? (\r\n              <Progress />\r\n            ) : (\r\n              <Button\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                autoFocus\r\n                variant=\"contained\"\r\n              >\r\n                Actualizar\r\n              </Button>\r\n            )\r\n          ) : optionsCreateEgress.loading ? (\r\n            <Progress />\r\n          ) : (\r\n            <Button type=\"submit\" color=\"primary\" autoFocus variant=\"contained\">\r\n              Registrar\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      </Grid>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default EgressForm;\r\n","import { Egress } from \"../../interfaces/egress.interface\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport moment from \"moment\";\r\nimport { formatMoney } from \"../../lib/currency/money\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport HighlightOffRoundedIcon from \"@material-ui/icons/HighlightOffRounded\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { useState } from \"react\";\r\nimport { useDeleteEgress } from \"../../hooks/egress/useDeleteEgress\";\r\nimport { Dialog } from \"../../interfaces/dialog.interface\";\r\nimport DialogForm from \"../dialog/dialog.component\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\nimport EgressForm from \"./EgressForm\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport { loadAccess } from \"../acceso/filter-access.component\";\r\nimport { PERMIT_FOUR, PERMIT_TREE, PERMIT_TWO } from \"../../const\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst EgressList = ({ egres }: { egres: Egress }) => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const { module, page } = useSelector((state: any) => {\r\n    return state.page.user;\r\n  });\r\n  const dispatch = useDispatch();\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const optionsEgress = useDeleteEgress();\r\n\r\n  const deleteEgress = async (id: string | undefined) => {\r\n    try {\r\n      await optionsEgress.deleteEgress({\r\n        variables: {\r\n          id,\r\n        },\r\n      });\r\n    } catch (e) {\r\n      setDialog({ name: \"error\", active: true });\r\n      dispatch(\r\n        setAlert({\r\n          type: \"error\",\r\n          text: findError(e),\r\n        })\r\n      );\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={dialog.name}\r\n        handleClose={handleClose}\r\n      />;\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Egreso\":\r\n        return <EgressForm egress={egres} handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const showOptionsForEdit = () => (\r\n    <>\r\n      <Tooltip\r\n        title=\"Editar egreso\"\r\n        onClick={() => setDialog({ name: \"Egreso\", active: true })}\r\n      >\r\n        <IconButton aria-label=\"egress\" size=\"small\">\r\n          <EditRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showOptionsForDelete = () => (\r\n    <>\r\n      <Tooltip title=\"Eliminar egreso\" onClick={() => deleteEgress(egres.id)}>\r\n        <IconButton aria-label=\"egress\" size=\"small\">\r\n          <HighlightOffRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showData = () => (\r\n    <>\r\n      <TableRow>\r\n        <TableCell\r\n          component=\"th\"\r\n          scope=\"row\"\r\n          style={{\r\n            wordBreak: \"break-all\",\r\n          }}\r\n        >\r\n          {egres.category.name}\r\n        </TableCell>\r\n        <TableCell\r\n          component=\"th\"\r\n          scope=\"row\"\r\n          style={{ width: \"30%\", wordBreak: \"break-all\" }}\r\n        >\r\n          {egres.detail}\r\n        </TableCell>\r\n        {page === \"RESUMEN-CAJA\" || (\r\n          <>\r\n            <TableCell\r\n              component=\"th\"\r\n              scope=\"row\"\r\n              style={{ width: \"30%\", wordBreak: \"break-all\" }}\r\n            >\r\n              {egres.observation}\r\n            </TableCell>\r\n\r\n            <TableCell>\r\n              {moment(egres.createdAt).format(\"DD/MM/YYYY\")}\r\n            </TableCell>\r\n            <TableCell>\r\n              {moment(egres.updatedAt).format(\"DD/MM/YYYY\")}\r\n            </TableCell>\r\n          </>\r\n        )}\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {egres?.user?.name}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\" align=\"center\">\r\n          {egres.units}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\" align=\"right\">\r\n          {formatMoney(egres.amount)}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\" align=\"right\">\r\n          {formatMoney(egres.units * egres.amount)}\r\n        </TableCell>\r\n        {page === \"RESUMEN-CAJA\" || page === \"CONSULTAR-CAJA\" ? (\r\n          \"\"\r\n        ) : (\r\n          <TableCell component=\"th\" scope=\"row\" align=\"right\">\r\n            <>\r\n              {loadAccess(PERMIT_TWO, auth, module, showOptionsForEdit)}\r\n              {loadAccess(PERMIT_TREE, auth, module, showOptionsForDelete)}\r\n            </>\r\n          </TableCell>\r\n        )}\r\n      </TableRow>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        dialog={egres}\r\n        title={dialog.name}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      {loadAccess(PERMIT_FOUR, auth, module, showData)}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EgressList;\r\n","import { createContext } from \"react\";\r\n\r\ninterface OptionI {\r\n  ingress: number;\r\n}\r\n\r\nconst initialIngress = {\r\n  ingress: 0,\r\n};\r\n\r\ninterface OptionE {\r\n  egress: number;\r\n}\r\n\r\nconst initialEgress = {\r\n  egress: 0,\r\n};\r\n\r\nconst PagoContext = createContext({\r\n  summaryIngress: initialIngress,\r\n  setSummaryIngress: (value: OptionI) => {},\r\n  summaryEgress: initialEgress,\r\n  setSummaryEgress: (value: OptionE) => {},\r\n});\r\n\r\nconst PagoProvider = PagoContext.Provider;\r\nconst PagoConsumer = PagoContext.Consumer;\r\n\r\nexport { PagoProvider, PagoConsumer, PagoContext };\r\n","import Table from \"@material-ui/core/Table\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport { useState, useEffect, useContext, useCallback } from \"react\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { Egress } from \"../interfaces/egress.interface\";\r\nimport EgressList from \"../components/egress/EgressList\";\r\nimport { useGetEgress } from \"../hooks/egress/useGetEgress\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\r\nimport { findError } from \"../helpers/control-errors\";\r\nimport DialogForm from \"../components/dialog/dialog.component\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { Dialog } from \"../interfaces/dialog.interface\";\r\nimport { setAlert } from \"../store/alert/action\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport EgressForm from \"../components/egress/EgressForm\";\r\nimport { loadAccess } from \"../components/acceso/filter-access.component\";\r\nimport { PERMIT_ONE } from \"../const\";\r\nimport { User } from \"../interfaces/user.interface\";\r\nimport { formatMoney } from \"../lib/currency/money\";\r\nimport { PagoContext } from \"../context/caja-context\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\ninterface Option {\r\n  checkMoney?: any;\r\n  resultIngress?: any;\r\n  resultEgress?: any;\r\n}\r\n\r\nconst EgressPage = ({ checkMoney, resultEgress }: Option) => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const { page, module } = useSelector((state: any) => {\r\n    return state.page.user;\r\n  });\r\n  const [egress, setEgress] = useState<Egress[]>([]);\r\n  const { data, loading, error } = useGetEgress();\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n  const { summaryEgress, setSummaryEgress } = useContext(PagoContext);\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const calTotalHoy = (items: Egress[]) => {\r\n    return items\r\n      .map((item) => item.units * item.amount)\r\n      .reduce((sum, i) => sum + i, 0);\r\n  };\r\n\r\n  const totalHoy = calTotalHoy(egress);\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Crear\":\r\n        return <EgressForm handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (checkMoney === undefined) {\r\n      if (data) {\r\n        setEgress(data.getEgress);\r\n      }\r\n    } else {\r\n      setEgress(resultEgress);\r\n    }\r\n    setSummaryEgress({ ...summaryEgress, egress: totalHoy });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [data, setSummaryEgress, totalHoy]);\r\n\r\n  if (loading) {\r\n    return <h1>Cargando...</h1>;\r\n  }\r\n\r\n  if (error) {\r\n    return <h1>{findError(error)}</h1>;\r\n  }\r\n\r\n  const showOptionsToCreate = () => (\r\n    <>\r\n      <Tooltip title=\"Crear Egreso\">\r\n        <IconButton\r\n          aria-label=\"add\"\r\n          size=\"small\"\r\n          onClick={() => setDialog({ name: \"Crear\", active: true })}\r\n        >\r\n          <AddRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={`${dialog.name} Egreso`}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      {page === \"RESUMEN-CAJA\" || page === \"CONSULTAR-CAJA\"\r\n        ? \"\"\r\n        : loadAccess(PERMIT_ONE, auth, module, showOptionsToCreate)}\r\n\r\n      <TableContainer\r\n        component={Paper}\r\n        style={{\r\n          marginTop: page === \"CONSULTAR-CAJA\" ? 20 : 0,\r\n        }}\r\n      >\r\n        <Table size=\"small\" aria-label=\"a dense table\">\r\n          <TableHead>\r\n            <TableRow style={{ background: \"#dc3545\" }}>\r\n              <TableCell\r\n                style={{ color: \"#fff\" }}\r\n                align=\"center\"\r\n                colSpan={page === \"RESUMEN-CAJA\" ? 4 : 7}\r\n              >\r\n                {page === \"CONSULTAR-CAJA\" ? `Egreso Total` : `Ingreso de hoy`}\r\n              </TableCell>\r\n              <TableCell\r\n                style={{ color: \"#fff\" }}\r\n                align=\"center\"\r\n                colSpan={page === \"RESUMEN-CAJA\" ? 2 : 3}\r\n              >\r\n                Costo\r\n              </TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>Categoria</TableCell>\r\n              <TableCell>Detalle</TableCell>\r\n              {page === \"RESUMEN-CAJA\" || (\r\n                <>\r\n                  <TableCell>Observacin</TableCell>\r\n                  <TableCell>Fecha creada</TableCell>\r\n                  <TableCell>Fecha modificada</TableCell>\r\n                </>\r\n              )}\r\n              <TableCell>Usuario</TableCell>\r\n              <TableCell align=\"center\">Unidades</TableCell>\r\n              <TableCell align=\"right\">Monto</TableCell>\r\n              <TableCell align=\"right\">Monto total</TableCell>\r\n              {page === \"RESUMEN-CAJA\" || page === \"CONSULTAR-CAJA\" ? (\r\n                \"\"\r\n              ) : (\r\n                <TableCell>Opciones</TableCell>\r\n              )}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {egress.map((egres) => (\r\n              <EgressList key={egres.id} egres={egres} />\r\n            ))}\r\n\r\n            <TableRow>\r\n              <TableCell\r\n                colSpan={\r\n                  page === \"RESUMEN-CAJA\"\r\n                    ? 4\r\n                    : page === \"CONSULTAR-CAJA\"\r\n                    ? 7\r\n                    : 7\r\n                }\r\n              />\r\n              <TableCell>\r\n                <strong>Total</strong>\r\n              </TableCell>\r\n              <TableCell align=\"right\">\r\n                <strong style={{ color: \"red\" }}>\r\n                  {formatMoney(totalHoy)}\r\n                </strong>\r\n              </TableCell>\r\n              {page === \"RESUMEN-CAJA\" || page === \"CONSULTAR-CAJA\" ? (\r\n                \"\"\r\n              ) : (\r\n                <TableCell colSpan={3} />\r\n              )}\r\n            </TableRow>\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EgressPage;\r\n","import { gql, useQuery } from \"@apollo/client\";\r\n\r\nexport const GET_INGRESS = gql`\r\n  query getIngress {\r\n    getIngress {\r\n      id\r\n      category {\r\n        name\r\n      }\r\n      user {\r\n        name\r\n      }\r\n      detail\r\n      observation\r\n      units\r\n      amount\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetIngress = () => {\r\n  const { data, error, loading }: any = useQuery(GET_INGRESS);\r\n\r\n  return { data, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { GET_INGRESS } from \"./useGetIngress\";\r\n\r\nconst DELETE_INGRESS = gql`\r\n  mutation deleteIngress($id: String!) {\r\n    deleteIngress(id: $id)\r\n  }\r\n`;\r\n\r\nexport const useDeleteIngress = () => {\r\n  const [deleteIngress, { error, loading }] = useMutation(DELETE_INGRESS, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_INGRESS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { deleteIngress, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Category } from \"../../interfaces/category.interface\";\r\nimport { GET_INGRESS } from \"./useGetIngress\";\r\n\r\ninterface UpdateIngressInput {\r\n  variables: {\r\n    ingressInput: Category;\r\n  };\r\n}\r\n\r\nconst UPDATE_INGRESS = gql`\r\n  mutation updateIngress($ingressInput: UpdateIngressInput!) {\r\n    updateIngress(ingressInput: $ingressInput) {\r\n      id\r\n      category {\r\n        id\r\n        name\r\n      }\r\n      detail\r\n      observation\r\n      units\r\n      amount\r\n    }\r\n  }\r\n`;\r\n\r\n//https://stackoverflow.com/questions/58431224/how-does-apollo-client-graphql-refetchqueries-works\r\nexport const useUpdateIngress = () => {\r\n  const [updateIngress, { error, loading }] = useMutation(UPDATE_INGRESS, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_INGRESS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { updateIngress, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Category } from \"../../interfaces/category.interface\";\r\nimport { GET_INGRESS } from \"./useGetIngress\";\r\n\r\ninterface CreateIngressInput {\r\n  variables: {\r\n    ingressInput: Category;\r\n  };\r\n}\r\n\r\nconst CREATE_INGRESS = gql`\r\n  mutation registerIngress($ingressInput: CreateIngressInput!) {\r\n    registerIngress(ingressInput: $ingressInput) {\r\n      id\r\n      category {\r\n        id\r\n        name\r\n      }\r\n      detail\r\n      observation\r\n      units\r\n      amount\r\n    }\r\n  }\r\n`;\r\n\r\n//https://stackoverflow.com/questions/58431224/how-does-apollo-client-graphql-refetchqueries-works\r\nexport const useCreateIngress = () => {\r\n  const [registerIngress, { error, loading }] = useMutation(CREATE_INGRESS, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_INGRESS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { registerIngress, error, loading };\r\n};\r\n","import { Ingress } from \"../../interfaces/ingress.interface\";\r\nimport { FormChange, InputChange } from \"../../lib/types\";\r\nimport { useState, useCallback, useEffect } from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Progress from \"../progress/progress\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport { useUpdateIngress } from \"../../hooks/ingress/useUpdateIngress\";\r\nimport { useCreateIngress } from \"../../hooks/ingress/useCreateIngress\";\r\nimport { useGetCategorys } from \"../../hooks/category/useGetCategorys\";\r\nimport { Category } from \"../../interfaces/category.interface\";\r\nimport { AutoCompleteInput } from \"../../interfaces/autocompleteinput.interface\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\n\r\ninterface Options {\r\n  handleClose: () => void;\r\n  ingres?: Ingress;\r\n}\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialAutoCompleteInput = {\r\n  category: \"\",\r\n};\r\n\r\nconst IngressForm = ({ handleClose, ingres }: Options) => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const initialValueCreate: Ingress = {\r\n    detail: \"\",\r\n    amount: 0,\r\n    units: 0,\r\n    category: \"\",\r\n    user: auth.name,\r\n  };\r\n\r\n  const initialValueUpdate: Ingress = {\r\n    id: ingres?.id || \"\",\r\n    detail: ingres?.detail || \"\",\r\n    amount: ingres?.amount || 0,\r\n    units: ingres?.units || 0,\r\n    category: ingres?.category?.name || \"\",\r\n    observation: ingres?.observation || \"\",\r\n    //user:auth.name\r\n  };\r\n\r\n  const [ingressForm, setIngressForm] = useState<Ingress>(\r\n    initialValueUpdate.id ? initialValueUpdate : initialValueCreate\r\n  );\r\n  const [valueInput, setValueInput] = useState<AutoCompleteInput>(\r\n    initialAutoCompleteInput\r\n  );\r\n  const [categorys, setCategorys] = useState<Category[]>([]);\r\n  const { data } = useGetCategorys();\r\n  const optionsUpdateIngress = useUpdateIngress();\r\n  const optionsCreateIngress = useCreateIngress();\r\n  const dispatch = useDispatch();\r\n\r\n  const handleInput = (e: InputChange) => {\r\n    setIngressForm({\r\n      ...ingressForm,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const dataCategorys = useCallback(() => {\r\n    setCategorys(data?.getCategorys || []);\r\n  }, [data]);\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n\r\n    if (ingressForm.id) {\r\n      try {\r\n        await optionsUpdateIngress.updateIngress({\r\n          variables: {\r\n            ingressInput: {\r\n              ...ingressForm,\r\n              units: Number(ingressForm.units),\r\n              amount: Number(ingressForm.amount),\r\n            },\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El ingreso se actualiz correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      try {\r\n        await optionsCreateIngress.registerIngress({\r\n          variables: {\r\n            ingressInput: {\r\n              ...ingressForm,\r\n              units: Number(ingressForm.units),\r\n              amount: Number(ingressForm.amount),\r\n            },\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El ingreso ha sido registrado correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    dataCategorys();\r\n  }, [dataCategorys]);\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12}>\r\n          <Autocomplete\r\n            id=\"idCategory\"\r\n            value={ingressForm.category}\r\n            onChange={(event, value) => {\r\n              setIngressForm({\r\n                ...ingressForm,\r\n                category: value?.name || \"\",\r\n              });\r\n\r\n              dispatch(setAlert(initialAlert));\r\n            }}\r\n            inputValue={\r\n              valueInput.category ? valueInput.category : ingressForm.category\r\n            }\r\n            onInputChange={(e, newValue) => {\r\n              setValueInput({ ...valueInput, category: newValue });\r\n            }}\r\n            options={categorys}\r\n            getOptionLabel={(category) => (category.name ? category.name : \"\")}\r\n            getOptionSelected={(option, value) =>\r\n              option.name !== value.name ? false : true\r\n            }\r\n            renderInput={(params) => (\r\n              <TextField\r\n                {...params}\r\n                name=\"category\"\r\n                label=\"Categoria\"\r\n                variant=\"outlined\"\r\n              />\r\n            )}\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={4}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"units\"\r\n            autoComplete=\"off\"\r\n            id=\"idUnits\"\r\n            label=\"Unidades\"\r\n            variant=\"outlined\"\r\n            value={ingressForm.units}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"amount\"\r\n            autoComplete=\"off\"\r\n            id=\"idAmount\"\r\n            label=\"Monto\"\r\n            variant=\"outlined\"\r\n            value={ingressForm.amount}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">S/</InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <TextField\r\n            fullWidth\r\n            autoComplete=\"off\"\r\n            id=\"idTotal\"\r\n            label=\"Total\"\r\n            variant=\"outlined\"\r\n            value={ingressForm.units * ingressForm.amount}\r\n            InputProps={{\r\n              readOnly: true,\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">S/</InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"detail\"\r\n            autoComplete=\"off\"\r\n            id=\"idDetail\"\r\n            multiline\r\n            rows={3}\r\n            label=\"Detalle\"\r\n            variant=\"outlined\"\r\n            value={ingressForm.detail}\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"observation\"\r\n            autoComplete=\"off\"\r\n            id=\"idObservation\"\r\n            multiline\r\n            rows={5}\r\n            label=\"Observacin\"\r\n            variant=\"outlined\"\r\n            value={ingressForm.observation}\r\n          />\r\n        </Grid>\r\n\r\n        <DialogActions style={{ width: \"100%\" }}>\r\n          <Button onClick={() => handleClose()} color=\"primary\">\r\n            Cancelar\r\n          </Button>\r\n          {ingressForm.id ? (\r\n            optionsUpdateIngress.loading ? (\r\n              <Progress />\r\n            ) : (\r\n              <Button\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                autoFocus\r\n                variant=\"contained\"\r\n              >\r\n                Actualizar\r\n              </Button>\r\n            )\r\n          ) : optionsCreateIngress.loading ? (\r\n            <Progress />\r\n          ) : (\r\n            <Button type=\"submit\" color=\"primary\" autoFocus variant=\"contained\">\r\n              Registrar\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      </Grid>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default IngressForm;\r\n","import moment from \"moment\";\r\nimport { Ingress } from \"../../interfaces/ingress.interface\";\r\nimport { formatMoney } from \"../../lib/currency/money\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport HighlightOffRoundedIcon from \"@material-ui/icons/HighlightOffRounded\";\r\nimport { Dialog } from \"../../interfaces/dialog.interface\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { useState } from \"react\";\r\nimport { useDeleteIngress } from \"../../hooks/ingress/useDeleteIngress\";\r\nimport DialogForm from \"../dialog/dialog.component\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\nimport IngressForm from \"./IngressForm\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { loadAccess } from \"../acceso/filter-access.component\";\r\nimport { PERMIT_FOUR, PERMIT_TREE, PERMIT_TWO } from \"../../const\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  row: {\r\n    width: 700,\r\n    backgroundColor: \"grey\",\r\n  },\r\n  cell_long: {\r\n    fontSize: \"10px\",\r\n    width: 150,\r\n    minWidth: 1,\r\n    backgroundColor: \"#ee82ee\",\r\n  },\r\n  cell_default: {\r\n    fontSize: \"10px\",\r\n    width: 200,\r\n    minWidth: 1,\r\n    backgroundColor: \"#ee82ee\",\r\n  },\r\n  cell_short: {\r\n    fontSize: \"10px\",\r\n    width: 80,\r\n    backgroundColor: \"yellow\",\r\n  },\r\n}));\r\n\r\nconst IngressList = ({ ingres }: { ingres: Ingress }) => {\r\n  const classes = useStyles();\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const { module, page } = useSelector((state: any) => {\r\n    return state.page.user;\r\n  });\r\n  const dispatch = useDispatch();\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const optionsIngress = useDeleteIngress();\r\n\r\n  const deleteIngress = async (id: string | undefined) => {\r\n    try {\r\n      await optionsIngress.deleteIngress({\r\n        variables: {\r\n          id,\r\n        },\r\n      });\r\n    } catch (e) {\r\n      setDialog({ name: \"error\", active: true });\r\n      dispatch(\r\n        setAlert({\r\n          type: \"error\",\r\n          text: findError(e),\r\n        })\r\n      );\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={dialog.name}\r\n        handleClose={handleClose}\r\n      />;\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Ingreso\":\r\n        return <IngressForm ingres={ingres} handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const showOptionsForEdit = () => (\r\n    <>\r\n      <Tooltip\r\n        title=\"Editar ingreso\"\r\n        onClick={() => setDialog({ name: \"Ingreso\", active: true })}\r\n      >\r\n        <IconButton aria-label=\"egress\" size=\"small\">\r\n          <EditRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showOptionsForDelete = () => (\r\n    <>\r\n      <Tooltip\r\n        title=\"Eliminar ingreso\"\r\n        onClick={() => deleteIngress(ingres.id)}\r\n      >\r\n        <IconButton aria-label=\"egress\" size=\"small\">\r\n          <HighlightOffRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showData = () => (\r\n    <>\r\n      <TableRow>\r\n        <TableCell\r\n          component=\"th\"\r\n          scope=\"row\"\r\n          style={{\r\n            wordBreak: \"break-all\",\r\n          }}\r\n        >\r\n          {ingres.category.name}\r\n        </TableCell>\r\n        <TableCell\r\n          component=\"th\"\r\n          scope=\"row\"\r\n          style={{ width: \"30%\", wordBreak: \"break-all\" }}\r\n        >\r\n          {ingres.detail}\r\n        </TableCell>\r\n        {page === \"RESUMEN-CAJA\" || (\r\n          <>\r\n            <TableCell\r\n              component=\"th\"\r\n              scope=\"row\"\r\n              style={{ width: \"30%\", wordBreak: \"break-all\" }}\r\n            >\r\n              {ingres.observation}\r\n            </TableCell>\r\n\r\n            <TableCell>\r\n              {moment(ingres.createdAt).format(\"DD/MM/YYYY\")}\r\n            </TableCell>\r\n            <TableCell>\r\n              {moment(ingres.updatedAt).format(\"DD/MM/YYYY\")}\r\n            </TableCell>\r\n          </>\r\n        )}\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {ingres?.user?.name}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\" align=\"center\">\r\n          {ingres.units}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\" align=\"right\">\r\n          {formatMoney(ingres.amount)}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\" align=\"right\">\r\n          {formatMoney(ingres.units * ingres.amount)}\r\n        </TableCell>\r\n\r\n        {page === \"RESUMEN-CAJA\" || page === \"CONSULTAR-CAJA\" ? (\r\n          \"\"\r\n        ) : (\r\n          <TableCell component=\"th\" scope=\"row\" align=\"right\">\r\n            <>\r\n              {loadAccess(PERMIT_TWO, auth, module, showOptionsForEdit)}\r\n              {loadAccess(PERMIT_TREE, auth, module, showOptionsForDelete)}\r\n            </>\r\n          </TableCell>\r\n        )}\r\n      </TableRow>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        dialog={ingres}\r\n        title={dialog.name}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      {loadAccess(PERMIT_FOUR, auth, module, showData)}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default IngressList;\r\n","import Table from \"@material-ui/core/Table\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport { useState, useEffect, useContext, useCallback } from \"react\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nimport { Ingress } from \"../interfaces/ingress.interface\";\r\nimport IngressList from \"../components/ingress/IngresList\";\r\nimport { findError } from \"../helpers/control-errors\";\r\nimport { useGetIngress } from \"../hooks/ingress/useGetIngress\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\r\nimport DialogForm from \"../components/dialog/dialog.component\";\r\nimport IngressForm from \"../components/ingress/IngressForm\";\r\nimport { Dialog } from \"../interfaces/dialog.interface\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setAlert } from \"../store/alert/action\";\r\nimport { User } from \"../interfaces/user.interface\";\r\nimport { loadAccess } from \"../components/acceso/filter-access.component\";\r\nimport { PERMIT_ONE } from \"../const\";\r\nimport { formatMoney } from \"../lib/currency/money\";\r\nimport { PagoContext } from \"../context/caja-context\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\ninterface Option {\r\n  checkMoney?: any;\r\n  resultIngress?: any;\r\n  resultEgress?: any;\r\n}\r\n\r\nconst IngressPage = ({ checkMoney, resultIngress }: Option) => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const { module, page } = useSelector((state: any) => {\r\n    return state.page.user;\r\n  });\r\n  const [ingress, setIngress] = useState<Ingress[]>([]);\r\n  const { data, loading, error } = useGetIngress();\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n  const { summaryIngress, setSummaryIngress } = useContext(PagoContext);\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Crear\":\r\n        return <IngressForm handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const calTotalHoy = (items: Ingress[]) => {\r\n    return items\r\n      .map((item) => item.units * item.amount)\r\n      .reduce((sum, i) => sum + i, 0);\r\n  };\r\n\r\n  const totalHoy = calTotalHoy(ingress);\r\n\r\n  useEffect(() => {\r\n    if (checkMoney === undefined) {\r\n      if (data) {\r\n        setIngress(data.getIngress);\r\n      }\r\n    } else {\r\n      setIngress(resultIngress);\r\n    }\r\n\r\n    setSummaryIngress({ ...summaryIngress, ingress: totalHoy });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [data, setSummaryIngress, totalHoy]);\r\n\r\n  if (loading) {\r\n    return <h1>Cargando...</h1>;\r\n  }\r\n\r\n  if (error) {\r\n    return <h1>{findError(error)}</h1>;\r\n  }\r\n\r\n  const showOptionsToCreate = () => (\r\n    <>\r\n      <Tooltip title=\"Crear Ingreso\">\r\n        <IconButton\r\n          aria-label=\"add\"\r\n          size=\"small\"\r\n          onClick={() => setDialog({ name: \"Crear\", active: true })}\r\n        >\r\n          <AddRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={`${dialog.name} Ingreso`}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n\r\n      {page === \"RESUMEN-CAJA\" || page === \"CONSULTAR-CAJA\"\r\n        ? \"\"\r\n        : loadAccess(PERMIT_ONE, auth, module, showOptionsToCreate)}\r\n\r\n      <TableContainer\r\n        component={Paper}\r\n        style={{ marginTop: page === \"CONSULTAR-CAJA\" ? 20 : 0 }}\r\n      >\r\n        <Table size=\"small\" aria-label=\"a dense table\">\r\n          <TableHead>\r\n            <TableRow style={{ background: \"#28a745\" }}>\r\n              <TableCell\r\n                style={{ color: \"#fff\" }}\r\n                align=\"center\"\r\n                colSpan={page === \"RESUMEN-CAJA\" ? 4 : 7}\r\n              >\r\n                {page === \"CONSULTAR-CAJA\" ? `Ingreso Total` : `Ingreso de hoy`}\r\n              </TableCell>\r\n              <TableCell\r\n                style={{ color: \"#fff\" }}\r\n                align=\"center\"\r\n                colSpan={page === \"RESUMEN-CAJA\" ? 2 : 3}\r\n              >\r\n                Costo\r\n              </TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>Categoria</TableCell>\r\n              <TableCell>Detalle</TableCell>\r\n              {page === \"RESUMEN-CAJA\" || (\r\n                <>\r\n                  <TableCell>Observacin</TableCell>\r\n                  <TableCell>Fecha creada</TableCell>\r\n                  <TableCell>Fecha modificada</TableCell>\r\n                </>\r\n              )}\r\n              <TableCell>Usuario</TableCell>\r\n              <TableCell align=\"center\">Unidades</TableCell>\r\n              <TableCell align=\"right\">Monto</TableCell>\r\n              <TableCell align=\"right\">Monto total</TableCell>\r\n              {page === \"RESUMEN-CAJA\" || page === \"CONSULTAR-CAJA\" ? (\r\n                \"\"\r\n              ) : (\r\n                <TableCell>Opciones</TableCell>\r\n              )}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {ingress.map((ingres) => (\r\n              <IngressList key={ingres.id} ingres={ingres} />\r\n            ))}\r\n            <TableRow>\r\n              <TableCell\r\n                colSpan={\r\n                  page === \"RESUMEN-CAJA\"\r\n                    ? 4\r\n                    : page === \"CONSULTAR-CAJA\"\r\n                    ? 7\r\n                    : 7\r\n                }\r\n              />\r\n              <TableCell>\r\n                <strong>Total</strong>\r\n              </TableCell>\r\n              <TableCell align=\"right\">\r\n                <strong style={{ color: \"green\" }}>\r\n                  {formatMoney(totalHoy)}\r\n                </strong>\r\n              </TableCell>\r\n              {page === \"RESUMEN-CAJA\" || page === \"CONSULTAR-CAJA\" ? (\r\n                \"\"\r\n              ) : (\r\n                <TableCell colSpan={3} />\r\n              )}\r\n            </TableRow>\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default IngressPage;\r\n","import EgressPage from \"./egress.page\";\r\nimport IngressPage from \"./ingress.page\";\r\nimport \"./css/summary-box.css\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport { PagoProvider } from \"../context/caja-context\";\r\nimport { useState } from \"react\";\r\nimport { formatMoney } from \"../lib/currency/money\";\r\n\r\ninterface Option {\r\n  checkMoney?: any;\r\n  resultIngress?: any;\r\n  resultEgress?: any;\r\n}\r\n\r\nconst SummaryBoxPage = ({\r\n  checkMoney,\r\n  resultIngress,\r\n  resultEgress,\r\n}: Option) => {\r\n  const [summaryIngress, setSummaryIngress] = useState({\r\n    ingress: 0,\r\n  });\r\n\r\n  const [summaryEgress, setSummaryEgress] = useState({\r\n    egress: 0,\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <PagoProvider\r\n        value={{\r\n          summaryIngress,\r\n          setSummaryIngress,\r\n          summaryEgress,\r\n          setSummaryEgress,\r\n        }}\r\n      >\r\n        <div className=\"content-tables-i-e\">\r\n          <div className=\"card-table\" style={{ marginRight: \"4%\" }}>\r\n            <IngressPage\r\n              checkMoney={checkMoney}\r\n              resultIngress={resultIngress}\r\n              resultEgress={resultEgress}\r\n            />\r\n          </div>\r\n          <div className=\"card-table\">\r\n            <EgressPage\r\n              checkMoney={checkMoney}\r\n              resultIngress={resultIngress}\r\n              resultEgress={resultEgress}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div style={{ marginTop: 20 }}>\r\n          <TableContainer component={Paper}>\r\n            <Table size=\"small\" aria-label=\"a dense table\">\r\n              <TableBody>\r\n                <TableRow>\r\n                  {/* <TableCell colSpan={page === \"RESUMEN-CAJA\" ? 3 : 6} /> */}\r\n                  <TableCell>\r\n                    <strong>Resumen total</strong>\r\n                  </TableCell>\r\n\r\n                  <TableCell align=\"right\">\r\n                    <strong\r\n                      style={\r\n                        summaryIngress.ingress - summaryEgress.egress < 0\r\n                          ? { color: \"red\" }\r\n                          : { color: \"green\" }\r\n                      }\r\n                    >\r\n                      {summaryIngress.ingress - summaryEgress.egress < 0\r\n                        ? formatMoney(\r\n                            summaryIngress.ingress - summaryEgress.egress\r\n                          )\r\n                        : `+${formatMoney(\r\n                            summaryIngress.ingress - summaryEgress.egress\r\n                          )}`}\r\n                    </strong>\r\n                  </TableCell>\r\n                </TableRow>\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n        </div>\r\n      </PagoProvider>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SummaryBoxPage;\r\n","import { gql, useQuery, useLazyQuery } from \"@apollo/client\";\r\n\r\nconst GET_DATE = gql`\r\n  query getEgressByDates($start: String!, $end: String!) {\r\n    getEgressByDates(start: $start, end: $end) {\r\n      id\r\n      detail\r\n      observation\r\n      units\r\n      amount\r\n      createdAt\r\n      updatedAt\r\n      category {\r\n        name\r\n      }\r\n      user {\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetEgressByDate = () => {\r\n  const [getEgressByDates, { error, loading, data }] = useLazyQuery(GET_DATE);\r\n\r\n  return { getEgressByDates, data, error, loading };\r\n};\r\n","import { gql, useQuery, useLazyQuery } from \"@apollo/client\";\r\n\r\nconst GET_DATE = gql`\r\n  query getIngressByDates($start: String!, $end: String!) {\r\n    getIngressByDates(start: $start, end: $end) {\r\n      id\r\n      detail\r\n      observation\r\n      units\r\n      amount\r\n      createdAt\r\n      updatedAt\r\n      category {\r\n        name\r\n      }\r\n      user {\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetIngressByDate = () => {\r\n  const [getIngressByDates, { error, loading, data }] = useLazyQuery(GET_DATE);\r\n\r\n  return { getIngressByDates, data, error, loading };\r\n};\r\n","import Grid from \"@material-ui/core/Grid\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport RedditTextField from \"../components/textfield/reddit\";\r\nimport moment from \"moment\";\r\nimport { InputChange } from \"../lib/types\";\r\nimport { CheckMoney } from \"../interfaces/check-money.interface\";\r\nimport { useState, useEffect } from \"react\";\r\nimport SummaryBoxPage from \"./summary-box.page\";\r\nimport { loadAccess } from \"../components/acceso/filter-access.component\";\r\nimport { PERMIT_FOUR } from \"../const\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { User } from \"../interfaces/user.interface\";\r\nimport { useGetEgressByDate } from \"../hooks/summary-box/useGetEgerssByDates\";\r\nimport { useGetIngressByDate } from \"../hooks/summary-box/useGetIngressByDates\";\r\nimport { Ingress } from \"../interfaces/ingress.interface\";\r\nimport { Egress } from \"../interfaces/egress.interface\";\r\n\r\nconst CheckMoneyPage = () => {\r\n  const now = moment().utc().local().format(\"YYYY-MM-DD\");\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const { module, page } = useSelector((state: any) => {\r\n    return state.page.user;\r\n  });\r\n\r\n  const optionsIngress = useGetIngressByDate();\r\n  const optionsEgress = useGetEgressByDate();\r\n\r\n  const initialState: CheckMoney = {\r\n    dateStart: now,\r\n    dateEnd: now,\r\n  };\r\n\r\n  const [checkMoney, setCheckMoney] = useState<CheckMoney>(initialState);\r\n  const [resultIngress, setResultIngress] = useState<Ingress[]>([]);\r\n  const [resultEgress, setResultEgress] = useState<Egress[]>([]);\r\n\r\n  const handleInput = (e: InputChange) => {\r\n    setCheckMoney({\r\n      ...checkMoney,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const getIngress = async (start: string | Date, end: string | Date) => {\r\n    try {\r\n      await optionsIngress.getIngressByDates({\r\n        variables: {\r\n          start: start,\r\n          end: end,\r\n        },\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const getEgress = async (start: string | Date, end: string | Date) => {\r\n    try {\r\n      await optionsEgress.getEgressByDates({\r\n        variables: {\r\n          start: start,\r\n          end: end,\r\n        },\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (optionsIngress.data) {\r\n      setResultIngress(optionsIngress?.data?.getIngressByDates || []);\r\n    }\r\n    if (optionsEgress.data) {\r\n      setResultEgress(optionsEgress?.data?.getEgressByDates || []);\r\n    }\r\n  }, [optionsIngress.data, optionsEgress.data]);\r\n\r\n  const showData = () => (\r\n    <>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={3}>\r\n          <RedditTextField\r\n            fullWidth\r\n            type=\"date\"\r\n            onChange={handleInput}\r\n            name=\"dateStart\"\r\n            autoComplete=\"off\"\r\n            id=\"idStart\"\r\n            label=\"Desde\"\r\n            variant=\"filled\"\r\n            value={checkMoney.dateStart}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={3}>\r\n          <RedditTextField\r\n            fullWidth\r\n            type=\"date\"\r\n            onChange={handleInput}\r\n            name=\"dateEnd\"\r\n            autoComplete=\"off\"\r\n            id=\"idEnd\"\r\n            label=\"Hasta\"\r\n            variant=\"filled\"\r\n            value={checkMoney.dateEnd}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={3} style={{ display: \"flex\", alignItems: \"center\" }}>\r\n          <Button\r\n            onClick={() =>\r\n              getIngress(checkMoney.dateStart, checkMoney.dateEnd) &&\r\n              getEgress(checkMoney.dateStart, checkMoney.dateEnd)\r\n            }\r\n            variant=\"contained\"\r\n            size=\"large\"\r\n            color=\"primary\"\r\n          >\r\n            Consultar\r\n          </Button>\r\n        </Grid>\r\n        {/* {optionsIngress!.data &&\r\n          alert(optionsIngress!.data.getIngressByDates[0].detail)} */}\r\n      </Grid>\r\n      <SummaryBoxPage\r\n        checkMoney={checkMoney}\r\n        resultIngress={resultIngress}\r\n        resultEgress={resultEgress}\r\n      />\r\n    </>\r\n  );\r\n\r\n  return <>{loadAccess(PERMIT_FOUR, auth, module, showData)}</>;\r\n};\r\n\r\nexport default CheckMoneyPage;\r\n","import { gql, useQuery, useLazyQuery } from \"@apollo/client\";\r\n\r\nconst GET_BRANDS_BY_CATEGORY = gql`\r\n  query getBrandsByCategory($category: String!) {\r\n    getBrandsByCategory(category: $category) {\r\n      id\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetBrandsByCategory = (category: string) => {\r\n  const { error, loading, data } = useQuery(GET_BRANDS_BY_CATEGORY, {\r\n    variables: { category },\r\n  });\r\n\r\n  return { data, error, loading };\r\n};\r\n","import { gql, useQuery } from \"@apollo/client\";\r\n\r\nconst GET_MODELS_BY_BRAND = gql`\r\n  query getModelsByBrand($brand: String!) {\r\n    getModelsByBrand(brand: $brand) {\r\n      id\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetModelsByBrand = (brand: string) => {\r\n  const { error, loading, data } = useQuery(GET_MODELS_BY_BRAND, {\r\n    variables: { brand },\r\n  });\r\n\r\n  return { data, error, loading };\r\n};\r\n","import { gql, useQuery } from \"@apollo/client\";\r\n\r\nconst GET_PRODUCTS_BY_CMM = gql`\r\n  query getProductsByCategoryBrandModel(\r\n    $category: String!\r\n    $brand: String!\r\n    $model: String!\r\n  ) {\r\n    getProductsByCategoryBrandModel(\r\n      category: $category\r\n      brand: $brand\r\n      model: $model\r\n    ) {\r\n      id\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetProductsCMM = (\r\n  category: string,\r\n  brand: string,\r\n  model: string\r\n) => {\r\n  const { error, loading, data } = useQuery(GET_PRODUCTS_BY_CMM, {\r\n    variables: {\r\n      category: category,\r\n      brand: brand,\r\n      model: model,\r\n    },\r\n  });\r\n\r\n  return { data, error, loading };\r\n};\r\n","import { gql, useQuery, useLazyQuery } from \"@apollo/client\";\r\n\r\nconst GET_PRODUCTS_BY_NAME = gql`\r\n  query getProductByName($product: String!) {\r\n    getProductByName(product: $product) {\r\n      id\r\n      name\r\n      description\r\n      price\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetProductByName = () => {\r\n  const [getProductByName, { error, loading, data }] =\r\n    useLazyQuery(GET_PRODUCTS_BY_NAME);\r\n\r\n  return { getProductByName, data, error, loading };\r\n};\r\n","import { gql, useQuery, useLazyQuery } from \"@apollo/client\";\r\n\r\nconst GET_SERVICES_BY_CATEGORY = gql`\r\n  query getServicesByCategory($category: String!) {\r\n    getServicesByCategory(category: $category) {\r\n      id\r\n      name\r\n      description\r\n      price\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetServicesByCategory = (category: string) => {\r\n  const { error, loading, data } = useQuery(GET_SERVICES_BY_CATEGORY, {\r\n    variables: { category },\r\n  });\r\n\r\n  return { data, error, loading };\r\n};\r\n","import { gql, useQuery, useLazyQuery } from \"@apollo/client\";\r\n\r\nconst GET_SERVICE_BY_NAME = gql`\r\n  query getServiceByName($service: String!) {\r\n    getServiceByName(service: $service) {\r\n      id\r\n      name\r\n      description\r\n      price\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetServiceByName = () => {\r\n  const [getServiceByName, { error, loading, data }] =\r\n    useLazyQuery(GET_SERVICE_BY_NAME);\r\n\r\n  return { getServiceByName, data, error, loading };\r\n};\r\n","/* eslint-disable no-use-before-define */\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport RedditTextField from \"../components/textfield/reddit\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { loadAccess } from \"../components/acceso/filter-access.component\";\r\nimport { PERMIT_FOUR } from \"../const\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { User } from \"../interfaces/user.interface\";\r\nimport { CheckProduct } from \"../interfaces/check-product.interface\";\r\nimport { InputChange } from \"../lib/types\";\r\nimport { useState, useCallback, useEffect } from \"react\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport { AutoCompleteInput } from \"../interfaces/autocompleteinput.interface\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { Model } from \"../interfaces/model.interface\";\r\nimport { useGetCategorys } from \"../hooks/category/useGetCategorys\";\r\nimport { useGetBrandsByCategory } from \"../hooks/brand/useBrandsByCategory\";\r\nimport { useGetModelsByBrand } from \"../hooks/model/useGetModelsByBrand\";\r\nimport { Category } from \"../interfaces/category.interface\";\r\nimport { Brand } from \"../interfaces/brand.interface\";\r\nimport { useGetProductsCMM } from \"../hooks/product/useGetProductByCMM\";\r\nimport { Product } from \"../interfaces/product.interface\";\r\nimport { useGetProductByName } from \"../hooks/product/useProductByName\";\r\nimport Progress from \"../components/progress/progress\";\r\nimport { formatMoney } from \"../lib/currency/money\";\r\nimport Radio from \"@material-ui/core/Radio\";\r\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport { Service } from \"../interfaces/service.interface\";\r\nimport { useGetServicesByCategory } from \"../hooks/service/useGetServicesByCategory\";\r\nimport { useGetServiceByName } from \"../hooks/service/useServiceByName\";\r\n\r\nconst initialAutoCompleteInput = {\r\n  category: \"\",\r\n  brand: \"\",\r\n  model: \"\",\r\n  product: \"\",\r\n  service: \"\",\r\n};\r\n\r\nconst initialState: CheckProduct = {\r\n  category: \"\",\r\n  brand: \"\",\r\n  model: \"\",\r\n  product: \"\",\r\n  service: \"\",\r\n};\r\n\r\nconst intialValue = {\r\n  product: true,\r\n  service: false,\r\n};\r\n\r\nconst CheckProducts = () => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const { module, page } = useSelector((state: any) => {\r\n    return state.page.user;\r\n  });\r\n\r\n  const [checkProduct, setCheckProduct] = useState<CheckProduct>(initialState);\r\n  const [valueInput, setValueInput] = useState<AutoCompleteInput>(\r\n    initialAutoCompleteInput\r\n  );\r\n  const [categorys, setCategorys] = useState<Category[]>([]);\r\n  const [brands, setBrands] = useState<Brand[]>([]);\r\n  const [models, setModels] = useState<Model[]>([]);\r\n  const [products, setProducts] = useState<Product[]>([]);\r\n  const [services, setServices] = useState<Service[]>([]);\r\n  const [isActiveRadio, setActiveRadio] = useState(intialValue);\r\n  const { data } = useGetCategorys();\r\n  const optionsGetBrandsByCategory = useGetBrandsByCategory(\r\n    checkProduct.category || \"\"\r\n  );\r\n  const optionsGetServiceByCategory = useGetServicesByCategory(\r\n    checkProduct.category || \"\"\r\n  );\r\n  const optionsGetModelsByBrand = useGetModelsByBrand(checkProduct.brand || \"\");\r\n  const optionsGetProductsCMM = useGetProductsCMM(\r\n    checkProduct.category || \"\",\r\n    checkProduct.brand || \"\",\r\n    checkProduct.model || \"\"\r\n  );\r\n\r\n  const optionGetProduct = useGetProductByName();\r\n  const optionGetService = useGetServiceByName();\r\n\r\n  const dataCategorys = useCallback(() => {\r\n    setCategorys(data?.getCategorys || []);\r\n  }, [data]);\r\n\r\n  const changeBrandByCategory = useCallback(() => {\r\n    setBrands(optionsGetBrandsByCategory?.data?.getBrandsByCategory || []);\r\n  }, [optionsGetBrandsByCategory]);\r\n\r\n  const changeServiceByCategory = useCallback(() => {\r\n    setServices(optionsGetServiceByCategory?.data?.getServicesByCategory || []);\r\n  }, [optionsGetServiceByCategory]);\r\n\r\n  const changeModelByBrand = useCallback(() => {\r\n    setModels(optionsGetModelsByBrand?.data?.getModelsByBrand || []);\r\n  }, [optionsGetModelsByBrand]);\r\n\r\n  const changeProductCMM = useCallback(() => {\r\n    setProducts(\r\n      optionsGetProductsCMM?.data?.getProductsByCategoryBrandModel || []\r\n    );\r\n  }, [optionsGetProductsCMM]);\r\n\r\n  const getProduct = async (product: string | undefined) => {\r\n    try {\r\n      await optionGetProduct.getProductByName({\r\n        variables: {\r\n          product: product,\r\n        },\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const getService = async (service: string | undefined) => {\r\n    try {\r\n      await optionGetService.getServiceByName({\r\n        variables: {\r\n          service: service,\r\n        },\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  const handleChangeRadio = (e: any) => {\r\n    if (e.target.name === \"product\") {\r\n      setActiveRadio({\r\n        product: isActiveRadio.service,\r\n        service: !isActiveRadio.service,\r\n      });\r\n    } else {\r\n      setActiveRadio({\r\n        product: !isActiveRadio.product,\r\n        service: isActiveRadio.product,\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    dataCategorys();\r\n    changeBrandByCategory();\r\n    changeModelByBrand();\r\n    changeProductCMM();\r\n    changeServiceByCategory();\r\n  }, [\r\n    dataCategorys,\r\n    changeBrandByCategory,\r\n    changeModelByBrand,\r\n    changeProductCMM,\r\n    changeServiceByCategory,\r\n  ]);\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        style={{\r\n          background: \"#fff\",\r\n          borderRadius: 6,\r\n          border: \"1px solid #e2e2e1\",\r\n        }}\r\n      >\r\n        <div style={{ margin: \"20px 20px 0px 20px\" }}>\r\n          <RadioGroup row aria-label=\"position\" onChange={handleChangeRadio}>\r\n            <FormControlLabel\r\n              value=\"product\"\r\n              checked={isActiveRadio.product}\r\n              control={<Radio color=\"primary\" name=\"product\" />}\r\n              label=\"Producto\"\r\n            />\r\n            <FormControlLabel\r\n              value=\"service\"\r\n              checked={isActiveRadio.service}\r\n              control={<Radio color=\"primary\" name=\"service\" />}\r\n              label=\"Servicio\"\r\n            />\r\n          </RadioGroup>\r\n        </div>\r\n\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            padding: 20,\r\n          }}\r\n        >\r\n          <div style={{ width: \"50%\" }}>\r\n            <Grid\r\n              container\r\n              spacing={3}\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n              }}\r\n            >\r\n              <Grid item xs={12}>\r\n                <Autocomplete\r\n                  id=\"idCategory\"\r\n                  onChange={(event, value) => {\r\n                    setCheckProduct({\r\n                      ...checkProduct,\r\n                      category: value?.name || \"\",\r\n                      brand: \"\",\r\n                      model: \"\",\r\n                      product: \"\",\r\n                    });\r\n                    setValueInput({\r\n                      ...valueInput,\r\n                      brand: \"\",\r\n                      model: \"\",\r\n                    });\r\n                  }}\r\n                  onInputChange={(e, newValue) => {\r\n                    setValueInput({ ...valueInput, category: newValue });\r\n                  }}\r\n                  options={categorys}\r\n                  getOptionLabel={(category) => category.name}\r\n                  getOptionSelected={(option, value) =>\r\n                    option.name === value.name\r\n                  }\r\n                  renderInput={(params) => (\r\n                    <TextField\r\n                      {...params}\r\n                      name=\"category\"\r\n                      label=\"Categoria\"\r\n                      variant=\"outlined\"\r\n                    />\r\n                  )}\r\n                />\r\n              </Grid>\r\n\r\n              {isActiveRadio.product ? (\r\n                <>\r\n                  <Grid item xs={12}>\r\n                    <Autocomplete\r\n                      id=\"idBrand\"\r\n                      onChange={(event, value) => {\r\n                        setCheckProduct({\r\n                          ...checkProduct,\r\n                          brand: value?.name || \"\",\r\n                          model: \"\",\r\n                          product: \"\",\r\n                        });\r\n                        setValueInput({\r\n                          ...valueInput,\r\n                          model: \"\",\r\n                          product: \"\",\r\n                        });\r\n                      }}\r\n                      onInputChange={(e, newValue) => {\r\n                        setValueInput({ ...valueInput, brand: newValue });\r\n                      }}\r\n                      options={brands}\r\n                      getOptionLabel={(brand) => brand.name}\r\n                      getOptionSelected={(option, value) =>\r\n                        option.name === value.name\r\n                      }\r\n                      renderInput={(params) => (\r\n                        <TextField\r\n                          {...params}\r\n                          name=\"brand\"\r\n                          label=\"Marca\"\r\n                          variant=\"outlined\"\r\n                        />\r\n                      )}\r\n                    />\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12}>\r\n                    <Autocomplete\r\n                      id=\"idModel\"\r\n                      onChange={(event, value) => {\r\n                        setCheckProduct({\r\n                          ...checkProduct,\r\n                          model: value?.name || \"\",\r\n                          product: \"\",\r\n                        });\r\n                        setValueInput({\r\n                          ...valueInput,\r\n                          product: \"\",\r\n                        });\r\n                      }}\r\n                      onInputChange={(e, newValue) => {\r\n                        setValueInput({ ...valueInput, model: newValue });\r\n                      }}\r\n                      options={models}\r\n                      getOptionLabel={(model) => model.name}\r\n                      getOptionSelected={(option, value) =>\r\n                        option.name === value.name\r\n                      }\r\n                      renderInput={(params) => (\r\n                        <TextField\r\n                          {...params}\r\n                          name=\"model\"\r\n                          label=\"Modelo\"\r\n                          variant=\"outlined\"\r\n                        />\r\n                      )}\r\n                    />\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12}>\r\n                    <Autocomplete\r\n                      id=\"idProduct\"\r\n                      onChange={(event, value) => {\r\n                        setCheckProduct({\r\n                          ...checkProduct,\r\n                          product: value?.name || \"\",\r\n                        });\r\n                      }}\r\n                      onInputChange={(e, newValue) => {\r\n                        setValueInput({ ...valueInput, product: newValue });\r\n                      }}\r\n                      options={products}\r\n                      getOptionLabel={(product) => product.name}\r\n                      getOptionSelected={(option, value) =>\r\n                        option.name === value.name\r\n                      }\r\n                      renderInput={(params) => (\r\n                        <TextField\r\n                          {...params}\r\n                          name=\"product\"\r\n                          label=\"Productos\"\r\n                          variant=\"outlined\"\r\n                        />\r\n                      )}\r\n                    />\r\n                  </Grid>\r\n                </>\r\n              ) : (\r\n                <Grid item xs={12}>\r\n                  <Autocomplete\r\n                    id=\"idService\"\r\n                    onChange={(event, value) => {\r\n                      setCheckProduct({\r\n                        ...checkProduct,\r\n                        service: value?.name || \"\",\r\n                      });\r\n                    }}\r\n                    onInputChange={(e, newValue) => {\r\n                      setValueInput({ ...valueInput, service: newValue });\r\n                    }}\r\n                    options={services}\r\n                    getOptionLabel={(service) => service.name}\r\n                    getOptionSelected={(option, value) =>\r\n                      option.name === value.name\r\n                    }\r\n                    renderInput={(params) => (\r\n                      <TextField\r\n                        {...params}\r\n                        name=\"service\"\r\n                        label=\"Servicios\"\r\n                        variant=\"outlined\"\r\n                      />\r\n                    )}\r\n                  />\r\n                </Grid>\r\n              )}\r\n              {isActiveRadio.product ? (\r\n                <Grid item xs={12}>\r\n                  {optionGetProduct.loading ? (\r\n                    <Progress />\r\n                  ) : (\r\n                    <Button\r\n                      fullWidth\r\n                      type=\"button\"\r\n                      onClick={() => getProduct(valueInput.product)}\r\n                      color=\"primary\"\r\n                      variant=\"contained\"\r\n                    >\r\n                      Consultar\r\n                    </Button>\r\n                  )}\r\n                </Grid>\r\n              ) : (\r\n                <Grid item xs={12}>\r\n                  {optionGetService.loading ? (\r\n                    <Progress />\r\n                  ) : (\r\n                    <Button\r\n                      fullWidth\r\n                      type=\"button\"\r\n                      onClick={() => getService(valueInput.service)}\r\n                      color=\"primary\"\r\n                      variant=\"contained\"\r\n                    >\r\n                      Consultar\r\n                    </Button>\r\n                  )}\r\n                </Grid>\r\n              )}\r\n            </Grid>\r\n          </div>\r\n          <div\r\n            style={{\r\n              width: \"50%\",\r\n              padding: \"0px 0px 0px 20px\",\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                height: \"80%\",\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n              }}\r\n            >\r\n              <div\r\n                style={{\r\n                  height: \"10%\",\r\n                  display: \"flex\",\r\n                  justifyContent: \"center\",\r\n                  background: optionGetProduct!.data\r\n                    ? \"yellow\"\r\n                    : optionGetService!.data\r\n                    ? \"yellow\"\r\n                    : \"#fff\",\r\n                }}\r\n              >\r\n                <strong>\r\n                  {isActiveRadio.product\r\n                    ? optionGetProduct!.data &&\r\n                      `Descripcin del producto ${\r\n                        optionGetProduct!.data.getProductByName.name\r\n                      }`\r\n                    : optionGetService!.data &&\r\n                      `Descripcin del servicio ${\r\n                        optionGetService!.data.getServiceByName.name\r\n                      }`}\r\n                </strong>\r\n              </div>\r\n              <div\r\n                style={{\r\n                  height: \"90%\",\r\n                  display: \"flex\",\r\n                  justifyContent: \"center\",\r\n                  wordBreak: \"break-all\",\r\n                  fontSize: \"15px\",\r\n                  alignItems: \"center\",\r\n                }}\r\n              >\r\n                {isActiveRadio.product\r\n                  ? optionGetProduct!.data &&\r\n                    optionGetProduct!.data.getProductByName.description\r\n                  : optionGetService!.data &&\r\n                    optionGetService!.data.getServiceByName.description}\r\n              </div>\r\n            </div>\r\n            <div\r\n              style={{\r\n                height: \"20%\",\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n              }}\r\n            >\r\n              <label style={{ fontSize: 75 }}>\r\n                {isActiveRadio.product\r\n                  ? optionGetProduct!.data &&\r\n                    formatMoney(optionGetProduct!.data.getProductByName.price)\r\n                  : optionGetService!.data &&\r\n                    formatMoney(optionGetService!.data.getServiceByName.price)}\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CheckProducts;\r\n","import { gql, useQuery } from \"@apollo/client\";\r\n\r\nexport const GET_MODELS = gql`\r\n  query getModels {\r\n    getModels {\r\n      id\r\n      name\r\n      brand {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetModels = () => {\r\n  const { data, error, loading } = useQuery(GET_MODELS);\r\n\r\n  return { data, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Model } from \"../../interfaces/model.interface\";\r\nimport { GET_MODELS } from \"./useGetModels\";\r\n\r\ninterface UpdateModelInput {\r\n  variables: {\r\n    modelInput: Model;\r\n  };\r\n}\r\n\r\nconst UPDATE_MODEL = gql`\r\n  mutation updateModel($modelInput: UpdateModelInput!) {\r\n    updateModel(modelInput: $modelInput) {\r\n      id\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useUpdateModel = () => {\r\n  const [updateModel, { error, loading }] = useMutation(UPDATE_MODEL, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_MODELS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { updateModel, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Model } from \"../../interfaces/model.interface\";\r\nimport { GET_MODELS } from \"./useGetModels\";\r\n\r\ninterface CreateModelInput {\r\n  variables: {\r\n    modelInput: Model;\r\n  };\r\n}\r\n\r\nconst CREATE_MODEL = gql`\r\n  mutation registerModel($modelInput: CreateModelInput!) {\r\n    registerModel(modelInput: $modelInput) {\r\n      id\r\n      name\r\n      brand {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n//https://stackoverflow.com/questions/58431224/how-does-apollo-client-graphql-refetchqueries-works\r\nexport const useCreateModel = () => {\r\n  const [registerModel, { error, loading }] = useMutation(CREATE_MODEL, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_MODELS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { registerModel, error, loading };\r\n};\r\n","import { useState, useEffect } from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { Model } from \"../../interfaces/model.interface\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\nimport { FormChange, InputChange, SelectChange } from \"../../lib/types\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Progress from \"../progress/progress\";\r\nimport { useUpdateModel } from \"../../hooks/model/useUpdateModel\";\r\nimport { useCreateModel } from \"../../hooks/model/useCreateModel\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport { Brand } from \"../../interfaces/brand.interface\";\r\nimport { useGetBrands } from \"../../hooks/brand/useGetBrands\";\r\n\r\ninterface Options {\r\n  handleClose: () => void;\r\n  model?: Model;\r\n}\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst ModelForm = ({ handleClose, model }: Options) => {\r\n  const initialValueCreate: Model = {\r\n    name: \"\",\r\n    brand: \"\",\r\n  };\r\n\r\n  const initialValueUpdate: Model = {\r\n    id: model?.id || \"\",\r\n    name: model?.name || \"\",\r\n    brand: model?.brand?.name || \"\",\r\n  };\r\n\r\n  const [modelForm, setModelForm] = useState<Model>(\r\n    initialValueUpdate.id ? initialValueUpdate : initialValueCreate\r\n  );\r\n\r\n  const [brands, setBrands] = useState<Brand[]>([]);\r\n  const { data } = useGetBrands();\r\n  const dispatch = useDispatch();\r\n  const optionsUpdateModel = useUpdateModel();\r\n  const optionsCreateModel = useCreateModel();\r\n\r\n  const handleInput = (e: InputChange) => {\r\n    setModelForm({ ...modelForm, [e.target.name]: e.target.value });\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const handleSelect = (e: SelectChange) => {\r\n    setModelForm({\r\n      ...modelForm,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n\r\n    if (modelForm.id) {\r\n      try {\r\n        await optionsUpdateModel.updateModel({\r\n          variables: {\r\n            modelInput: modelForm,\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El modelo se actualiz correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      try {\r\n        await optionsCreateModel.registerModel({\r\n          variables: {\r\n            modelInput: modelForm,\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El modelo ha sido registrado correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setBrands(data.getBrands);\r\n    }\r\n  }, [data]);\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12}>\r\n          <FormControl variant=\"outlined\" fullWidth>\r\n            <InputLabel id=\"idMarca\">Marca</InputLabel>\r\n            <Select\r\n              labelId=\"Marca\"\r\n              id=\"idMarca\"\r\n              value={modelForm.brand}\r\n              onChange={handleSelect}\r\n              label=\"Marca\"\r\n              name=\"brand\"\r\n            >\r\n              {brands.map((brand) => (\r\n                <MenuItem key={brand.id} value={brand.name}>\r\n                  {brand.name}\r\n                </MenuItem>\r\n              ))}\r\n            </Select>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"name\"\r\n            autoComplete=\"off\"\r\n            id=\"idName\"\r\n            label=\"Modelo\"\r\n            variant=\"outlined\"\r\n            value={modelForm.name}\r\n          />\r\n        </Grid>\r\n\r\n        <DialogActions style={{ width: \"100%\" }}>\r\n          <Button onClick={() => handleClose()} color=\"primary\">\r\n            Cancelar\r\n          </Button>\r\n          {modelForm.id ? (\r\n            optionsUpdateModel.loading ? (\r\n              <Progress />\r\n            ) : (\r\n              <Button\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                autoFocus\r\n                variant=\"contained\"\r\n              >\r\n                Actualizar\r\n              </Button>\r\n            )\r\n          ) : optionsCreateModel.loading ? (\r\n            <Progress />\r\n          ) : (\r\n            <Button type=\"submit\" color=\"primary\" autoFocus variant=\"contained\">\r\n              Registrar\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      </Grid>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ModelForm;\r\n","import { Model } from \"../../interfaces/model.interface\";\r\n\r\nimport { useState } from \"react\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport DialogForm from \"../dialog/dialog.component\";\r\nimport { PERMIT_FOUR, PERMIT_TWO } from \"../../const\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport { Dialog } from \"../../interfaces/dialog.interface\";\r\nimport moment from \"moment\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { loadAccess } from \"../acceso/filter-access.component\";\r\nimport ModelForm from \"./model-form\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst ModelList = ({ model }: { model: Model }) => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Modelo\":\r\n        return <ModelForm model={model} handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const showOptionsForEdit = () => (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        dialog={model}\r\n        title={dialog.name}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      <TableCell align=\"right\">\r\n        <Tooltip\r\n          title=\"Editar Modelo\"\r\n          onClick={() => setDialog({ name: \"Modelo\", active: true })}\r\n        >\r\n          <IconButton aria-label=\"role\" size=\"small\">\r\n            <EditRoundedIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      </TableCell>\r\n    </>\r\n  );\r\n\r\n  const showData = () => (\r\n    <>\r\n      <TableRow>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {model.brand?.name}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {model.name}\r\n        </TableCell>\r\n        <TableCell>{moment(model.createdAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n        <TableCell>{moment(model.updatedAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n        {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n      </TableRow>\r\n    </>\r\n  );\r\n\r\n  return <>{loadAccess(PERMIT_FOUR, auth, page, showData)}</>;\r\n};\r\n\r\nexport default ModelList;\r\n","import { useState, useEffect } from \"react\";\r\nimport { findError } from \"../helpers/control-errors\";\r\nimport { loadAccess } from \"../components/acceso/filter-access.component\";\r\nimport { PERMIT_ONE, PERMIT_TWO } from \"../const\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { setAlert } from \"../store/alert/action\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport DialogForm from \"../components/dialog/dialog.component\";\r\nimport { Dialog } from \"../interfaces/dialog.interface\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\r\nimport { User } from \"../interfaces/user.interface\";\r\n\r\nimport ModelList from \"../components/model/model-list\";\r\nimport { Model } from \"../interfaces/model.interface\";\r\nimport ModelForm from \"../components/model/model-form\";\r\nimport { useGetModels } from \"../hooks/model/useGetModels\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst ModelPage = () => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n\r\n  const { data, loading, error } = useGetModels();\r\n  const [models, setModels] = useState<Model[]>([]);\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Crear\":\r\n        return <ModelForm handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setModels(data.getModels);\r\n    }\r\n  }, [data]);\r\n\r\n  if (loading) {\r\n    return <h1>Cargando...</h1>;\r\n  }\r\n\r\n  if (error) {\r\n    return <h1>{findError(error)}</h1>;\r\n  }\r\n\r\n  const showDialogToCreate = () => (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={`${dialog.name} Modelo`}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      <Tooltip title=\"Crear Modelo\">\r\n        <IconButton\r\n          aria-label=\"add\"\r\n          size=\"small\"\r\n          onClick={() => setDialog({ name: \"Crear\", active: true })}\r\n        >\r\n          <AddRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showOptionsForEdit = () => (\r\n    <TableCell align=\"right\">Opciones</TableCell>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {loadAccess(PERMIT_ONE, auth, page, showDialogToCreate)}\r\n      <TableContainer component={Paper} style={{ marginTop: 10 }}>\r\n        <Table\r\n          //className={classes.table}\r\n          size=\"small\"\r\n          aria-label=\"a dense table\"\r\n        >\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Marca</TableCell>\r\n              <TableCell>Modelo</TableCell>\r\n              <TableCell>Fecha creada</TableCell>\r\n              <TableCell>Fecha modificada</TableCell>\r\n              {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {models.map((model) => (\r\n              <ModelList key={model.id} model={model} />\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ModelPage;\r\n","import React from \"react\";\r\nimport { Menu } from \"../../interfaces/menu.interface\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport { MENU_FORBIDDEN } from \"../../const\";\r\n\r\n/**\r\n * @param columns:any\r\n * @returns {columns: Array(1)}\r\n **/\r\n\r\n/**\r\n * @param {columns}:any\r\n * @returns [{}]\r\n **/\r\n\r\nconst ItemModuleMenu = ({ menu }: { menu: Menu }) => {\r\n  return (\r\n    <>\r\n      {menu.name === MENU_FORBIDDEN ? (\r\n        <Chip\r\n          style={{ margin: \"3px\" }}\r\n          size=\"small\"\r\n          label={menu.name}\r\n          color=\"primary\"\r\n        />\r\n      ) : (\r\n        <Chip\r\n          style={{ margin: \"3px\" }}\r\n          size=\"small\"\r\n          label={menu.name}\r\n          onDelete={() => alert(\"keiner\")}\r\n          color=\"primary\"\r\n        />\r\n      )}\r\n      &nbsp;\r\n    </>\r\n  );\r\n};\r\nexport default ItemModuleMenu;\r\n","import React from \"react\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport { Access } from \"../../interfaces/access.interface\";\r\n/**\r\n * @param columns:any\r\n * @returns {columns: Array(1)}\r\n **/\r\n\r\n/**\r\n * @param {columns}:any\r\n * @returns [{}]\r\n **/\r\n\r\nconst ItemModuleAccess = ({ access }: { access: Access }) => {\r\n  return (\r\n    <>\r\n      <Chip\r\n        style={{ margin: \"3px\" }}\r\n        size=\"small\"\r\n        label={access.name}\r\n        onDelete={() => alert(\"keiner\")}\r\n        color=\"primary\"\r\n      />\r\n    </>\r\n  );\r\n};\r\nexport default ItemModuleAccess;\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Module } from \"../../interfaces/module.interface\";\r\nimport { GET_MODULES } from \"./useGetModules\";\r\n\r\ninterface UpdateModuleInput {\r\n  variables: {\r\n    moduleInput: Module;\r\n  };\r\n}\r\n\r\nconst UDATE_MODULE = gql`\r\n  mutation updateModule($moduleInput: UpdateModuleInput!) {\r\n    updateModule(moduleInput: $moduleInput) {\r\n      id\r\n      name\r\n      description\r\n      menus {\r\n        id\r\n        name\r\n      }\r\n      access {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useUpdateModule = () => {\r\n  const [updateModule, { error, loading }] = useMutation(UDATE_MODULE, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_MODULES,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { updateModule, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Module } from \"../../interfaces/module.interface\";\r\nimport { GET_MODULES } from \"./useGetModules\";\r\n\r\ninterface CreateModuleInput {\r\n  variables: {\r\n    moduleInput: Module;\r\n  };\r\n}\r\n\r\nconst CREATE_MODULE = gql`\r\n  mutation registerModule($moduleInput: CreateModuleInput!) {\r\n    registerModule(moduleInput: $moduleInput) {\r\n      id\r\n      name\r\n      description\r\n      createdAt\r\n      updatedAt\r\n      menus {\r\n        id\r\n        name\r\n      }\r\n      access {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n//https://stackoverflow.com/questions/58431224/how-does-apollo-client-graphql-refetchqueries-works\r\nexport const useCreateModule = () => {\r\n  const [registerModule, { error, loading }] = useMutation(CREATE_MODULE, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_MODULES,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { registerModule, error, loading };\r\n};\r\n","import { gql, useQuery } from \"@apollo/client\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\n\r\nconst GET_ACCESS = gql`\r\n  query getAccess {\r\n    getAccess {\r\n      id\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetAllAccess = () => {\r\n  const { data, error, loading }: any = useQuery(GET_ACCESS);\r\n  const dispatch = useDispatch();\r\n\r\n  if (error) {\r\n    dispatch(\r\n      setAlert({\r\n        type: \"error\",\r\n        text: error.message,\r\n      })\r\n    );\r\n  }\r\n  return { data, error, loading };\r\n};\r\n","import { gql, useQuery } from \"@apollo/client\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\n\r\nconst GET_MENUS = gql`\r\n  query getMenus {\r\n    getMenus {\r\n      id\r\n      name\r\n      link\r\n      createdAt\r\n      updatedAt\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetMenus = () => {\r\n  const { data, error, loading }: any = useQuery(GET_MENUS);\r\n  const dispatch = useDispatch();\r\n\r\n  if (error) {\r\n    dispatch(\r\n      setAlert({\r\n        type: \"error\",\r\n        text: error.message,\r\n      })\r\n    );\r\n  }\r\n  return { data, error, loading };\r\n};\r\n","import React, { useState, ChangeEvent, FormEvent, useEffect } from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { Module } from \"../../interfaces/module.interface\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { useUpdateModule } from \"../../hooks/module/useUpdateModule\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { Menu } from \"../../interfaces/menu.interface\";\r\nimport { Access } from \"../../interfaces/access.interface\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Progress from \"../progress/progress\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport {\r\n  createStyles,\r\n  makeStyles,\r\n  useTheme,\r\n  Theme,\r\n} from \"@material-ui/core/styles\";\r\nimport { useCreateModule } from \"../../hooks/module/useCreateModule\";\r\nimport { useGetAllAccess } from \"../../hooks/access/useGetAllAceess\";\r\nimport { useGetMenus } from \"../../hooks/menu/useGetMenus\";\r\nimport { MENU_FORBIDDEN, MODULE_FORBIDDEN } from \"../../const\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\n\r\ntype InputChange = ChangeEvent<HTMLInputElement | HTMLTextAreaElement>;\r\ntype FormChange = FormEvent<HTMLFormElement>;\r\ntype SelectChange = ChangeEvent<{ value: unknown } | any | HTMLSelectElement>;\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    formControl: {\r\n      margin: theme.spacing(1),\r\n      minWidth: 120,\r\n      maxWidth: 300,\r\n    },\r\n    chips: {\r\n      display: \"flex\",\r\n      flexWrap: \"wrap\",\r\n    },\r\n    chip: {\r\n      margin: 2,\r\n    },\r\n    noLabel: {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n  })\r\n);\r\n\r\nconst ITEM_HEIGHT = 48;\r\nconst ITEM_PADDING_TOP = 8;\r\nconst MenuProps = {\r\n  PaperProps: {\r\n    style: {\r\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n      width: 250,\r\n    },\r\n  },\r\n};\r\n\r\nconst ModuleForm = ({\r\n  module,\r\n  handleClose,\r\n}: {\r\n  module?: Module;\r\n  handleClose: () => void;\r\n}) => {\r\n  const initialValueUpdate: Module = {\r\n    id: module?.id || \"\",\r\n    name: module?.name || \"\",\r\n    description: module?.description || \"\",\r\n  };\r\n\r\n  const initialValueCreate: Module = {\r\n    name: \"\",\r\n    description: \"\",\r\n  };\r\n\r\n  const optionsUpdateModule = useUpdateModule();\r\n  const optionsCreateModule = useCreateModule();\r\n  const optionsGetAccess = useGetAllAccess();\r\n  const optionsGetMenus = useGetMenus();\r\n  const [menuSelected, setMenuSelected] = useState<Menu[]>([]);\r\n  const [accessSelected, setAccessSelected] = useState<Access[]>([]);\r\n  const [listMenus, setListMenus] = useState<Menu[]>([]);\r\n  const [listAccess, setListAccess] = useState<Access[]>([]);\r\n  const [moduleForm, setModuleForm] = useState<Module>(\r\n    initialValueUpdate.id ? initialValueUpdate : initialValueCreate\r\n  );\r\n  const dispatch = useDispatch();\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  const handleInput = (e: InputChange) => {\r\n    setModuleForm({ ...moduleForm, [e.target.name]: e.target.value });\r\n    dispatch(\r\n      setAlert({\r\n        type: \"\",\r\n        text: \"\",\r\n      })\r\n    );\r\n  };\r\n\r\n  const handleSelectMenus = (e: SelectChange) => {\r\n    setMenuSelected(e.target.value);\r\n    dispatch(\r\n      setAlert({\r\n        type: \"\",\r\n        text: \"\",\r\n      })\r\n    );\r\n  };\r\n\r\n  const handleSelectAccess = (e: SelectChange) => {\r\n    setAccessSelected(e.target.value);\r\n    dispatch(\r\n      setAlert({\r\n        type: \"\",\r\n        text: \"\",\r\n      })\r\n    );\r\n  };\r\n\r\n  const sentToAddMenus = menuSelected.map((value) => {\r\n    return { name: value };\r\n  });\r\n\r\n  const sentToAddAccess = accessSelected.map((value) => {\r\n    return { name: value };\r\n  });\r\n\r\n  function getStyles(name: any, personName: Module[], theme: Theme) {\r\n    return {\r\n      fontWeight:\r\n        personName.indexOf(name) === -1\r\n          ? theme.typography.fontWeightRegular\r\n          : theme.typography.fontWeightMedium,\r\n    };\r\n  }\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n    if (moduleForm.id) {\r\n      try {\r\n        await optionsUpdateModule.updateModule({\r\n          variables: {\r\n            moduleInput: moduleForm,\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El modulo se actualiz correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      try {\r\n        await optionsCreateModule.registerModule({\r\n          variables: {\r\n            moduleInput: {\r\n              ...moduleForm,\r\n              access: sentToAddAccess,\r\n              menus: sentToAddMenus,\r\n            },\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El modulo se registr correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (optionsGetMenus.data && optionsGetAccess.data) {\r\n      const listMenusNoModulos = optionsGetMenus.data.getMenus.filter(\r\n        (menu: any) => menu.name !== MENU_FORBIDDEN\r\n      );\r\n      setListMenus(listMenusNoModulos);\r\n      setListAccess(optionsGetAccess.data.getAccess);\r\n    }\r\n  }, [optionsGetMenus.data, optionsGetAccess.data, moduleForm.name]);\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={onSubmit}>\r\n        <Grid container spacing={3}>\r\n          {moduleForm.id && moduleForm.name === MODULE_FORBIDDEN ? (\r\n            \"\"\r\n          ) : (\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                fullWidth\r\n                onChange={handleInput}\r\n                name=\"name\"\r\n                id=\"idName\"\r\n                label=\"Modulo\"\r\n                variant=\"outlined\"\r\n                value={moduleForm.name}\r\n              />\r\n            </Grid>\r\n          )}\r\n\r\n          <Grid item xs={12}>\r\n            <TextField\r\n              fullWidth\r\n              onChange={handleInput}\r\n              name=\"description\"\r\n              id=\"idDescription\"\r\n              label=\"Descripcin\"\r\n              multiline\r\n              value={moduleForm.description}\r\n              variant=\"outlined\"\r\n            />\r\n          </Grid>\r\n          {!initialValueUpdate.id && (\r\n            <>\r\n              <Grid item xs={12}>\r\n                <FormControl variant=\"outlined\" fullWidth>\r\n                  <InputLabel id=\"menus-mutiple-chip-label\">Menus</InputLabel>\r\n                  <Select\r\n                    labelId=\"menus-mutiple-chip-label\"\r\n                    id=\"menus-mutiple-chip\"\r\n                    multiple\r\n                    value={menuSelected}\r\n                    onChange={handleSelectMenus}\r\n                    input={<Input id=\"select-multiple-chip\" />}\r\n                    renderValue={(selected) => (\r\n                      <div className={classes.chips}>\r\n                        {(selected as any[]).map((menu) => {\r\n                          return (\r\n                            <Chip\r\n                              key={menu}\r\n                              label={menu}\r\n                              className={menu.chip}\r\n                            />\r\n                          );\r\n                        })}\r\n                      </div>\r\n                    )}\r\n                    MenuProps={MenuProps}\r\n                  >\r\n                    {listMenus.map((menu) => (\r\n                      <MenuItem\r\n                        key={menu.id}\r\n                        value={menu.name}\r\n                        style={getStyles(\r\n                          menu.name,\r\n                          moduleForm.menus || [],\r\n                          theme\r\n                        )}\r\n                      >\r\n                        {menu.name}\r\n                      </MenuItem>\r\n                    ))}\r\n                  </Select>\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <FormControl variant=\"outlined\" fullWidth>\r\n                  <InputLabel id=\"access-mutiple-chip-label\">\r\n                    Accesos\r\n                  </InputLabel>\r\n                  <Select\r\n                    labelId=\"access-mutiple-chip-label\"\r\n                    id=\"access-mutiple-chip\"\r\n                    multiple\r\n                    value={accessSelected}\r\n                    onChange={handleSelectAccess}\r\n                    input={<Input id=\"select-multiple-chip\" />}\r\n                    renderValue={(selected) => (\r\n                      <div className={classes.chips}>\r\n                        {(selected as any[]).map((access) => {\r\n                          return (\r\n                            <Chip\r\n                              key={access}\r\n                              label={access}\r\n                              className={access.chip}\r\n                            />\r\n                          );\r\n                        })}\r\n                      </div>\r\n                    )}\r\n                    MenuProps={MenuProps}\r\n                  >\r\n                    {listAccess.map((access) => (\r\n                      <MenuItem\r\n                        key={access.id}\r\n                        value={access.name}\r\n                        style={getStyles(\r\n                          access.name,\r\n                          moduleForm.access || [],\r\n                          theme\r\n                        )}\r\n                      >\r\n                        {access.name}\r\n                      </MenuItem>\r\n                    ))}\r\n                  </Select>\r\n                </FormControl>\r\n              </Grid>\r\n            </>\r\n          )}\r\n\r\n          <DialogActions style={{ width: \"100%\" }}>\r\n            <Button onClick={() => handleClose()} color=\"primary\">\r\n              Cancelar\r\n            </Button>\r\n            {moduleForm.id ? (\r\n              optionsUpdateModule.loading ? (\r\n                <Progress />\r\n              ) : (\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  autoFocus\r\n                  variant=\"contained\"\r\n                >\r\n                  Actualizar\r\n                </Button>\r\n              )\r\n            ) : optionsCreateModule.loading ? (\r\n              <Progress />\r\n            ) : (\r\n              <Button\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                autoFocus\r\n                variant=\"contained\"\r\n              >\r\n                Registrar\r\n              </Button>\r\n            )}\r\n          </DialogActions>\r\n        </Grid>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ModuleForm;\r\n","import React, { useState, FormEvent, useCallback, useEffect } from \"react\";\r\nimport { Access } from \"../../interfaces/access.interface\";\r\nimport { Module } from \"../../interfaces/module.interface\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { useUpdateModule } from \"../../hooks/module/useUpdateModule\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport { useGetAllAccess } from \"../../hooks/access/useGetAllAceess\";\r\nimport TrasnferList from \"../../lib/transfer-list-component\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\n\r\ntype FormChange = FormEvent<HTMLFormElement>;\r\n\r\nconst AccesoForm = ({\r\n  module,\r\n  handleClose,\r\n}: {\r\n  module: Module;\r\n  handleClose: () => void;\r\n}) => {\r\n  const [listAvailable, setListAvailable] = useState<Access[]>([]);\r\n  const [listCurrent, setListCurrent] = useState<Access[]>([]);\r\n  const [checked, setChecked] = useState<Access[]>([]);\r\n  const dispatch = useDispatch();\r\n  const optionsUpdateModule = useUpdateModule();\r\n  const optionsGetAllAccess = useGetAllAccess();\r\n  const alert = useSelector((state: any) => state.message);\r\n  const { type, text } = alert;\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n\r\n    const newData = listCurrent.map((access) => {\r\n      return {\r\n        name: access.name,\r\n      };\r\n    });\r\n\r\n    try {\r\n      await optionsUpdateModule.updateModule({\r\n        variables: {\r\n          moduleInput: {\r\n            id: module.id,\r\n            access: newData,\r\n          },\r\n        },\r\n      });\r\n      return dispatch(\r\n        setAlert({\r\n          type: \"success\",\r\n          text: \"El modulo actualiz sus accesos correctamente.\",\r\n        })\r\n      );\r\n    } catch (e) {\r\n      dispatch(\r\n        setAlert({\r\n          type: \"error\",\r\n          text: findError(e),\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  const loadAccessAvailable = useCallback(() => {\r\n    const res = optionsGetAllAccess.data.getAccess.filter(\r\n      (dispo: Access) =>\r\n        !module.access?.some((actual) => dispo.name === actual.name)\r\n    );\r\n\r\n    setListAvailable(res);\r\n  }, [module, optionsGetAllAccess.data]);\r\n\r\n  useEffect(() => {\r\n    if (module && optionsGetAllAccess.data) {\r\n      setListCurrent(module.access || []);\r\n      loadAccessAvailable();\r\n    }\r\n  }, [module, optionsGetAllAccess.data, loadAccessAvailable]);\r\n\r\n  if (type === \"error\") {\r\n    return <h1>{text}</h1>;\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12}>\r\n          <TrasnferList\r\n            setListAvailable={setListAvailable}\r\n            setListCurrent={setListCurrent}\r\n            setChecked={setChecked}\r\n            checked={checked}\r\n            listAvailable={listAvailable}\r\n            titleAvailable=\"Accesos disponibles\"\r\n            listCurrent={listCurrent}\r\n            titleCurrent=\"Accesos actuales\"\r\n            loading={optionsGetAllAccess.loading}\r\n          />\r\n        </Grid>\r\n        <DialogActions style={{ width: \"100%\" }}>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Cancelar\r\n          </Button>\r\n\r\n          <Button\r\n            type=\"submit\"\r\n            color=\"primary\"\r\n            autoFocus\r\n            variant=\"contained\"\r\n            disabled={optionsUpdateModule.loading ? true : false}\r\n          >\r\n            {module.id ? \"Actualizar\" : \"Registrar\"}\r\n          </Button>\r\n        </DialogActions>\r\n      </Grid>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default AccesoForm;\r\n","import React, { useState, useEffect, FormEvent, useCallback } from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { Module } from \"../../interfaces/module.interface\";\r\nimport { Menu } from \"../../interfaces/menu.interface\";\r\nimport { useGetMenus } from \"../../hooks/menu/useGetMenus\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport { useUpdateModule } from \"../../hooks/module/useUpdateModule\";\r\nimport { useSelector } from \"react-redux\";\r\nimport TrasnferList from \"../../lib/transfer-list-component\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\nimport { MENU_FORBIDDEN } from \"../../const\";\r\n\r\ntype FormChange = FormEvent<HTMLFormElement>;\r\n\r\nconst MenuForm = ({\r\n  module,\r\n  handleClose,\r\n}: {\r\n  module: Module;\r\n  handleClose: () => void;\r\n}) => {\r\n  const [listAvailable, setListAvailable] = useState<Menu[]>([]);\r\n  const [listCurrent, setListCurrent] = useState<Menu[]>([]);\r\n  const [checked, setChecked] = useState<Menu[]>([]);\r\n  const dispatch = useDispatch();\r\n  const optionsGetMenus = useGetMenus();\r\n  const optionsUpdateModule = useUpdateModule();\r\n  const alert = useSelector((state: any) => state.message);\r\n  const { type, text } = alert;\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n\r\n    const newData = listCurrent.map((menu) => {\r\n      return {\r\n        name: menu.name,\r\n      };\r\n    });\r\n\r\n    try {\r\n      await optionsUpdateModule.updateModule({\r\n        variables: {\r\n          moduleInput: {\r\n            id: module.id,\r\n            menus: newData,\r\n          },\r\n        },\r\n      });\r\n      return dispatch(\r\n        setAlert({\r\n          type: \"success\",\r\n          text: \"El modulo actualiz sus menu correctamente.\",\r\n        })\r\n      );\r\n    } catch (e) {\r\n      dispatch(\r\n        setAlert({\r\n          type: \"error\",\r\n          text: findError(e),\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  const loadMenusAvailable = useCallback(() => {\r\n    const res = optionsGetMenus.data.getMenus.filter(\r\n      (dispo: Menu) =>\r\n        !module.menus?.some((actual) => dispo.name === actual.name)\r\n    );\r\n\r\n    const listMenusAvailableNoModulos = res.filter(\r\n      (menu: any) => menu.name !== MENU_FORBIDDEN\r\n    );\r\n\r\n    setListAvailable(listMenusAvailableNoModulos);\r\n  }, [module, optionsGetMenus.data]);\r\n\r\n  useEffect(() => {\r\n    if (module && optionsGetMenus.data) {\r\n      const listMenusCurrentNoModulos = module.menus?.filter(\r\n        (module) => module.name !== MENU_FORBIDDEN\r\n      );\r\n      setListCurrent(listMenusCurrentNoModulos || []);\r\n\r\n      loadMenusAvailable();\r\n    }\r\n  }, [module, optionsGetMenus.data, loadMenusAvailable]);\r\n\r\n  if (type === \"error\") {\r\n    return <h1>{text}</h1>;\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12}>\r\n          <TrasnferList\r\n            setListAvailable={setListAvailable}\r\n            setListCurrent={setListCurrent}\r\n            setChecked={setChecked}\r\n            checked={checked}\r\n            listAvailable={listAvailable}\r\n            titleAvailable=\"Menus disponibles\"\r\n            listCurrent={listCurrent}\r\n            titleCurrent=\"Menus actuales\"\r\n            loading={optionsGetMenus.loading}\r\n          />\r\n        </Grid>\r\n        <DialogActions style={{ width: \"100%\" }}>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Cancelar\r\n          </Button>\r\n\r\n          <Button\r\n            type=\"submit\"\r\n            color=\"primary\"\r\n            autoFocus\r\n            variant=\"contained\"\r\n            disabled={optionsUpdateModule.loading ? true : false}\r\n          >\r\n            {module.id ? \"Actualizar\" : \"Registrar\"}\r\n          </Button>\r\n        </DialogActions>\r\n      </Grid>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default MenuForm;\r\n","import React, { useState } from \"react\";\r\nimport { Module } from \"../../interfaces/module.interface\";\r\nimport ItemModuleMenu from \"./item-module-menu\";\r\nimport ItemModuleAccess from \"./item-module-access\";\r\n//tables\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\n//button\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\n//icon\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuRoundedIcon from \"@material-ui/icons/MenuRounded\";\r\nimport VerifiedUserRoundedIcon from \"@material-ui/icons/VerifiedUserRounded\";\r\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\r\n//dates\r\nimport moment from \"moment\";\r\nimport DialogForm from \"../dialog/dialog.component\";\r\nimport ModuleForm from \"../module/module-form.component\";\r\nimport AccesoForm from \"../acceso/access-form.component\";\r\nimport MenuForm from \"../menu/menu-form.component\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { MODULE_FORBIDDEN } from \"../../const\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\n\r\ninterface Dialog {\r\n  name: string;\r\n  active: boolean;\r\n}\r\n\r\nconst initialValueButton = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst ItemModule = ({ module }: { module: Module }) => {\r\n  const [dialog, setDialog] = useState<Dialog>(initialValueButton);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleClose = () => {\r\n    setDialog({ ...dialog, active: false });\r\n    dispatch(\r\n      setAlert({\r\n        type: \"\",\r\n        text: \"\",\r\n      })\r\n    );\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Modulo\":\r\n        return <ModuleForm module={module} handleClose={handleClose} />;\r\n\r\n      case \"Acceso\":\r\n        return <AccesoForm module={module} handleClose={handleClose} />;\r\n\r\n      case \"Menu\":\r\n        return <MenuForm module={module} handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  //[\"error\",\"info\",\"success\",\"warning\"]\r\n  return (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        dialog={module}\r\n        title={dialog.name}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      <TableRow>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {module.name}\r\n        </TableCell>\r\n        <TableCell>{module.description}</TableCell>\r\n        <TableCell>{moment(module.createdAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n        <TableCell>{moment(module.updatedAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n        <TableCell align=\"center\">\r\n          {module.menus &&\r\n            module.menus.map((menu) => (\r\n              <ItemModuleMenu key={menu.id} menu={menu} />\r\n            ))}\r\n        </TableCell>\r\n        <TableCell align=\"center\">\r\n          {module.name === MODULE_FORBIDDEN ? (\r\n            <Chip\r\n              style={{ margin: \"3px\" }}\r\n              size=\"small\"\r\n              label=\"Todos los permisos\"\r\n              color=\"primary\"\r\n            />\r\n          ) : (\r\n            module.access &&\r\n            module.access.map((access) => (\r\n              <ItemModuleAccess key={access.id} access={access} />\r\n            ))\r\n          )}\r\n        </TableCell>\r\n\r\n        {module.name === MODULE_FORBIDDEN ? (\r\n          <TableCell align=\"center\">\r\n            <Tooltip\r\n              title=\"Asignar menu\"\r\n              onClick={() => setDialog({ name: \"Menu\", active: true })}\r\n            >\r\n              <IconButton aria-label=\"menu\" size=\"small\">\r\n                <MenuRoundedIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n          </TableCell>\r\n        ) : (\r\n          <>\r\n            <TableCell align=\"right\">\r\n              <Tooltip\r\n                title=\"Asignar menu\"\r\n                onClick={() => setDialog({ name: \"Menu\", active: true })}\r\n              >\r\n                <IconButton aria-label=\"menu\" size=\"small\">\r\n                  <MenuRoundedIcon />\r\n                </IconButton>\r\n              </Tooltip>\r\n              <Tooltip\r\n                title=\"Asignar acceso\"\r\n                onClick={() => setDialog({ name: \"Acceso\", active: true })}\r\n              >\r\n                <IconButton aria-label=\"acceso\" size=\"small\">\r\n                  <VerifiedUserRoundedIcon />\r\n                </IconButton>\r\n              </Tooltip>\r\n              <Tooltip\r\n                title=\"Editar modulo\"\r\n                onClick={() => setDialog({ name: \"Modulo\", active: true })}\r\n              >\r\n                <IconButton aria-label=\"acceso\" size=\"small\">\r\n                  <EditRoundedIcon />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </TableCell>\r\n          </>\r\n        )}\r\n      </TableRow>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ItemModule;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useGetModules } from \"../hooks/module/useGetModules\";\r\nimport { Module } from \"../interfaces/module.interface\";\r\n//css library materialui\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n//tables\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n//end tables\r\nimport ItemModule from \"../components/table/item-module.component\";\r\nimport DialogForm from \"../components/dialog/dialog.component\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport ModuleForm from \"../components/module/module-form.component\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../store/alert/action\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { User } from \"../interfaces/user.interface\";\r\nimport { ROLSA } from \"../const\";\r\nimport { findError } from \"../helpers/control-errors\";\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n});\r\n\r\ninterface Dialog {\r\n  name: string;\r\n  active: boolean;\r\n}\r\n\r\nconst initialValueButton = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst ModulePage = () => {\r\n  const [modules, setModules] = useState<Module[]>([]);\r\n  const { data, loading, error } = useGetModules();\r\n  const [dialog, setDialog] = useState<Dialog>(initialValueButton);\r\n  const dispatch = useDispatch();\r\n  const classes = useStyles();\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n\r\n  const handleClose = () => {\r\n    setDialog({ ...dialog, active: false });\r\n    dispatch(\r\n      setAlert({\r\n        type: \"\",\r\n        text: \"\",\r\n      })\r\n    );\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Crear\":\r\n        return <ModuleForm handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setModules(data.getModules);\r\n    }\r\n  }, [data]);\r\n\r\n  if (loading) {\r\n    return <h1>Cargando...</h1>;\r\n  }\r\n\r\n  if (error) {\r\n    return <h1>{findError(error)}</h1>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {auth?.role?.name === ROLSA ? (\r\n        <>\r\n          <DialogForm\r\n            open={dialog.active}\r\n            title={`${dialog.name} Modulo`}\r\n            component={component(dialog.name)}\r\n            handleClose={handleClose}\r\n          />\r\n\r\n          <Tooltip title=\"Crear Rol\">\r\n            <IconButton\r\n              aria-label=\"add\"\r\n              size=\"small\"\r\n              onClick={() => setDialog({ name: \"Crear\", active: true })}\r\n            >\r\n              <AddRoundedIcon />\r\n            </IconButton>\r\n          </Tooltip>\r\n          <TableContainer component={Paper}>\r\n            <Table\r\n              className={classes.table}\r\n              size=\"small\"\r\n              aria-label=\"a dense table\"\r\n            >\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Modulo</TableCell>\r\n                  <TableCell>Descripcin</TableCell>\r\n                  <TableCell>Fecha creada</TableCell>\r\n                  <TableCell>Fecha modificada</TableCell>\r\n                  <TableCell align=\"center\">Menus</TableCell>\r\n                  <TableCell align=\"center\">Permisos</TableCell>\r\n                  <TableCell align=\"right\">Opciones</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {modules.map((module) => (\r\n                  <ItemModule key={module.id} module={module} />\r\n                ))}\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <h1>No tiene permiso para acceder a este recurso.</h1>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ModulePage;\r\n","import { gql, useQuery } from \"@apollo/client\";\r\n\r\nexport const GET_PRODUCTS = gql`\r\n  query getProducts {\r\n    getProducts {\r\n      id\r\n      name\r\n      description\r\n      price\r\n      cant\r\n      createdAt\r\n      updatedAt\r\n      category {\r\n        id\r\n        name\r\n      }\r\n      brand {\r\n        id\r\n        name\r\n      }\r\n      model {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetProducts = () => {\r\n  const { data, error, loading } = useQuery(GET_PRODUCTS);\r\n\r\n  return { data, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Product } from \"../../interfaces/product.interface\";\r\nimport { GET_PRODUCTS } from \"./useGetProducts\";\r\n\r\ninterface UpdateProductInput {\r\n  variables: {\r\n    productInput: Product;\r\n  };\r\n}\r\n\r\nconst UPDATE_PRODUCT = gql`\r\n  mutation updateService($productInput: UpdateProductInput!) {\r\n    updateProduct(productInput: $productInput) {\r\n      id\r\n      name\r\n      description\r\n      price\r\n      category {\r\n        id\r\n        name\r\n      }\r\n      brand {\r\n        id\r\n        name\r\n      }\r\n      model {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useUpdateProduct = () => {\r\n  const [updateProduct, { error, loading }] = useMutation(UPDATE_PRODUCT, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_PRODUCTS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { updateProduct, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Product } from \"../../interfaces/product.interface\";\r\nimport { GET_PRODUCTS } from \"./useGetProducts\";\r\n\r\ninterface CreateProductInput {\r\n  variables: {\r\n    productInput: Product;\r\n  };\r\n}\r\n\r\nconst CREATE_PRODUCT = gql`\r\n  mutation registerProduct($productInput: CreateProductInput!) {\r\n    registerProduct(productInput: $productInput) {\r\n      id\r\n      name\r\n      description\r\n      price\r\n      category {\r\n        id\r\n        name\r\n      }\r\n      brand {\r\n        id\r\n        name\r\n      }\r\n      model {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useCreateProduct = () => {\r\n  const [registerProduct, { error, loading }] = useMutation(CREATE_PRODUCT, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_PRODUCTS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { registerProduct, error, loading };\r\n};\r\n","import { Product } from \"../../interfaces/product.interface\";\r\nimport { useState, useEffect, useCallback } from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Progress from \"../progress/progress\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { FormChange, InputChange } from \"../../lib/types\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useGetCategorys } from \"../../hooks/category/useGetCategorys\";\r\nimport { useUpdateProduct } from \"../../hooks/product/useUpdateProduct\";\r\nimport { useCreateProduct } from \"../../hooks/product/useCreateProduct\";\r\nimport { Category } from \"../../interfaces/category.interface\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport { Brand } from \"../../interfaces/brand.interface\";\r\nimport { useGetBrandsByCategory } from \"../../hooks/brand/useBrandsByCategory\";\r\nimport { useGetModelsByBrand } from \"../../hooks/model/useGetModelsByBrand\";\r\nimport { Model } from \"../../interfaces/model.interface\";\r\nimport { AutoCompleteInput } from \"../../interfaces/autocompleteinput.interface\";\r\n\r\ninterface Options {\r\n  handleClose: () => void;\r\n  product?: Product;\r\n}\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialAutoCompleteInput = {\r\n  category: \"\",\r\n  brand: \"\",\r\n  model: \"\",\r\n};\r\n\r\nconst ProductForm = ({ handleClose, product }: Options) => {\r\n  const initialValueCreate: Product = {\r\n    name: \"\",\r\n    price: 0,\r\n    category: \"\",\r\n    brand: \"\",\r\n    model: \"\",\r\n    cant: 0,\r\n  };\r\n\r\n  const initialValueUpdate: Product = {\r\n    id: product?.id || \"\",\r\n    name: product?.name || \"\",\r\n    description: product?.description || \"\",\r\n    price: product?.price || 0,\r\n    cant: product?.cant || 0,\r\n    category: product?.category?.name || \"\",\r\n    brand: product?.brand?.name || \"\",\r\n    model: product?.model?.name || \"\",\r\n  };\r\n\r\n  const [productForm, setProductForm] = useState<Product>(\r\n    initialValueUpdate.id ? initialValueUpdate : initialValueCreate\r\n  );\r\n  const [valueInput, setValueInput] = useState<AutoCompleteInput>(\r\n    initialAutoCompleteInput\r\n  );\r\n  const [brands, setBrands] = useState<Brand[]>([]);\r\n  const [models, setModels] = useState<Model[]>([]);\r\n  const { data } = useGetCategorys();\r\n  const [categorys, setCategorys] = useState<Category[]>([]);\r\n  const dispatch = useDispatch();\r\n  const optionsUpdateProduct = useUpdateProduct();\r\n  const optionsCreateProduct = useCreateProduct();\r\n  const optionsGetBrandsByCategory = useGetBrandsByCategory(\r\n    productForm.category || \"\"\r\n  );\r\n\r\n  const optionsGetModelsByBrand = useGetModelsByBrand(productForm.brand || \"\");\r\n\r\n  const handleInput = (e: InputChange) => {\r\n    setProductForm({\r\n      ...productForm,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  //https://stackoverflow.com/questions/62588055/how-to-get-the-name-of-material-ui-autocomplete-component\r\n\r\n  const dataCategorys = useCallback(() => {\r\n    setCategorys(data.getCategorys);\r\n  }, [data]);\r\n\r\n  const changeBrandByCategory = useCallback(() => {\r\n    setBrands(optionsGetBrandsByCategory?.data?.getBrandsByCategory || []);\r\n  }, [optionsGetBrandsByCategory]);\r\n\r\n  const changeModelByBrand = useCallback(() => {\r\n    setModels(optionsGetModelsByBrand?.data?.getModelsByBrand || []);\r\n  }, [optionsGetModelsByBrand]);\r\n\r\n  const handleKeyUpCategory = (e: any) => {\r\n    if (\r\n      e.target.value.length < productForm.category.length ||\r\n      e.target.value.length === 0\r\n    ) {\r\n      setProductForm({\r\n        ...productForm,\r\n        category: \"\",\r\n        brand: \"\",\r\n        model: \"\",\r\n      });\r\n      setValueInput({\r\n        ...valueInput,\r\n        category: \"\",\r\n        brand: \"\",\r\n        model: \"\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleKeyUpBrand = (e: any) => {\r\n    if (\r\n      e.target.value.length < productForm.brand.length ||\r\n      e.target.value.length === 0\r\n    ) {\r\n      setProductForm({ ...productForm, brand: \"\", model: \"\" });\r\n      setValueInput({\r\n        ...valueInput,\r\n        brand: \"\",\r\n        model: \"\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleKeyUpModel = (e: any) => {\r\n    if (\r\n      e.target.value.length < productForm.model.length ||\r\n      e.target.value.length === 0\r\n    ) {\r\n      setProductForm({ ...productForm, model: \"\" });\r\n      setValueInput({\r\n        ...valueInput,\r\n        model: \"\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n\r\n    if (productForm.id) {\r\n      try {\r\n        await optionsUpdateProduct.updateProduct({\r\n          variables: {\r\n            productInput: {\r\n              ...productForm,\r\n              price: Number(productForm.price),\r\n              cant: Number(productForm.cant),\r\n            },\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El producto se actualiz correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      try {\r\n        await optionsCreateProduct.registerProduct({\r\n          variables: {\r\n            productInput: {\r\n              ...productForm,\r\n              price: Number(productForm.price),\r\n              cant: Number(productForm.cant),\r\n            },\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El producto ha sido registrada correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      dataCategorys();\r\n      changeBrandByCategory();\r\n      changeModelByBrand();\r\n    }\r\n  }, [data, dataCategorys, changeBrandByCategory, changeModelByBrand]);\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12}>\r\n          <Autocomplete\r\n            id=\"idCategory\"\r\n            onChange={(event, value) => {\r\n              setProductForm({\r\n                ...productForm,\r\n                category: value?.name || \"\",\r\n                brand: \"\",\r\n                model: \"\",\r\n              });\r\n              setValueInput({\r\n                ...valueInput,\r\n                brand: \"\",\r\n                model: \"\",\r\n              });\r\n              dispatch(setAlert(initialAlert));\r\n            }}\r\n            onKeyUp={handleKeyUpCategory}\r\n            inputValue={\r\n              valueInput.category ? valueInput.category : productForm.category\r\n            }\r\n            onInputChange={(e, newValue) => {\r\n              setValueInput({ ...valueInput, category: newValue });\r\n            }}\r\n            options={categorys}\r\n            getOptionLabel={(category) => (category.name ? category.name : \"\")}\r\n            getOptionSelected={(option, value) =>\r\n              option.name !== value.name ? false : true\r\n            }\r\n            renderInput={(params) => (\r\n              <TextField\r\n                {...params}\r\n                name=\"category\"\r\n                label=\"Categoria\"\r\n                variant=\"outlined\"\r\n              />\r\n            )}\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={6}>\r\n          <Autocomplete\r\n            id=\"idBrand\"\r\n            onChange={(event, value) => {\r\n              setProductForm({\r\n                ...productForm,\r\n                brand: value?.name || \"\",\r\n                model: \"\",\r\n              });\r\n              setValueInput({\r\n                ...valueInput,\r\n                model: \"\",\r\n              });\r\n              dispatch(setAlert(initialAlert));\r\n            }}\r\n            onKeyUp={handleKeyUpBrand}\r\n            inputValue={valueInput.brand ? valueInput.brand : productForm.brand}\r\n            onInputChange={(e, newValue) => {\r\n              setValueInput({ ...valueInput, brand: newValue });\r\n            }}\r\n            options={brands}\r\n            getOptionLabel={(brand) => (brand.name ? brand.name : \"\")}\r\n            getOptionSelected={(option, value) =>\r\n              option.name !== value.name ? false : true\r\n            }\r\n            renderInput={(params) => (\r\n              <TextField\r\n                {...params}\r\n                name=\"brand\"\r\n                label=\"Marca\"\r\n                variant=\"outlined\"\r\n              />\r\n            )}\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={6}>\r\n          <Autocomplete\r\n            id=\"idModel\"\r\n            onChange={(event, value) => {\r\n              setProductForm({ ...productForm, model: value?.name || \"\" });\r\n              dispatch(setAlert(initialAlert));\r\n            }}\r\n            onKeyUp={handleKeyUpModel}\r\n            inputValue={valueInput.model ? valueInput.model : productForm.model}\r\n            onInputChange={(e, newValue) => {\r\n              setValueInput({ ...valueInput, model: newValue });\r\n            }}\r\n            options={models}\r\n            getOptionLabel={(model) => (model.name ? model.name : \"\")}\r\n            getOptionSelected={(option, value) =>\r\n              option.name !== value.name ? false : true\r\n            }\r\n            renderInput={(params) => (\r\n              <TextField\r\n                name=\"model\"\r\n                {...params}\r\n                label=\"Modelo\"\r\n                variant=\"outlined\"\r\n              />\r\n            )}\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"name\"\r\n            autoComplete=\"off\"\r\n            id=\"idName\"\r\n            label=\"Producto\"\r\n            variant=\"outlined\"\r\n            value={productForm.name}\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            name=\"description\"\r\n            onChange={handleInput}\r\n            id=\"idDescription\"\r\n            label=\"Descripcin\"\r\n            multiline\r\n            rows={6}\r\n            defaultValue={productForm.description}\r\n            variant=\"outlined\"\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"price\"\r\n            autoComplete=\"off\"\r\n            id=\"idPrice\"\r\n            label=\"Precio\"\r\n            variant=\"outlined\"\r\n            value={productForm.price}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">S/</InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"cant\"\r\n            autoComplete=\"off\"\r\n            id=\"idCant\"\r\n            label=\"Cantidad\"\r\n            variant=\"outlined\"\r\n            value={productForm.cant}\r\n          />\r\n        </Grid>\r\n\r\n        <DialogActions style={{ width: \"100%\" }}>\r\n          <Button onClick={() => handleClose()} color=\"primary\">\r\n            Cancelar\r\n          </Button>\r\n          {productForm.id ? (\r\n            optionsUpdateProduct.loading ? (\r\n              <Progress />\r\n            ) : (\r\n              <Button\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                autoFocus\r\n                variant=\"contained\"\r\n              >\r\n                Actualizar\r\n              </Button>\r\n            )\r\n          ) : optionsCreateProduct.loading ? (\r\n            <Progress />\r\n          ) : (\r\n            <Button type=\"submit\" color=\"primary\" autoFocus variant=\"contained\">\r\n              Registrar\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      </Grid>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ProductForm;\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { GET_PRODUCTS } from \"./useGetProducts\";\r\n\r\nconst DELETE_PRODUCT = gql`\r\n  mutation deleteProduct($id: String!) {\r\n    deleteProduct(id: $id)\r\n  }\r\n`;\r\n\r\nexport const useDeleteProduct = () => {\r\n  const [deleteProduct, { error, loading }] = useMutation(DELETE_PRODUCT, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_PRODUCTS,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { deleteProduct, error, loading };\r\n};\r\n","import { Product } from \"../../interfaces/product.interface\";\r\nimport ProductForm from \"./product-form\";\r\nimport { useState } from \"react\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport DialogForm from \"../dialog/dialog.component\";\r\nimport { PERMIT_FOUR, PERMIT_TREE, PERMIT_TWO } from \"../../const\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\r\nimport { Dialog } from \"../../interfaces/dialog.interface\";\r\nimport moment from \"moment\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { loadAccess } from \"../acceso/filter-access.component\";\r\nimport { formatMoney } from \"../../lib/currency/money\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport HighlightOffRoundedIcon from \"@material-ui/icons/HighlightOffRounded\";\r\nimport { useDeleteProduct } from \"../../hooks/product/useDeleteProduct\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst ProductList = ({ product }: { product: Product }) => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n  const optionsProduct = useDeleteProduct();\r\n\r\n  const deleteProduct = async (id: string | undefined) => {\r\n    try {\r\n      await optionsProduct.deleteProduct({\r\n        variables: {\r\n          id,\r\n        },\r\n      });\r\n    } catch (e) {\r\n      setDialog({ name: \"error\", active: true });\r\n      dispatch(\r\n        setAlert({\r\n          type: \"error\",\r\n          text: findError(e),\r\n        })\r\n      );\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={dialog.name}\r\n        handleClose={handleClose}\r\n      />;\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Producto\":\r\n        return <ProductForm product={product} handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const showOptionsForEdit = () => (\r\n    <>\r\n      <Tooltip\r\n        title=\"Editar Producto\"\r\n        onClick={() => setDialog({ name: \"Producto\", active: true })}\r\n      >\r\n        <IconButton aria-label=\"product\" size=\"small\">\r\n          <EditRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showOptionsForDelete = () => (\r\n    <>\r\n      <Tooltip\r\n        title=\"Eliminar egreso\"\r\n        onClick={() => deleteProduct(product.id)}\r\n      >\r\n        <IconButton aria-label=\"egress\" size=\"small\">\r\n          <HighlightOffRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showData = () => (\r\n    <>\r\n      <TableRow>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {product.category!.name}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {product.brand!.name}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {product.model!.name}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {product.name}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {formatMoney(product.price)}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\" align=\"center\">\r\n          {product.cant}\r\n        </TableCell>\r\n        <TableCell>{moment(product.createdAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n        <TableCell>{moment(product.updatedAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n        <TableCell align=\"right\">\r\n          {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n          {loadAccess(PERMIT_TREE, auth, page, showOptionsForDelete)}\r\n        </TableCell>\r\n      </TableRow>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        dialog={product}\r\n        title={dialog.name}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      {loadAccess(PERMIT_FOUR, auth, page, showData)}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductList;\r\n","import { useState, useEffect } from \"react\";\r\nimport { findError } from \"../helpers/control-errors\";\r\nimport { loadAccess } from \"../components/acceso/filter-access.component\";\r\nimport { PERMIT_ONE } from \"../const\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { setAlert } from \"../store/alert/action\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport DialogForm from \"../components/dialog/dialog.component\";\r\nimport { Dialog } from \"../interfaces/dialog.interface\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\r\nimport { User } from \"../interfaces/user.interface\";\r\n\r\nimport { Product } from \"../interfaces/product.interface\";\r\nimport ProductList from \"../components/product/product-list\";\r\nimport ProductForm from \"../components/product/product-form\";\r\nimport { useGetProducts } from \"../hooks/product/useGetProducts\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst ProductPage = () => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n\r\n  const { data, loading, error } = useGetProducts();\r\n  const [products, setProducts] = useState<Product[]>([]);\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Crear\":\r\n        return <ProductForm handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setProducts(data.getProducts);\r\n    }\r\n  }, [data]);\r\n\r\n  if (loading) {\r\n    return <h1>Cargando...</h1>;\r\n  }\r\n\r\n  if (error) {\r\n    return <h1>{findError(error)}</h1>;\r\n  }\r\n\r\n  const showDialogToCreate = () => (\r\n    <>\r\n      <Tooltip title=\"Crear Producto\">\r\n        <IconButton\r\n          aria-label=\"add\"\r\n          size=\"small\"\r\n          onClick={() => setDialog({ name: \"Crear\", active: true })}\r\n        >\r\n          <AddRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={`${dialog.name} Producto`}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      {loadAccess(PERMIT_ONE, auth, page, showDialogToCreate)}\r\n      <TableContainer component={Paper} style={{ marginTop: 10 }}>\r\n        <Table\r\n          //className={classes.table}\r\n          size=\"small\"\r\n          aria-label=\"a dense table\"\r\n        >\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Categoria</TableCell>\r\n              <TableCell>Marca</TableCell>\r\n              <TableCell>Model</TableCell>\r\n              <TableCell>Producto</TableCell>\r\n              <TableCell>Precio</TableCell>\r\n              <TableCell>Cantidad</TableCell>\r\n              <TableCell>Fecha creada</TableCell>\r\n              <TableCell>Fecha modificada</TableCell>\r\n              <TableCell align=\"right\">Opciones</TableCell>{\" \"}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {products.map((product) => (\r\n              <ProductList key={product.id} product={product} />\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductPage;\r\n","import { gql, useQuery } from \"@apollo/client\";\r\n\r\nexport const GET_ROLES = gql`\r\n  query getRoles {\r\n    getRoles {\r\n      id\r\n      name\r\n      description\r\n      createdAt\r\n      updatedAt\r\n      modules {\r\n        id\r\n        name\r\n        description\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetRoles = () => {\r\n  const { data, loading, error } = useQuery(GET_ROLES);\r\n  return { data, loading, error };\r\n};\r\n","import React from \"react\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport { Module } from \"../../interfaces/module.interface\";\r\nimport { MODULE_FORBIDDEN } from \"../../const\";\r\n\r\nconst RoleModuleItem = ({ module }: { module: Module }) => {\r\n  return (\r\n    <>\r\n      {module.name === MODULE_FORBIDDEN ? (\r\n        <Chip\r\n          style={{ margin: \"3px\" }}\r\n          size=\"small\"\r\n          label={module.name}\r\n          color=\"primary\"\r\n        />\r\n      ) : (\r\n        <Chip\r\n          style={{ margin: \"3px\" }}\r\n          size=\"small\"\r\n          label={module.name}\r\n          onDelete={() => alert(\"keiner\")}\r\n          color=\"primary\"\r\n        />\r\n      )}\r\n      &nbsp;\r\n    </>\r\n  );\r\n};\r\nexport default RoleModuleItem;\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Role } from \"../../interfaces/role.interface\";\r\nimport { GET_ROLES } from \"./useGetRoles\";\r\n\r\ninterface RoleInput {\r\n  variables: {\r\n    roleInput: Role;\r\n  };\r\n}\r\n\r\nconst CREATE_ROL = gql`\r\n  mutation registerRole($roleInput: RoleInput!) {\r\n    registerRole(roleInput: $roleInput) {\r\n      id\r\n      name\r\n      description\r\n      modules {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n//https://stackoverflow.com/questions/58431224/how-does-apollo-client-graphql-refetchqueries-works\r\nexport const useCreateRole = () => {\r\n  const [registerRole, { error, loading }] = useMutation(CREATE_ROL, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_ROLES,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { registerRole, error, loading };\r\n};\r\n","import React, { useState, ChangeEvent, FormEvent, useEffect } from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { Role } from \"../../interfaces/role.interface\";\r\nimport { useUpdateRole } from \"../../hooks/role/useUpdateRole\";\r\nimport { useCreateRole } from \"../../hooks/role/useCreateRole\";\r\nimport Progress from \"../progress/progress\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport {\r\n  createStyles,\r\n  makeStyles,\r\n  useTheme,\r\n  Theme,\r\n} from \"@material-ui/core/styles\";\r\nimport { Module } from \"../../interfaces/module.interface\";\r\nimport { useGetModules } from \"../../hooks/module/useGetModules\";\r\nimport { MODULE_FORBIDDEN, ROLSA } from \"../../const\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\n\r\ntype InputChange = ChangeEvent<HTMLInputElement | HTMLTextAreaElement>;\r\ntype FormChange = FormEvent<HTMLFormElement>;\r\ntype SelectChange = ChangeEvent<{ value: unknown } | any | HTMLSelectElement>;\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    formControl: {\r\n      margin: theme.spacing(1),\r\n      minWidth: 120,\r\n      maxWidth: 300,\r\n    },\r\n    chips: {\r\n      display: \"flex\",\r\n      flexWrap: \"wrap\",\r\n    },\r\n    chip: {\r\n      margin: 2,\r\n    },\r\n    noLabel: {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n  })\r\n);\r\n\r\nconst ITEM_HEIGHT = 48;\r\nconst ITEM_PADDING_TOP = 8;\r\nconst MenuProps = {\r\n  PaperProps: {\r\n    style: {\r\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n      width: 250,\r\n    },\r\n  },\r\n};\r\n\r\nconst RoleForm = ({\r\n  role,\r\n  handleClose,\r\n}: {\r\n  role?: Role;\r\n  handleClose: () => void;\r\n}) => {\r\n  const initialValueUpdate: Role = {\r\n    id: role?.id || \"\",\r\n    name: role?.name || \"\",\r\n    description: role?.description || \"\",\r\n  };\r\n\r\n  const initialValueCreate: Role = {\r\n    name: \"\",\r\n    description: \"\",\r\n  };\r\n\r\n  const optionsUpdateRole = useUpdateRole();\r\n  const optionsCreateRole = useCreateRole();\r\n  const optionsGetModules = useGetModules();\r\n  const [roleForm, setRoleForm] = useState<Role>(\r\n    initialValueUpdate.id ? initialValueUpdate : initialValueCreate\r\n  );\r\n  const [modulesSelected, setModulesSelected] = useState<Module[]>([]);\r\n  const [listModules, setListModules] = useState<Module[]>([]);\r\n  const theme = useTheme();\r\n  const dispatch = useDispatch();\r\n  const classes = useStyles();\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n\r\n  const handleInput = (e: InputChange) => {\r\n    setRoleForm({ ...roleForm, [e.target.name]: e.target.value });\r\n    dispatch(\r\n      setAlert({\r\n        type: \"\",\r\n        text: \"\",\r\n      })\r\n    );\r\n  };\r\n\r\n  const handleSelect = (e: SelectChange) => {\r\n    setModulesSelected(e.target.value);\r\n    dispatch(\r\n      setAlert({\r\n        type: \"\",\r\n        text: \"\",\r\n      })\r\n    );\r\n  };\r\n\r\n  const sentToAddModules = modulesSelected.map((value) => {\r\n    return { name: value };\r\n  });\r\n\r\n  function getStyles(name: any, personName: Module[], theme: Theme) {\r\n    return {\r\n      fontWeight:\r\n        personName.indexOf(name) === -1\r\n          ? theme.typography.fontWeightRegular\r\n          : theme.typography.fontWeightMedium,\r\n    };\r\n  }\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n    if (roleForm.id) {\r\n      try {\r\n        await optionsUpdateRole.updateRole({\r\n          variables: {\r\n            roleInput: roleForm,\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El rol se actualiz correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      try {\r\n        await optionsCreateRole.registerRole({\r\n          variables: {\r\n            roleInput: { ...roleForm, modules: sentToAddModules },\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El rol se registr correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (optionsGetModules.data) {\r\n      const listModulesNoModulos = optionsGetModules.data.getModules.filter(\r\n        (menu: any) => menu.name !== MODULE_FORBIDDEN\r\n      );\r\n      setListModules(listModulesNoModulos);\r\n    }\r\n  }, [optionsGetModules.data]);\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={onSubmit}>\r\n        <Grid container spacing={3}>\r\n          {roleForm.id && roleForm.name === ROLSA ? (\r\n            \"\"\r\n          ) : (\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                fullWidth\r\n                onChange={handleInput}\r\n                name=\"name\"\r\n                id=\"idName\"\r\n                label=\"Role\"\r\n                variant=\"outlined\"\r\n                value={roleForm.name}\r\n              />\r\n            </Grid>\r\n          )}\r\n\r\n          <Grid item xs={12}>\r\n            <TextField\r\n              fullWidth\r\n              onChange={handleInput}\r\n              name=\"description\"\r\n              id=\"idDescription\"\r\n              label=\"Descripcin\"\r\n              multiline\r\n              value={roleForm.description}\r\n              variant=\"outlined\"\r\n            />\r\n          </Grid>\r\n          {!initialValueUpdate.id && (\r\n            <Grid item xs={12}>\r\n              <FormControl variant=\"outlined\" fullWidth>\r\n                <InputLabel id=\"module-mutiple-chip-label\">Modulos</InputLabel>\r\n                <Select\r\n                  labelId=\"module-mutiple-chip-label\"\r\n                  id=\"module-mutiple-chip\"\r\n                  multiple\r\n                  value={modulesSelected}\r\n                  onChange={handleSelect}\r\n                  input={<Input id=\"select-multiple-chip\" />}\r\n                  renderValue={(selected) => (\r\n                    <div className={classes.chips}>\r\n                      {(selected as any[]).map((module) => {\r\n                        return (\r\n                          <Chip\r\n                            key={module}\r\n                            label={module}\r\n                            className={classes.chip}\r\n                          />\r\n                        );\r\n                      })}\r\n                    </div>\r\n                  )}\r\n                  MenuProps={MenuProps}\r\n                >\r\n                  {listModules.map((module) =>\r\n                    auth?.role?.name === ROLSA ? (\r\n                      <MenuItem\r\n                        key={module.id}\r\n                        value={module.name}\r\n                        style={getStyles(\r\n                          module.name,\r\n                          roleForm.modules || [],\r\n                          theme\r\n                        )}\r\n                      >\r\n                        {module.name}\r\n                      </MenuItem>\r\n                    ) : (\r\n                      module.name !== MODULE_FORBIDDEN && (\r\n                        <MenuItem\r\n                          key={module.id}\r\n                          value={module.name}\r\n                          style={getStyles(\r\n                            module.name,\r\n                            roleForm.modules || [],\r\n                            theme\r\n                          )}\r\n                        >\r\n                          {module.name}\r\n                        </MenuItem>\r\n                      )\r\n                    )\r\n                  )}\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n          )}\r\n          <DialogActions style={{ width: \"100%\" }}>\r\n            <Button onClick={() => handleClose()} color=\"primary\">\r\n              Cancelar\r\n            </Button>\r\n            {roleForm.id ? (\r\n              optionsUpdateRole.loading ? (\r\n                <Progress />\r\n              ) : (\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  autoFocus\r\n                  variant=\"contained\"\r\n                >\r\n                  Actualizar\r\n                </Button>\r\n              )\r\n            ) : optionsCreateRole.loading ? (\r\n              <Progress />\r\n            ) : (\r\n              <Button\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                autoFocus\r\n                variant=\"contained\"\r\n              >\r\n                Registrar\r\n              </Button>\r\n            )}\r\n          </DialogActions>\r\n        </Grid>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RoleForm;\r\n","import React, { useState } from \"react\";\r\n//tables\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\n//button\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\n//icon\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\r\nimport { Role } from \"../../interfaces/role.interface\";\r\nimport { useDispatch } from \"react-redux\";\r\n//dates\r\nimport moment from \"moment\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport RoleModuleItem from \"./role-module-item\";\r\nimport DialogForm from \"../dialog/dialog.component\";\r\nimport RoleForm from \"./rol-form\";\r\nimport ModuleTransferList from \"../module/module-transfer-list\";\r\nimport ViewModuleRoundedIcon from \"@material-ui/icons/ViewModuleRounded\";\r\nimport { PERMIT_FOUR, PERMIT_TWO, ROLSA } from \"../../const\";\r\nimport { loadAccess } from \"../acceso/filter-access.component\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\n\r\ninterface Dialog {\r\n  name: string;\r\n  active: boolean;\r\n}\r\n\r\nconst initialValueButton = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst RoleList = ({ role }: { role: Role }) => {\r\n  const [dialog, setDialog] = useState<Dialog>(initialValueButton);\r\n  const dispatch = useDispatch();\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n\r\n  const handleClose = () => {\r\n    setDialog({ ...dialog, active: false });\r\n    dispatch(\r\n      setAlert({\r\n        type: \"\",\r\n        text: \"\",\r\n      })\r\n    );\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Modulo\":\r\n        return <ModuleTransferList role={role} handleClose={handleClose} />;\r\n\r\n      case \"Rol\":\r\n        return <RoleForm role={role} handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n  const showOptionsForEdit = () => (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        dialog={role}\r\n        title={dialog.name}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      {role.name === ROLSA ? (\r\n        <TableCell align=\"center\">\r\n          <Tooltip\r\n            title=\"Asignar modulos\"\r\n            onClick={() => setDialog({ name: \"Modulo\", active: true })}\r\n          >\r\n            <IconButton aria-label=\"modules\" size=\"small\">\r\n              <ViewModuleRoundedIcon />\r\n            </IconButton>\r\n          </Tooltip>\r\n        </TableCell>\r\n      ) : (\r\n        <TableCell align=\"right\">\r\n          <Tooltip\r\n            title=\"Asignar modulos\"\r\n            onClick={() => setDialog({ name: \"Modulo\", active: true })}\r\n          >\r\n            <IconButton aria-label=\"modules\" size=\"small\">\r\n              <ViewModuleRoundedIcon />\r\n            </IconButton>\r\n          </Tooltip>\r\n          <Tooltip\r\n            title=\"Editar rol\"\r\n            onClick={() => setDialog({ name: \"Rol\", active: true })}\r\n          >\r\n            <IconButton aria-label=\"role\" size=\"small\">\r\n              <EditRoundedIcon />\r\n            </IconButton>\r\n          </Tooltip>\r\n        </TableCell>\r\n      )}\r\n    </>\r\n  );\r\n\r\n  const showData = () => (\r\n    <>\r\n      <TableRow>\r\n        {auth?.role?.name === ROLSA ? (\r\n          <>\r\n            <TableCell component=\"th\" scope=\"row\">\r\n              {role.name}\r\n            </TableCell>\r\n            <TableCell>{role.description}</TableCell>\r\n            <TableCell>{moment(role.createdAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n            <TableCell>{moment(role.updatedAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n            <TableCell align=\"center\">\r\n              {role.modules &&\r\n                role.modules.map((module) => (\r\n                  <RoleModuleItem key={module.id} module={module} />\r\n                ))}\r\n            </TableCell>\r\n            {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n          </>\r\n        ) : (\r\n          <>\r\n            {role.name === ROLSA || (\r\n              <>\r\n                <TableCell component=\"th\" scope=\"row\">\r\n                  {role.name}\r\n                </TableCell>\r\n                <TableCell>{role.description}</TableCell>\r\n                <TableCell>\r\n                  {moment(role.createdAt).format(\"DD/MM/YYYY\")}\r\n                </TableCell>\r\n                <TableCell>\r\n                  {moment(role.updatedAt).format(\"DD/MM/YYYY\")}\r\n                </TableCell>\r\n                <TableCell align=\"center\">\r\n                  {role.modules &&\r\n                    role.modules.map((module) => (\r\n                      <RoleModuleItem key={module.id} module={module} />\r\n                    ))}\r\n                </TableCell>\r\n                {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n              </>\r\n            )}\r\n          </>\r\n        )}\r\n      </TableRow>\r\n    </>\r\n  );\r\n\r\n  return <>{loadAccess(PERMIT_FOUR, auth, page, showData)}</>;\r\n};\r\n\r\nexport default RoleList;\r\n","import React, { useState, useEffect } from \"react\";\r\n//css library materialui\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n//tables\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { Role } from \"../interfaces/role.interface\";\r\nimport { useGetRoles } from \"../hooks/role/useGetRoles\";\r\n//end tables\r\nimport DialogForm from \"../components/dialog/dialog.component\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\r\nimport RoleList from \"../components/role/role-list\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport RoleForm from \"../components/role/rol-form\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../store/alert/action\";\r\nimport { PERMIT_ONE, PERMIT_TWO } from \"../const\";\r\nimport { loadAccess } from \"../components/acceso/filter-access.component\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { User } from \"../interfaces/user.interface\";\r\nimport { findError } from \"../helpers/control-errors\";\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n});\r\n\r\ninterface Dialog {\r\n  name: string;\r\n  active: boolean;\r\n}\r\n\r\nconst initialValueButton = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst RolePage = () => {\r\n  const [roles, setRoles] = useState<Role[]>([]);\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialValueButton);\r\n  const dispatch = useDispatch();\r\n\r\n  const { data, loading, error } = useGetRoles();\r\n  const classes = useStyles();\r\n\r\n  const handleClose = () => {\r\n    setDialog({ ...dialog, active: false });\r\n    dispatch(\r\n      setAlert({\r\n        type: \"\",\r\n        text: \"\",\r\n      })\r\n    );\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Crear\":\r\n        return <RoleForm handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setRoles(data.getRoles);\r\n    }\r\n  }, [data]);\r\n\r\n  if (loading) {\r\n    return <h1>Cargando...</h1>;\r\n  }\r\n\r\n  if (error) {\r\n    return <h1>{findError(error)}</h1>;\r\n  }\r\n\r\n  const showDialog = () => (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={`${dialog.name} Rol`}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n\r\n      <Tooltip title=\"Crear Rol\">\r\n        <IconButton\r\n          aria-label=\"add\"\r\n          size=\"small\"\r\n          onClick={() => setDialog({ name: \"Crear\", active: true })}\r\n        >\r\n          <AddRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showOptionsForEdit = () => (\r\n    <TableCell align=\"right\">Opciones</TableCell>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {loadAccess(PERMIT_ONE, auth, page, showDialog)}\r\n      <TableContainer component={Paper}>\r\n        <Table\r\n          className={classes.table}\r\n          size=\"small\"\r\n          aria-label=\"a dense table\"\r\n        >\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Rol</TableCell>\r\n              <TableCell>Descripcin</TableCell>\r\n              <TableCell>Fecha creada</TableCell>\r\n              <TableCell>Fecha modificada</TableCell>\r\n              <TableCell align=\"center\">Modulos</TableCell>\r\n              {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {roles.map((role) => (\r\n              <RoleList key={role.id} role={role} />\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RolePage;\r\n","import { gql, useQuery } from \"@apollo/client\";\r\n\r\nexport const GET_SERVICES = gql`\r\n  query getServices {\r\n    getServices {\r\n      id\r\n      name\r\n      description\r\n      price\r\n      createdAt\r\n      updatedAt\r\n      category {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetServices = () => {\r\n  const { data, error, loading } = useQuery(GET_SERVICES);\r\n\r\n  return { data, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Service } from \"../../interfaces/service.interface\";\r\nimport { GET_SERVICES } from \"./useGetServices\";\r\n\r\ninterface UpdateServiceInput {\r\n  variables: {\r\n    serviceInput: Service;\r\n  };\r\n}\r\n\r\nconst UPDATE_SERVICE = gql`\r\n  mutation updateService($serviceInput: UpdateServiceInput!) {\r\n    updateService(serviceInput: $serviceInput) {\r\n      id\r\n      name\r\n      description\r\n      price\r\n      category {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useUpdateService = () => {\r\n  const [updateService, { error, loading }] = useMutation(UPDATE_SERVICE, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_SERVICES,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { updateService, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { Service } from \"../../interfaces/service.interface\";\r\nimport { GET_SERVICES } from \"./useGetServices\";\r\n\r\ninterface CreateServiceInput {\r\n  variables: {\r\n    serviceInput: Service;\r\n  };\r\n}\r\n\r\nconst CREATE_SERVICE = gql`\r\n  mutation registerService($serviceInput: CreateServiceInput!) {\r\n    registerService(serviceInput: $serviceInput) {\r\n      id\r\n      name\r\n      description\r\n      price\r\n      category {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n//https://stackoverflow.com/questions/58431224/how-does-apollo-client-graphql-refetchqueries-works\r\nexport const useCreateService = () => {\r\n  const [registerService, { error, loading }] = useMutation(CREATE_SERVICE, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_SERVICES,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { registerService, error, loading };\r\n};\r\n","import { Service } from \"../../interfaces/service.interface\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Category } from \"../../interfaces/category.interface\";\r\nimport { useGetCategorys } from \"../../hooks/category/useGetCategorys\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useUpdateService } from \"../../hooks/service/useUpdateService\";\r\nimport { useCreateService } from \"../../hooks/service/useCreateService\";\r\nimport { FormChange, InputChange, SelectChange } from \"../../lib/types\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Progress from \"../progress/progress\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\ninterface Options {\r\n  handleClose: () => void;\r\n  service?: Service;\r\n}\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst ServiceForm = ({ handleClose, service }: Options) => {\r\n  const initialValueCreate: Service = {\r\n    name: \"\",\r\n    price: 0,\r\n    category: \"\",\r\n  };\r\n\r\n  const initialValueUpdate: Service = {\r\n    id: service?.id || \"\",\r\n    name: service?.name || \"\",\r\n    description: service?.description || \"\",\r\n    price: service?.price || 0,\r\n    category: service?.category?.name || \"\",\r\n  };\r\n\r\n  const [serviceForm, setServiceForm] = useState<Service>(\r\n    initialValueUpdate.id ? initialValueUpdate : initialValueCreate\r\n  );\r\n\r\n  const [categorys, setCategorys] = useState<Category[]>([]);\r\n  const { data } = useGetCategorys();\r\n  const dispatch = useDispatch();\r\n  const optionsUpdateService = useUpdateService();\r\n  const optionsCreateService = useCreateService();\r\n\r\n  const handleInput = (e: InputChange) => {\r\n    setServiceForm({\r\n      ...serviceForm,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const handleSelect = (e: SelectChange) => {\r\n    setServiceForm({\r\n      ...serviceForm,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n\r\n    if (serviceForm.id) {\r\n      try {\r\n        await optionsUpdateService.updateService({\r\n          variables: {\r\n            serviceInput: { ...serviceForm, price: Number(serviceForm.price) },\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El servicio se actualiz correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      try {\r\n        await optionsCreateService.registerService({\r\n          variables: {\r\n            serviceInput: { ...serviceForm, price: Number(serviceForm.price) },\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El servicio ha sido registrada correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setCategorys(data.getCategorys);\r\n    }\r\n  }, [data]);\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12}>\r\n          <FormControl variant=\"outlined\" fullWidth>\r\n            <InputLabel id=\"idCategory\">Categoria</InputLabel>\r\n            <Select\r\n              labelId=\"Categoria\"\r\n              id=\"idCategory\"\r\n              value={serviceForm.category}\r\n              onChange={handleSelect}\r\n              label=\"Categoria\"\r\n              name=\"category\"\r\n            >\r\n              {categorys.map((category) => (\r\n                <MenuItem key={category.id} value={category.name}>\r\n                  {category.name}\r\n                </MenuItem>\r\n              ))}\r\n            </Select>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"name\"\r\n            autoComplete=\"off\"\r\n            id=\"idName\"\r\n            label=\"Servicio\"\r\n            variant=\"outlined\"\r\n            value={serviceForm.name}\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"description\"\r\n            autoComplete=\"off\"\r\n            id=\"idDescription\"\r\n            label=\"Descripcin\"\r\n            variant=\"outlined\"\r\n            multiline\r\n            value={serviceForm.description}\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"price\"\r\n            autoComplete=\"off\"\r\n            id=\"idPrice\"\r\n            label=\"Precio\"\r\n            variant=\"outlined\"\r\n            value={serviceForm.price}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">S/</InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n        </Grid>\r\n\r\n        <DialogActions style={{ width: \"100%\" }}>\r\n          <Button onClick={() => handleClose()} color=\"primary\">\r\n            Cancelar\r\n          </Button>\r\n          {serviceForm.id ? (\r\n            optionsUpdateService.loading ? (\r\n              <Progress />\r\n            ) : (\r\n              <Button\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                autoFocus\r\n                variant=\"contained\"\r\n              >\r\n                Actualizar\r\n              </Button>\r\n            )\r\n          ) : optionsCreateService.loading ? (\r\n            <Progress />\r\n          ) : (\r\n            <Button type=\"submit\" color=\"primary\" autoFocus variant=\"contained\">\r\n              Registrar\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      </Grid>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ServiceForm;\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { GET_SERVICES } from \"./useGetServices\";\r\n\r\nconst DELETE_SERVICE = gql`\r\n  mutation deleteService($id: String!) {\r\n    deleteService(id: $id)\r\n  }\r\n`;\r\n\r\nexport const useDeleteService = () => {\r\n  const [deleteService, { error, loading }] = useMutation(DELETE_SERVICE, {\r\n    refetchQueries: () => [\r\n      {\r\n        query: GET_SERVICES,\r\n      },\r\n    ],\r\n  });\r\n\r\n  return { deleteService, error, loading };\r\n};\r\n","import { Service } from \"../../interfaces/service.interface\";\r\nimport { useState } from \"react\";\r\n\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport DialogForm from \"../dialog/dialog.component\";\r\nimport { PERMIT_FOUR, PERMIT_TREE, PERMIT_TWO } from \"../../const\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport { Dialog } from \"../../interfaces/dialog.interface\";\r\nimport moment from \"moment\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { loadAccess } from \"../acceso/filter-access.component\";\r\nimport ServiceForm from \"./service-form\";\r\nimport { formatMoney } from \"../../lib/currency/money\";\r\nimport HighlightOffRoundedIcon from \"@material-ui/icons/HighlightOffRounded\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\nimport { useDeleteService } from \"../../hooks/service/useDeleteService\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst ServiceList = ({ service }: { service: Service }) => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n  const optionsService = useDeleteService();\r\n\r\n  const deleteService = async (id: string | undefined) => {\r\n    try {\r\n      await optionsService.deleteService({\r\n        variables: {\r\n          id,\r\n        },\r\n      });\r\n    } catch (e) {\r\n      setDialog({ name: \"error\", active: true });\r\n      dispatch(\r\n        setAlert({\r\n          type: \"error\",\r\n          text: findError(e),\r\n        })\r\n      );\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={dialog.name}\r\n        handleClose={handleClose}\r\n      />;\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Servicio\":\r\n        return <ServiceForm service={service} handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const showOptionsForEdit = () => (\r\n    <>\r\n      <Tooltip\r\n        title=\"Editar Servicio\"\r\n        onClick={() => setDialog({ name: \"Servicio\", active: true })}\r\n      >\r\n        <IconButton aria-label=\"service\" size=\"small\">\r\n          <EditRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showOptionsForDelete = () => (\r\n    <>\r\n      <Tooltip\r\n        title=\"Eliminar egreso\"\r\n        onClick={() => deleteService(service.id)}\r\n      >\r\n        <IconButton aria-label=\"egress\" size=\"small\">\r\n          <HighlightOffRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showData = () => (\r\n    <>\r\n      <TableRow>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {service.category!.name}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {service.name}\r\n        </TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {formatMoney(service.price)}\r\n        </TableCell>\r\n        <TableCell>{moment(service.createdAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n        <TableCell>{moment(service.updatedAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n\r\n        <TableCell align=\"right\">\r\n          {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n          {loadAccess(PERMIT_TREE, auth, page, showOptionsForDelete)}\r\n        </TableCell>\r\n      </TableRow>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        dialog={service}\r\n        title={dialog.name}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      {loadAccess(PERMIT_FOUR, auth, page, showData)}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ServiceList;\r\n","import { useState, useEffect } from \"react\";\r\nimport { findError } from \"../helpers/control-errors\";\r\nimport { loadAccess } from \"../components/acceso/filter-access.component\";\r\nimport { PERMIT_ONE, PERMIT_TWO } from \"../const\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { setAlert } from \"../store/alert/action\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport DialogForm from \"../components/dialog/dialog.component\";\r\nimport { Dialog } from \"../interfaces/dialog.interface\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\r\nimport { User } from \"../interfaces/user.interface\";\r\n\r\nimport { Service } from \"../interfaces/service.interface\";\r\nimport ServiceForm from \"../components/service/service-form\";\r\nimport ServiceList from \"../components/service/service-list\";\r\nimport { useGetServices } from \"../hooks/service/useGetServices\";\r\n\r\nconst initialAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\nconst initialDialog = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst ServicePage = () => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialDialog);\r\n  const dispatch = useDispatch();\r\n\r\n  const { data, loading, error } = useGetServices();\r\n  const [services, setServices] = useState<Service[]>([]);\r\n\r\n  const handleClose = () => {\r\n    setDialog(initialDialog);\r\n    dispatch(setAlert(initialAlert));\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Crear\":\r\n        return <ServiceForm handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setServices(data.getServices);\r\n    }\r\n  }, [data]);\r\n\r\n  if (loading) {\r\n    return <h1>Cargando...</h1>;\r\n  }\r\n\r\n  if (error) {\r\n    return <h1>{findError(error)}</h1>;\r\n  }\r\n\r\n  const showDialogToCreate = () => (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={`${dialog.name} Servicio`}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      <Tooltip title=\"Crear Servicio\">\r\n        <IconButton\r\n          aria-label=\"add\"\r\n          size=\"small\"\r\n          onClick={() => setDialog({ name: \"Crear\", active: true })}\r\n        >\r\n          <AddRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {loadAccess(PERMIT_ONE, auth, page, showDialogToCreate)}\r\n      <TableContainer component={Paper} style={{ marginTop: 10 }}>\r\n        <Table\r\n          //className={classes.table}\r\n          size=\"small\"\r\n          aria-label=\"a dense table\"\r\n        >\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Categoria</TableCell>\r\n              <TableCell>Servicio</TableCell>\r\n              <TableCell>Precio</TableCell>\r\n              <TableCell>Fecha creada</TableCell>\r\n              <TableCell>Fecha modificada</TableCell>\r\n              <TableCell align=\"right\">Opciones</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {services.map((service) => (\r\n              <ServiceList key={service.id} service={service} />\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ServicePage;\r\n","import { gql, useQuery } from \"@apollo/client\";\r\n\r\nexport const GET_USERS = gql`\r\n  query getUsers {\r\n    getUsers {\r\n      id\r\n      name\r\n      lastName\r\n      email\r\n      status\r\n      createdAt\r\n      updatedAt\r\n      role {\r\n        name\r\n        description\r\n        modules {\r\n          access {\r\n            id\r\n            name\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetUsers = () => {\r\n  const { data, loading, error } = useQuery(GET_USERS);\r\n\r\n  return { data, loading, error };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport { GET_USERS } from \"./useGetUsers\";\r\n\r\ninterface UserUpdateInput {\r\n  variables: {\r\n    userInput: User;\r\n  };\r\n}\r\n\r\nconst UPDATE_USER = gql`\r\n  mutation updateRole($userInput: UserUpdateInput!) {\r\n    updateUser(userInput: $userInput) {\r\n      id\r\n      name\r\n      lastName\r\n      email\r\n      role {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useUpdateUser = () => {\r\n  const [updateUser, { error, loading }] = useMutation(\r\n    UPDATE_USER\r\n    //   , {\r\n    //   refetchQueries: () => [\r\n    //     {\r\n    //       query: GET_USERS,\r\n    //     },\r\n    //   ],\r\n    // }\r\n  );\r\n\r\n  return { updateUser, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport { GET_USERS } from \"./useGetUsers\";\r\n\r\ninterface UserInput {\r\n  variables: {\r\n    userInput: User;\r\n  };\r\n}\r\n\r\nconst CREATE_USER = gql`\r\n  mutation registerUser($userInput: UserInput!) {\r\n    registerUser(userInput: $userInput) {\r\n      id\r\n      name\r\n      lastName\r\n      email\r\n      createdAt\r\n      updatedAt\r\n      role {\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useCreateUser = () => {\r\n  const [registerUser, { error, loading }] = useMutation(CREATE_USER, {\r\n    refetchQueries: () => [{ query: GET_USERS }],\r\n  });\r\n  return { registerUser, error, loading };\r\n};\r\n","import React, { useState, ChangeEvent, FormEvent, useEffect } from \"react\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { useUpdateUser } from \"../../hooks/user/useUpdateUser\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport { useGetRoles } from \"../../hooks/role/useGetRoles\";\r\nimport { Role } from \"../../interfaces/role.interface\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport { useCreateUser } from \"../../hooks/user/useCreateUser\";\r\nimport Progress from \"../progress/progress\";\r\nimport { ROLSA } from \"../../const\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\n\r\ntype InputChange = ChangeEvent<HTMLInputElement | HTMLTextAreaElement>;\r\ntype FormChange = FormEvent<HTMLFormElement>;\r\ntype SelectChange = ChangeEvent<{ value: unknown } | any | HTMLSelectElement>;\r\n\r\nconst UserForm = ({\r\n  user,\r\n  handleClose,\r\n}: {\r\n  user?: User;\r\n  handleClose: () => void;\r\n}) => {\r\n  const initialValueCreate: User = {\r\n    name: \"\",\r\n    lastName: \"\",\r\n    role: {\r\n      name: \"\",\r\n    },\r\n    email: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n  };\r\n\r\n  const initialValueUpdate: User = {\r\n    id: user?.id || \"\",\r\n    name: user?.name || \"\",\r\n    lastName: user?.lastName || \"\",\r\n    role: {\r\n      name: user?.role?.name || \"\",\r\n    },\r\n    email: user?.email || \"\",\r\n  };\r\n\r\n  const [userForm, setUserForm] = useState<User>(\r\n    initialValueUpdate.id ? initialValueUpdate : initialValueCreate\r\n  );\r\n  const [listRoles, setListRoles] = useState<Role[]>([]);\r\n  const dispatch = useDispatch();\r\n  const optionsUpdateUser = useUpdateUser();\r\n  const { data } = useGetRoles();\r\n  const optionsCreateUser = useCreateUser();\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n\r\n  const handleInput = (e: InputChange) => {\r\n    setUserForm({ ...userForm, [e.target.name]: e.target.value });\r\n    dispatch(\r\n      setAlert({\r\n        type: \"\",\r\n        text: \"\",\r\n      })\r\n    );\r\n  };\r\n\r\n  const handleSelect = (e: SelectChange) => {\r\n    setUserForm({\r\n      ...userForm,\r\n      [e.target.name]: { name: e.target.value },\r\n    });\r\n    dispatch(\r\n      setAlert({\r\n        type: \"\",\r\n        text: \"\",\r\n      })\r\n    );\r\n  };\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n    if (userForm.id) {\r\n      try {\r\n        await optionsUpdateUser.updateUser({\r\n          variables: {\r\n            userInput: userForm,\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El usuario se actualiz correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    } else {\r\n      try {\r\n        await optionsCreateUser.registerUser({\r\n          variables: {\r\n            userInput: userForm,\r\n          },\r\n        });\r\n        dispatch(\r\n          setAlert({\r\n            type: \"success\",\r\n            text: \"El usuario ha sido registrado correctamente.\",\r\n          })\r\n        );\r\n      } catch (e) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setListRoles(data.getRoles);\r\n    }\r\n  }, [data]);\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={onSubmit}>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={6}>\r\n            <TextField\r\n              fullWidth\r\n              onChange={handleInput}\r\n              name=\"name\"\r\n              autoComplete=\"off\"\r\n              id=\"idNombres\"\r\n              label=\"Nombres\"\r\n              variant=\"outlined\"\r\n              value={userForm.name}\r\n            />\r\n          </Grid>\r\n\r\n          <Grid item xs={6}>\r\n            <TextField\r\n              fullWidth\r\n              onChange={handleInput}\r\n              name=\"lastName\"\r\n              autoComplete=\"off\"\r\n              id=\"idApellidos\"\r\n              label=\"Apellidos\"\r\n              value={userForm.lastName}\r\n              variant=\"outlined\"\r\n            />\r\n          </Grid>\r\n          {userForm.role?.name === ROLSA || (\r\n            <>\r\n              <Grid item xs={12}>\r\n                <FormControl variant=\"outlined\" fullWidth>\r\n                  <InputLabel id=\"idRole\">Rol</InputLabel>\r\n                  <Select\r\n                    labelId=\"Rol\"\r\n                    id=\"idRole\"\r\n                    value={userForm.role?.name}\r\n                    onChange={handleSelect}\r\n                    label=\"Rol\"\r\n                    name=\"role\"\r\n                  >\r\n                    {listRoles.map((role) =>\r\n                      auth?.role?.name === ROLSA ? (\r\n                        <MenuItem key={role.id} value={role.name}>\r\n                          {role.name}\r\n                        </MenuItem>\r\n                      ) : (\r\n                        role.name !== ROLSA && (\r\n                          <MenuItem key={role.id} value={role.name}>\r\n                            {role.name}\r\n                          </MenuItem>\r\n                        )\r\n                      )\r\n                    )}\r\n                  </Select>\r\n                </FormControl>\r\n              </Grid>\r\n            </>\r\n          )}\r\n          <Grid item xs={12}>\r\n            <TextField\r\n              fullWidth\r\n              onChange={handleInput}\r\n              name=\"email\"\r\n              autoComplete=\"off\"\r\n              id=\"idEmail\"\r\n              label=\"Correo\"\r\n              value={userForm.email}\r\n              variant=\"outlined\"\r\n              InputProps={{\r\n                readOnly: userForm.id ? true : false,\r\n              }}\r\n            />\r\n          </Grid>\r\n          {userForm.id ? (\r\n            \"\"\r\n          ) : (\r\n            <>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  fullWidth\r\n                  onChange={handleInput}\r\n                  name=\"password\"\r\n                  autoComplete=\"off\"\r\n                  id=\"idPassword\"\r\n                  label=\"Contrasea\"\r\n                  value={userForm.password}\r\n                  variant=\"outlined\"\r\n                  type=\"password\"\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  fullWidth\r\n                  onChange={handleInput}\r\n                  name=\"confirmPassword\"\r\n                  autoComplete=\"off\"\r\n                  id=\"idConfirmPassword\"\r\n                  label=\"Repetir contrasea\"\r\n                  value={userForm.confirmPassword}\r\n                  variant=\"outlined\"\r\n                  type=\"password\"\r\n                />\r\n              </Grid>\r\n            </>\r\n          )}\r\n          <DialogActions style={{ width: \"100%\" }}>\r\n            <Button onClick={() => handleClose()} color=\"primary\">\r\n              Cancelar\r\n            </Button>\r\n            {userForm.id ? (\r\n              optionsUpdateUser.loading ? (\r\n                <Progress />\r\n              ) : (\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  autoFocus\r\n                  variant=\"contained\"\r\n                >\r\n                  Actualizar\r\n                </Button>\r\n              )\r\n            ) : optionsCreateUser.loading ? (\r\n              <Progress />\r\n            ) : (\r\n              <Button\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                autoFocus\r\n                variant=\"contained\"\r\n              >\r\n                Registrar\r\n              </Button>\r\n            )}\r\n          </DialogActions>\r\n        </Grid>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserForm;\r\n","import { gql, useMutation } from \"@apollo/client\";\r\n\r\nconst UPDATE_ACTIVATE_USER = gql`\r\n  mutation activateUser($id: String!) {\r\n    activateUser(id: $id) {\r\n      id\r\n      status\r\n    }\r\n  }\r\n`;\r\n\r\nconst UPDATE_DESACTIVATE_USER = gql`\r\n  mutation desactivateUser($id: String!) {\r\n    desactivateUser(id: $id) {\r\n      id\r\n      status\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useActivateUser = () => {\r\n  const [activateUser, { error, loading }] = useMutation(UPDATE_ACTIVATE_USER);\r\n\r\n  return { activateUser, error, loading };\r\n};\r\n\r\nexport const useDesactivateUser = () => {\r\n  const [desactivateUser, { error, loading }] = useMutation(\r\n    UPDATE_DESACTIVATE_USER\r\n  );\r\n\r\n  return { desactivateUser, error, loading };\r\n};\r\n","import { gql, useMutation } from \"@apollo/client\";\r\nimport { AuthUser } from \"../../interfaces/auth.interface\";\r\n\r\ninterface AuthChangePasswordInputToAdmin {\r\n  variables: {\r\n    authInput: AuthUser;\r\n  };\r\n}\r\n\r\ninterface AuthChangePasswordInputToUser {\r\n  variables: {\r\n    authInput: AuthUser;\r\n  };\r\n}\r\nconst UPDATE_PASSWORD_TO_ADMIN = gql`\r\n  mutation changePasswordToAdmin($authInput: AuthChangePasswordInputToAdmin!) {\r\n    changePasswordToAdmin(authInput: $authInput)\r\n  }\r\n`;\r\n\r\nconst UPDATE_PASSWORD_TO_USER = gql`\r\n  mutation changePasswordToUser($authInput: AuthChangePasswordInputToUser!) {\r\n    changePasswordToUser(authInput: $authInput)\r\n  }\r\n`;\r\n\r\n//TO ADMIN\r\nexport const useChangePasswordToAdmin = () => {\r\n  const [changePasswordToAdmin, { error, loading }] = useMutation(\r\n    UPDATE_PASSWORD_TO_ADMIN\r\n  );\r\n\r\n  return { changePasswordToAdmin, error, loading };\r\n};\r\n\r\n//TO USER\r\nexport const useChangePasswordToUser = () => {\r\n  const [changePasswordToUser, { error, loading }] = useMutation(\r\n    UPDATE_PASSWORD_TO_USER\r\n  );\r\n\r\n  return { changePasswordToUser, error, loading };\r\n};\r\n","import React, { useState, ChangeEvent, FormEvent } from \"react\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport Progress from \"../progress/progress\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { useChangePasswordToAdmin } from \"../../hooks/password/useChangePassword\";\r\nimport { AuthUser } from \"../../interfaces/auth.interface\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\n\r\ntype InputChange = ChangeEvent<HTMLInputElement | HTMLTextAreaElement>;\r\ntype FormChange = FormEvent<HTMLFormElement>;\r\n\r\nconst PasswordForm = ({\r\n  user,\r\n  handleClose,\r\n}: {\r\n  user?: User;\r\n  handleClose: () => void;\r\n}) => {\r\n  const initialValue: AuthUser = {\r\n    id: user?.id || \"\",\r\n    newPassword: \"\",\r\n    confirmNewPassword: \"\",\r\n  };\r\n\r\n  const [userForm, setUserForm] = useState<AuthUser>(initialValue);\r\n  const dispatch = useDispatch();\r\n  const { changePasswordToAdmin, error, loading } = useChangePasswordToAdmin();\r\n\r\n  const handleInput = (e: InputChange) => {\r\n    setUserForm({ ...userForm, [e.target.name]: e.target.value });\r\n    dispatch(\r\n      setAlert({\r\n        type: \"\",\r\n        text: \"\",\r\n      })\r\n    );\r\n  };\r\n\r\n  const onSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n    try {\r\n      await changePasswordToAdmin({\r\n        variables: {\r\n          authInput: userForm,\r\n        },\r\n      });\r\n      dispatch(\r\n        setAlert({\r\n          type: \"success\",\r\n          text: \"La contrasea ha sido cambiada correctamente.\",\r\n        })\r\n      );\r\n    } catch (e) {\r\n      dispatch(\r\n        setAlert({\r\n          type: \"error\",\r\n          text: findError(e),\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <Grid container spacing={3}>\r\n        {/* <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"currentPassword\"\r\n            autoComplete=\"off\"\r\n            id=\"idPassword\"\r\n            label=\"Contrasea Actual\"\r\n            variant=\"outlined\"\r\n            value={userForm.currentPassword}\r\n          />\r\n        </Grid> */}\r\n\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"newPassword\"\r\n            autoComplete=\"off\"\r\n            id=\"idNewPassword\"\r\n            label=\"Nueva Contrasea\"\r\n            value={userForm.newPassword}\r\n            variant=\"outlined\"\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleInput}\r\n            name=\"confirmNewPassword\"\r\n            autoComplete=\"off\"\r\n            id=\"idConfirmNewPassword\"\r\n            label=\"Confirmar nueva contrasea\"\r\n            value={userForm.confirmNewPassword}\r\n            variant=\"outlined\"\r\n          />\r\n        </Grid>\r\n\r\n        <DialogActions style={{ width: \"100%\" }}>\r\n          <Button onClick={() => handleClose()} color=\"primary\">\r\n            Cancelar\r\n          </Button>\r\n          {loading ? (\r\n            <Progress />\r\n          ) : (\r\n            <Button type=\"submit\" color=\"primary\" autoFocus variant=\"contained\">\r\n              Actualizar\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      </Grid>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PasswordForm;\r\n","import React, { useState } from \"react\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\r\nimport RemoveRoundedIcon from \"@material-ui/icons/RemoveRounded\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport moment from \"moment\";\r\nimport { setAlert } from \"../../store/alert/action\";\r\nimport DialogForm from \"../dialog/dialog.component\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport UserForm from \"./user-form\";\r\nimport CheckRoundedIcon from \"@material-ui/icons/CheckRounded\";\r\nimport {\r\n  useActivateUser,\r\n  useDesactivateUser,\r\n} from \"../../hooks/user/useUpdateAccessToLogin\";\r\nimport { loadAccess } from \"../acceso/filter-access.component\";\r\nimport { PERMIT_FOUR, PERMIT_TWO, ROLSA } from \"../../const\";\r\nimport LockRoundedIcon from \"@material-ui/icons/LockRounded\";\r\nimport PasswordForm from \"../password/password-form\";\r\nimport { findError } from \"../../helpers/control-errors\";\r\n\r\ninterface Dialog {\r\n  name: string;\r\n  active: boolean;\r\n}\r\n\r\nconst initialValueButton = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst UserList = ({ user }: { user: User }) => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const [dialog, setDialog] = useState<Dialog>(initialValueButton);\r\n  const dispatch = useDispatch();\r\n  const optionsActivate = useActivateUser();\r\n  const optionsDesactivate = useDesactivateUser();\r\n  const handleClose = () => {\r\n    setDialog({ ...dialog, active: false });\r\n    dispatch(\r\n      setAlert({\r\n        type: \"\",\r\n        text: \"\",\r\n      })\r\n    );\r\n  };\r\n\r\n  const desactivateUser = async () => {\r\n    try {\r\n      await optionsDesactivate.desactivateUser({\r\n        variables: { id: user.id },\r\n      });\r\n    } catch (e) {\r\n      setDialog({ name: \"error\", active: true });\r\n      dispatch(\r\n        setAlert({\r\n          type: \"error\",\r\n          text: findError(e),\r\n        })\r\n      );\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={dialog.name}\r\n        handleClose={handleClose}\r\n      />;\r\n    }\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Usuario\":\r\n        return <UserForm user={user} handleClose={handleClose} />;\r\n\r\n      case \"Contrasea\":\r\n        return <PasswordForm user={user} handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const showOptionsForEdit = () => (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        dialog={user}\r\n        title={dialog.name}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      <TableCell align=\"right\">\r\n        {user.role?.name === ROLSA ? (\r\n          \"\"\r\n        ) : (\r\n          <>\r\n            {user.status === 2 ? (\r\n              <Tooltip\r\n                title=\"Activar usuario\"\r\n                onClick={() =>\r\n                  optionsActivate.activateUser({\r\n                    variables: { id: user.id },\r\n                  })\r\n                }\r\n              >\r\n                <IconButton\r\n                  aria-label=\"desactivate\"\r\n                  size=\"small\"\r\n                  color=\"secondary\"\r\n                >\r\n                  <RemoveRoundedIcon style={{ color: \"#F44336\" }} />\r\n                </IconButton>\r\n              </Tooltip>\r\n            ) : user.status === 1 ? (\r\n              <Tooltip title=\"Desactivar usuario\" onClick={desactivateUser}>\r\n                <IconButton\r\n                  aria-label=\"activate\"\r\n                  size=\"small\"\r\n                  style={{ color: \"#4CAF50\" }}\r\n                >\r\n                  <CheckRoundedIcon style={{ color: \"#4CAF50\" }} />\r\n                </IconButton>\r\n              </Tooltip>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </>\r\n        )}\r\n\r\n        <Tooltip\r\n          title=\"Editar usuario\"\r\n          onClick={() => setDialog({ name: \"Usuario\", active: true })}\r\n        >\r\n          <IconButton aria-label=\"role\" size=\"small\">\r\n            <EditRoundedIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n\r\n        <Tooltip\r\n          title=\"Cambiar contrasea\"\r\n          onClick={() => setDialog({ name: \"Contrasea\", active: true })}\r\n        >\r\n          <IconButton aria-label=\"password\" size=\"small\">\r\n            <LockRoundedIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      </TableCell>\r\n    </>\r\n  );\r\n\r\n  const showData = () => (\r\n    <>\r\n      <TableRow>\r\n        {auth?.role?.name === ROLSA ? (\r\n          <>\r\n            <TableCell component=\"th\" scope=\"row\">\r\n              {user.name} {user.lastName}\r\n            </TableCell>\r\n            <TableCell>{user.role?.name}</TableCell>\r\n            <TableCell>{user.email}</TableCell>\r\n            <TableCell>{moment(user.createdAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n            <TableCell>{moment(user.updatedAt).format(\"DD/MM/YYYY\")}</TableCell>\r\n            {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n          </>\r\n        ) : (\r\n          <>\r\n            {user.role?.name === ROLSA || (\r\n              <>\r\n                <TableCell component=\"th\" scope=\"row\">\r\n                  {user.name} {user.lastName}\r\n                </TableCell>\r\n                <TableCell>{user.role?.name}</TableCell>\r\n                <TableCell>{user.email}</TableCell>\r\n                <TableCell>\r\n                  {moment(user.createdAt).format(\"DD/MM/YYYY\")}\r\n                </TableCell>\r\n                <TableCell>\r\n                  {moment(user.updatedAt).format(\"DD/MM/YYYY\")}\r\n                </TableCell>\r\n                {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n              </>\r\n            )}\r\n          </>\r\n        )}\r\n      </TableRow>\r\n    </>\r\n  );\r\n\r\n  return <>{loadAccess(PERMIT_FOUR, auth, page, showData)}</>;\r\n};\r\n\r\nexport default UserList;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useGetUsers } from \"../hooks/user/useGetUsers\";\r\nimport { User } from \"../interfaces/user.interface\";\r\nimport UserList from \"../components/user/user-list\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\r\nimport DialogForm from \"../components/dialog/dialog.component\";\r\nimport UserForm from \"../components/user/user-form\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../store/alert/action\";\r\nimport { PERMIT_ONE, PERMIT_TWO } from \"../const\";\r\nimport { loadAccess } from \"../components/acceso/filter-access.component\";\r\nimport { findError } from \"../helpers/control-errors\";\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n});\r\n\r\ninterface Dialog {\r\n  name: string;\r\n  active: boolean;\r\n}\r\n\r\nconst initialValueButton = {\r\n  name: \"\",\r\n  active: false,\r\n};\r\n\r\nconst UserPage = () => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const page = useSelector((state: any) => state.page.user.module);\r\n  const classes = useStyles();\r\n  const [users, setUsers] = useState<User[]>([]);\r\n  const [dialog, setDialog] = useState<Dialog>(initialValueButton);\r\n  const { data, loading, error } = useGetUsers();\r\n  const dispatch = useDispatch();\r\n\r\n  const handleClose = () => {\r\n    setDialog({ ...dialog, active: false });\r\n    dispatch(\r\n      setAlert({\r\n        type: \"\",\r\n        text: \"\",\r\n      })\r\n    );\r\n  };\r\n\r\n  const component = (name: string) => {\r\n    switch (name) {\r\n      case \"Crear\":\r\n        return <UserForm handleClose={handleClose} />;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setUsers(data.getUsers);\r\n    }\r\n  }, [data]);\r\n\r\n  if (loading) {\r\n    return <h1>Cargando...</h1>;\r\n  }\r\n\r\n  if (error) {\r\n    return <h1>{findError(error)}</h1>;\r\n  }\r\n\r\n  const showDialog = () => (\r\n    <>\r\n      <DialogForm\r\n        open={dialog.active}\r\n        title={`${dialog.name} Usuario`}\r\n        component={component(dialog.name)}\r\n        handleClose={handleClose}\r\n      />\r\n      <Tooltip title=\"Crear Usuario\">\r\n        <IconButton\r\n          aria-label=\"add\"\r\n          size=\"small\"\r\n          onClick={() => setDialog({ name: \"Crear\", active: true })}\r\n        >\r\n          <AddRoundedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n  );\r\n\r\n  const showOptionsForEdit = () => (\r\n    <TableCell align=\"right\">Opciones</TableCell>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {loadAccess(PERMIT_ONE, auth, page, showDialog)}\r\n      <TableContainer component={Paper} style={{ marginTop: 10 }}>\r\n        <Table\r\n          className={classes.table}\r\n          size=\"small\"\r\n          aria-label=\"a dense table\"\r\n        >\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Nombres</TableCell>\r\n              <TableCell>Rol</TableCell>\r\n              <TableCell>Correo</TableCell>\r\n              <TableCell>Fecha creada</TableCell>\r\n              <TableCell>Fecha modificada</TableCell>\r\n              {loadAccess(PERMIT_TWO, auth, page, showOptionsForEdit)}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {users.map((user) => (\r\n              <UserList key={user.id} user={user} />\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserPage;\r\n","import React, { createElement } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect, Route, useLocation } from \"react-router-dom\";\r\nimport NoMatch from \"../pages/404.page\";\r\nimport BrandPage from \"../pages/brand.page\";\r\nimport CategooryPage from \"../pages/category.page\";\r\nimport CheckMoneyPage from \"../pages/check-money.page\";\r\nimport CheckProducts from \"../pages/check-products\";\r\nimport EgressPage from \"../pages/egress.page\";\r\nimport IngressPage from \"../pages/ingress.page\";\r\nimport ModelPage from \"../pages/model.page\";\r\nimport ModulePage from \"../pages/module.page\";\r\nimport ProductPage from \"../pages/product.page\";\r\nimport RolePage from \"../pages/role.page\";\r\nimport ServicePage from \"../pages/service.page\";\r\nimport SummaryBoxPage from \"../pages/summary-box.page\";\r\nimport UserPage from \"../pages/user.page\";\r\nimport { getLocal } from \"./local-storage\";\r\n\r\ninterface RootState {\r\n  page: {\r\n    user: {\r\n      link: string;\r\n      page: string;\r\n    };\r\n  };\r\n}\r\n\r\nconst mapStateToProps = (state: RootState) => {\r\n  const {\r\n    page: {\r\n      user: { link, page },\r\n    },\r\n  } = state;\r\n  return { link, page };\r\n};\r\n\r\nconst ItemSwitch = ({ link, page }: any) => {\r\n  const location = useLocation();\r\n  const formatedLink = location.pathname.replace(\"/\", \"\");\r\n\r\n  const PrivateRoute = ({ component, toLogin, ...rest }: any) => {\r\n    const routeComponent = (props: any) => {\r\n      switch (toLogin) {\r\n        case true:\r\n          return getLocal(\"accessToken\") ? (\r\n            <Redirect to={{ pathname: \"/\" }} />\r\n          ) : (\r\n            createElement(component, props)\r\n          );\r\n\r\n        case false:\r\n          return getLocal(\"accessToken\") ? (\r\n            createElement(component, props)\r\n          ) : (\r\n            <Redirect to={{ pathname: \"/\" }} />\r\n          );\r\n      }\r\n    };\r\n\r\n    return <Route {...rest} render={routeComponent} />;\r\n  };\r\n\r\n  const PAGES = (page: string) => {\r\n    switch (page) {\r\n      case \"DASHBOARD\":\r\n        const Home = () => {\r\n          return <h1>Bienvenido</h1>;\r\n        };\r\n        return Home;\r\n\r\n      case \"MODULOS\":\r\n        const Modulos = () => <ModulePage />;\r\n        return Modulos;\r\n\r\n      case \"ROLES\":\r\n        const Roles = () => <RolePage />;\r\n        return Roles;\r\n\r\n      case \"USUARIOS\":\r\n        const Usuarios = () => <UserPage />;\r\n        return Usuarios;\r\n\r\n      case \"CATEGORIAS\":\r\n        const Categorias = () => <CategooryPage />;\r\n        return Categorias;\r\n\r\n      case \"MARCAS\":\r\n        const Marcas = () => <BrandPage />;\r\n        return Marcas;\r\n\r\n      case \"MODELOS\":\r\n        const Modelos = () => <ModelPage />;\r\n        return Modelos;\r\n\r\n      case \"PRODUCTOS\":\r\n        const Productos = () => <ProductPage />;\r\n        return Productos;\r\n\r\n      case \"SERVICIOS\":\r\n        const Servicios = () => <ServicePage />;\r\n        return Servicios;\r\n\r\n      case \"INGRESOS\":\r\n        const Ingresos = () => <IngressPage />;\r\n        return Ingresos;\r\n\r\n      case \"EGRESOS\":\r\n        const Egresos = () => <EgressPage />;\r\n        return Egresos;\r\n\r\n      case \"RESUMEN-CAJA\":\r\n        const ResumenCaja = () => <SummaryBoxPage />;\r\n        return ResumenCaja;\r\n\r\n      case \"CONSULTAR-CAJA\":\r\n        const ConsultarCaja = () => <CheckMoneyPage />;\r\n        return ConsultarCaja;\r\n\r\n      case \"CONSULTAR-PRECIOS\":\r\n        const ConsultarPrecios = () => <CheckProducts />;\r\n        return ConsultarPrecios;\r\n\r\n      default:\r\n        const ERROR = () => <NoMatch />;\r\n        return ERROR;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {link === formatedLink || link === location.pathname ? (\r\n        <PrivateRoute\r\n          exact\r\n          path={`/${link}`}\r\n          toLogin={false}\r\n          component={PAGES(`${page}`)}\r\n        />\r\n      ) : (\r\n        <PrivateRoute toLogin={false} path=\"*\" component={NoMatch} />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\n/**\r\n *\r\n   {menu.link === formatedLink ? (\r\n        <>\r\n          <Switch>\r\n            <PrivateRoute exact path=\"/caja\" toLogin={false} component={Caja} />\r\n          </Switch>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <Switch>\r\n            <Route path=\"*\" component={NoMatch} />\r\n          </Switch>\r\n        </>\r\n      )}\r\n * \r\n */\r\nexport default connect(mapStateToProps, null)(ItemSwitch);\r\n","import React from \"react\";\r\nimport { Switch } from \"react-router-dom\";\r\nimport ItemSwitch from \"./item-switch.component\";\r\n\r\nconst SwitchContainer = () => {\r\n  return (\r\n    <Switch>\r\n      <ItemSwitch />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default SwitchContainer;\r\n","import SwitchContainer from \"../../lib/switch-container\";\r\nimport { useSelector } from \"react-redux\";\r\nimport \"./wrapper.css\";\r\n\r\nconst Wrapper = () => {\r\n  const { module, page, name } = useSelector((state: any) => {\r\n    return state.page.user;\r\n  });\r\n  const firsCaracter: String = name?.charAt(0).toUpperCase();\r\n  const restCaracter: String = name?.substr(1, name?.length);\r\n  const subTitle: String = `${firsCaracter}${restCaracter.toLowerCase()}`;\r\n\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <section>\r\n        <div className=\"content-wrapper\">\r\n          <div className=\"content-wrapper-header items-center\">\r\n            <h1>{name.toUpperCase()}</h1>\r\n            <ol>\r\n              <li className=\"list-style-none text-active\">\r\n                <strong>{module}</strong>\r\n              </li>\r\n              <li className=\"list-style-none text-inactive\">{subTitle}</li>\r\n            </ol>\r\n          </div>\r\n          <div className=\"content-wrapper-main\">\r\n            <SwitchContainer />\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Wrapper;\r\n","import React from \"react\";\r\nimport \"./footer.css\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer>\r\n      <div className=\"center\">\r\n        <p>\r\n           2020-2021 by{\" \"}\r\n          <a\r\n            href=\"https://kemaytechnology.com/\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            Kemay Technology\r\n          </a>\r\n          . Todos los derechos reservados. Si tuviese algn inconveniente por\r\n          favor contactarnos al siguiente correo:\r\n          <a\r\n            href=\"mailto:dperez@kemaytechnology.com\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            dperez@kemaytechnology.com\r\n          </a>\r\n          <br /> Version: 0.0.1 | Powered by\r\n          <a\r\n            href=\"http://github.com/davisperezg\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            @davisperezg\r\n          </a>\r\n        </p>\r\n      </div>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","export const LINK_USER = \"@page/LINK_USER\";\r\n\r\nexport const setLink =\r\n  (module: string, link: string, name: string) => async (dispatch: any) => {\r\n    await dispatch({\r\n      type: LINK_USER,\r\n      payload: {\r\n        link,\r\n        module,\r\n        page: link === \"/\" ? \"DASHBOARD\" : link.toUpperCase(),\r\n        name,\r\n      },\r\n    });\r\n  };\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { MENU_FORBIDDEN, ROLSA } from \"../../const\";\r\nimport { Menu } from \"../../interfaces/menu.interface\";\r\nimport { Module } from \"../../interfaces/module.interface\";\r\nimport { setLink } from \"../../store/page/action\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\n\r\n/** #1\r\n * @param { name, link }: Menu = {}\r\n * @returns name, link\r\n **/\r\n\r\n/** #2\r\n * @param { menu }: {menu: Menu}\r\n * @returns menu.name, menu.link\r\n **/\r\n\r\n/** #3\r\n * menu:Menu\r\n * const {name, link} = menu\r\n * @returns name, link\r\n **/\r\n\r\nconst ListItemMenus = ({\r\n  menu,\r\n  setLink,\r\n  module,\r\n}: {\r\n  menu: Menu;\r\n  setLink: any;\r\n  module: Module;\r\n}) => {\r\n  const history = useHistory();\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n\r\n  const goToPage = () => {\r\n    setLink(module.name, menu.link, menu.name);\r\n    document.title = `RPUM - ${menu.link.toUpperCase()}`;\r\n    history.push(`/${menu.link}`);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {auth?.role?.name === ROLSA ? (\r\n        <li onClick={() => goToPage()}>{menu.name}</li>\r\n      ) : (\r\n        menu.name !== MENU_FORBIDDEN && (\r\n          <li onClick={() => goToPage()}>{menu.name}</li>\r\n        )\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default connect(null, { setLink })(ListItemMenus);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { ChevronRight, ExpandMore } from \"@material-ui/icons\";\r\nimport ListItemMenus from \"./list-item-menus\";\r\nimport { Menu } from \"../../interfaces/menu.interface\";\r\nimport { Module } from \"../../interfaces/module.interface\";\r\n\r\nconst ListItemModules = ({ module }: { module: Module }) => {\r\n  const [isArrowActive, setArrowActive] = useState<Boolean>(false);\r\n  const [isTextModuleActive, setTextModuleActive] = useState<Boolean>(false);\r\n  const findMenus = module.menus;\r\n  const [menus, setMenu] = React.useState<Menu[]>([]);\r\n\r\n  const handleArrow = () => {\r\n    setArrowActive(!isArrowActive);\r\n    setTextModuleActive(!isTextModuleActive);\r\n  };\r\n\r\n  const stylesModuleActive = {\r\n    color: \"#fff\",\r\n    fontWeight: \"bold\",\r\n  };\r\n\r\n  const stylesModuleInactive = {\r\n    color: \"#67677e\",\r\n  };\r\n\r\n  useEffect(() => {\r\n    setMenu(findMenus || []);\r\n  }, [findMenus]);\r\n\r\n  return (\r\n    <>\r\n      <li\r\n        style={isTextModuleActive ? stylesModuleActive : stylesModuleInactive}\r\n        onClick={() => handleArrow()}\r\n      >\r\n        {module.name} {isArrowActive ? <ExpandMore /> : <ChevronRight />}\r\n      </li>\r\n      {isArrowActive && (\r\n        <ul>\r\n          {menus.map((menu) => (\r\n            <ListItemMenus key={menu.id} menu={menu} module={module} />\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ListItemModules;\r\n","export default __webpack_public_path__ + \"static/media/logo_kemay_antena.16ba1da3.png\";","import ListItemModules from \"../wrapper/list-item-modules\";\r\nimport logo from \"../../assets/logo_kemay_antena.png\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Module } from \"../../interfaces/module.interface\";\r\nimport { User } from \"../../interfaces/user.interface\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { setLink } from \"../../store/page/action\";\r\n\r\nimport \"./aside.css\";\r\n\r\nconst Aside = () => {\r\n  const auth: User = useSelector((state: any) => state.authReducer.authUser);\r\n  const { module, page } = useSelector((state: any) => {\r\n    return state.page.user;\r\n  });\r\n  const findModules = auth?.role?.modules;\r\n  const [modules, setModules] = useState<Module[]>([]);\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  const gotToHome = () => {\r\n    history.push(`/`);\r\n    dispatch(setLink(\"Inicio\", \"/\", \"Dashboard\"));\r\n  };\r\n\r\n  useEffect(() => {\r\n    setModules(findModules || []);\r\n  }, [findModules]);\r\n\r\n  return (\r\n    <aside>\r\n      <div className=\"content-logo\">\r\n        <div className=\"logo\" onClick={gotToHome}>\r\n          <img width=\"100\" height=\"100\" src={logo} alt=\"Logo\" />\r\n        </div>\r\n        {/* <div className=\"title-logo\" onClick={gotToHome}>\r\n          <p>KTECH</p>\r\n        </div> */}\r\n      </div>\r\n      <div className=\"sidebar\">\r\n        <ul>\r\n          {modules.map((module) => (\r\n            <ListItemModules key={module.id} module={module} />\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </aside>\r\n  );\r\n};\r\n\r\nexport default Aside;\r\n","import React from \"react\";\r\nimport Header from \"../components/header/header.component\";\r\nimport Wrapper from \"../components/wrapper/wrapper.component\";\r\nimport Footer from \"../components/footer/footer.component\";\r\nimport Aside from \"../components/aside/aside\";\r\nimport \"./css/home.css\";\r\n\r\nconst Home = () => {\r\n  return (\r\n    <>\r\n      <section className=\"menu\">\r\n        <Aside />\r\n      </section>\r\n      <section className=\"content\">\r\n        <div className=\"body\">\r\n          <Header />\r\n          <Wrapper />\r\n        </div>\r\n        <Footer />\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","export default __webpack_public_path__ + \"static/media/B_logo_kemay.bec2fe6e.png\";","/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport { gql, useMutation } from \"@apollo/client\";\r\nimport { Login } from \"../../interfaces/auth.interface\";\r\n\r\ninterface AuthInput {\r\n  variables: {\r\n    authInput: Login;\r\n  };\r\n}\r\n\r\nconst POST_LOGIN = gql`\r\n  mutation login($authInput: AuthInput!) {\r\n    login(authInput: $authInput) {\r\n      access_token\r\n      refresh_token\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useLogin = (): any => {\r\n  const [login] = useMutation(POST_LOGIN);\r\n\r\n  return login;\r\n};\r\n","import React, { useState, ChangeEvent, FormEvent } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport logo from \"../assets/B_logo_kemay.png\";\r\nimport { useLogin } from \"../hooks/login/useLogin\";\r\nimport { Error } from \"../interfaces/error.interface\";\r\nimport { Login } from \"../interfaces/auth.interface\";\r\nimport { setLocal } from \"../lib/local-storage\";\r\nimport client from \"../apollo-client\";\r\nimport { setLoading } from \"../store/auth/action\";\r\nimport { connect } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport \"./css/login.css\";\r\nimport { findError } from \"../helpers/control-errors\";\r\nimport { setAlert } from \"../store/alert/action\";\r\n\r\n//for inputs\r\ntype InputChange = ChangeEvent<HTMLInputElement | HTMLTextAreaElement>;\r\n//for selects\r\n//type SelectChange = ChangeEvent<HTMLSelectElement>;\r\n//for forms\r\ntype FormChange = FormEvent<HTMLFormElement>;\r\n\r\nconst initialUser = {\r\n  email: \"\",\r\n  password: \"\",\r\n};\r\n\r\nconst initialError = {\r\n  path: \"\",\r\n  message: \"\",\r\n};\r\n\r\nconst mapStateToProps = (state: any) => {\r\n  return {\r\n    loading: state.authReducer.loading,\r\n  };\r\n};\r\n\r\nconst LoginPage: React.FC = ({ loading, setLoading }: any) => {\r\n  const [error, setError] = useState<Error>(initialError);\r\n  const [user, setUser] = useState<Login>(initialUser);\r\n  const alert = useSelector((state: any) => state.message);\r\n  const loginForm = useLogin();\r\n  const dispatch = useDispatch();\r\n\r\n  const handleInputChange = (e: InputChange) => {\r\n    dispatch(\r\n      setAlert({\r\n        type: \"\",\r\n        text: \"\",\r\n      })\r\n    );\r\n    setError(initialError);\r\n    setUser({ ...user, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e: FormChange) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      const res = await loginForm({\r\n        variables: {\r\n          authInput: { email: user.email, password: user.password },\r\n        },\r\n      });\r\n\r\n      const {\r\n        data: {\r\n          login: { access_token, refresh_token },\r\n        },\r\n      } = res;\r\n\r\n      setLocal(\"accessToken\", access_token);\r\n      setLocal(\"refreshToken\", refresh_token);\r\n      client.resetStore();\r\n      window.location.href = \"/\";\r\n    } catch (e) {\r\n      if (e.graphQLErrors[0].extensions.exception.status === 401) {\r\n        dispatch(\r\n          setAlert({\r\n            type: \"error\",\r\n            text: findError(e),\r\n          })\r\n        );\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      setError(e.graphQLErrors[0].extensions.exception.response);\r\n      setLoading(false);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"content-login-logo content-items-center\">\r\n        <img width=\"450\" height=\"400\" src={logo} alt=\"Logo\" />\r\n      </div>\r\n      <div className=\"content-login-form content-items-center\">\r\n        <div className=\"content-login-form-main\">\r\n          <div className=\"content-login-form-header content-items-center\">\r\n            <h1>ACCESO AL SISTEMA</h1>\r\n          </div>\r\n          {alert.type && <Alert severity={alert.type}>{alert.text}</Alert>}\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"content-login-form-body\">\r\n              <div className=\"content-login-form-input\">\r\n                <TextField\r\n                  error={error?.path === \"username\" ? true : false}\r\n                  id=\"idUsername\"\r\n                  label=\"Usuario\"\r\n                  helperText={error?.path === \"username\" ? error?.message : \"\"}\r\n                  name=\"email\"\r\n                  onChange={handleInputChange}\r\n                  variant=\"outlined\"\r\n                  fullWidth\r\n                />\r\n              </div>\r\n              <br />\r\n              <div className=\"content-login-form-input\">\r\n                <TextField\r\n                  error={error?.path === \"password\" ? true : false}\r\n                  id=\"idPassword\"\r\n                  label=\"Contrasea\"\r\n                  helperText={error?.path === \"password\" ? error?.message : \"\"}\r\n                  name=\"password\"\r\n                  onChange={handleInputChange}\r\n                  variant=\"outlined\"\r\n                  type=\"password\"\r\n                  fullWidth\r\n                />\r\n              </div>\r\n              <br />\r\n              <div className=\"content-login-form-input content-items-center\">\r\n                {loading ? (\r\n                  <CircularProgress />\r\n                ) : (\r\n                  <Button\r\n                    disabled={loading ? true : false}\r\n                    type=\"submit\"\r\n                    size=\"large\"\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    fullWidth\r\n                  >\r\n                    Iniciar sesion\r\n                  </Button>\r\n                )}\r\n              </div>\r\n              <br />\r\n              <div className=\"content-login-form-footer content-items-center\">\r\n                Olvidaste tu contrasea?\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, { setLoading })(LoginPage);\r\n","import React from \"react\";\r\nimport { Redirect, BrowserRouter as Router } from \"react-router-dom\";\r\nimport { getLocal } from \"../../lib/local-storage\";\r\nimport Home from \"../../pages/home.page\";\r\nimport LoginPage from \"../../pages/login.page\";\r\n\r\nconst App: React.FC = () => {\r\n  return (\r\n    <Router>\r\n      {getLocal(\"accessToken\") ? (\r\n        <Home />\r\n      ) : (\r\n        <>\r\n          <LoginPage />\r\n          <Redirect to=\"/\" />\r\n        </>\r\n      )}\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { LOADING_USER, ERROR_USER, LOGIN_USER, LOGOUT_USER } from \"./action\";\r\n\r\ninterface RootState {\r\n  loading: boolean;\r\n  authUser: undefined;\r\n  error: undefined;\r\n}\r\n\r\nconst initialState: RootState = {\r\n  loading: false,\r\n  authUser: undefined,\r\n  error: undefined,\r\n};\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state: RootState = initialState, action: any) => {\r\n  switch (action.type) {\r\n    case LOADING_USER:\r\n      return {\r\n        ...state,\r\n        loading: action.payload,\r\n      };\r\n\r\n    case LOGIN_USER:\r\n      return {\r\n        ...state,\r\n        authUser: action.payload,\r\n      };\r\n\r\n    case LOGOUT_USER:\r\n      return {\r\n        ...state,\r\n        authUser: action.payload,\r\n      };\r\n\r\n    case ERROR_USER:\r\n      return {\r\n        ...state,\r\n        error: action.payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { LINK_USER } from \"./action\";\r\n\r\ninterface RootState {\r\n  user: {\r\n    link: string;\r\n    module: string;\r\n    page: string;\r\n    name: string;\r\n  };\r\n}\r\n\r\nconst initialState = {\r\n  user: {\r\n    link: \"/\",\r\n    module: \"Inicio\",\r\n    page: \"DASHBOARD\",\r\n    name: \"Dashboard\",\r\n  },\r\n};\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state: RootState = initialState, action: any) => {\r\n  switch (action.type) {\r\n    case LINK_USER:\r\n      return {\r\n        ...state,\r\n        user: action.payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { IAlert } from \"../../interfaces/alert.interface\";\r\nimport { ALERT } from \"./action\";\r\n\r\nconst initialState: IAlert = {\r\n  type: \"\",\r\n  text: \"\",\r\n};\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state: any = initialState, action: any) => {\r\n  switch (action.type) {\r\n    case ALERT:\r\n      return action.payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore, combineReducers, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport { persistStore, persistReducer } from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\n\r\nimport authReducer from \"./auth/reducer\";\r\nimport pageReducer from \"./page/reducer\";\r\nimport alertReducer from \"./alert/reducer\";\r\n\r\nconst reducers = combineReducers({\r\n  authReducer,\r\n  page: pageReducer,\r\n  message: alertReducer,\r\n});\r\n\r\nconst persistConfig = {\r\n  key: \"root\",\r\n  storage,\r\n  whitelist: [\"page\"],\r\n};\r\n\r\nconst persistedReducer = persistReducer(persistConfig, reducers);\r\n\r\nexport const store = createStore(\r\n  persistedReducer,\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n);\r\n\r\nexport const persistor = persistStore(store);\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/app/app.component\";\nimport { ApolloProvider } from \"@apollo/client\";\nimport { Provider } from \"react-redux\";\nimport { store, persistor } from \"./store/index\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport client from \"./apollo-client\";\nimport \"./pages/css/index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ApolloProvider client={client}>\n      <Provider store={store}>\n        <PersistGate loading={null} persistor={persistor}>\n          <App />\n        </PersistGate>\n      </Provider>\n    </ApolloProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","import { gql, useQuery } from \"@apollo/client\";\r\n\r\nexport const GET_MODULES = gql`\r\n  query getModules {\r\n    getModules {\r\n      id\r\n      name\r\n      description\r\n      createdAt\r\n      updatedAt\r\n      menus {\r\n        id\r\n        name\r\n        link\r\n      }\r\n      access {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const useGetModules = () => {\r\n  const { data, loading, error } = useQuery(GET_MODULES);\r\n  return { data, loading, error };\r\n};\r\n"],"sourceRoot":""}